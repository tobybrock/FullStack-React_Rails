(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{"./app/common/components/ExportPopoverContent/ExportPopoverContent.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/ExportPopoverContent/ExportPopoverContent.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/common/components/ExportPopoverContent/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"ExportPopoverContent",(function(){return k}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),s={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardExport"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idExport"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"export"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idExport"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attempts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"finished"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stage"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]}]}}]}}]}}]};var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"StartBoardExport"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"startBoardExport"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attempts"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"finished"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stage"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]}]}}]}}]};var c=n("./app/src/components/PrimaryButton/index.ts"),l=n("./app/common/lib/util/i18n/index.ts"),u=n("./app/common/components/ExportPopoverContent/ExportPopoverContent.less"),d=n.n(u),p=n("./app/common/lib/util/date.ts"),f=n("./app/gamma/src/util/dates.ts");function m(e){for(var t=["B","KB","MB","GB"],n=e,r=0;r<t.length;r++){if(n<1024||r===t.length-1)return e=Math.round(100*n)/100,"".concat(e," ").concat(t[r]);n/=1024}return"unknown"}var h=n("./app/src/components/Spinner/index.ts"),g=n("./packages/analytics/index.ts"),v=n("./packages/atlassian-analytics/index.ts");function b(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return y(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=Object(l.forTemplate)("popover_share"),k=function(e){var t,n=e.idBoard,l=e.idOrg,u=(t={variables:{idBoard:n,idExport:"mostRecent"}},o.c(s,t)),y=u.data,k=u.startPolling,j=u.stopPolling,x=y&&y.board&&y.board.export&&y.board.export.status.finished,_=b(Object(r.useState)(!1),2),O=_[0],C=_[1],S=b(Object(r.useState)(y&&y.board&&!!y.board.export),2),E=S[0],P=S[1];Object(r.useEffect)((function(){E?x||(C(!0),k(1e3)):C(!1)}),[E,x,k]),Object(r.useEffect)((function(){x&&(C(!1),j())}),[y,x,j]);var T=b(function(e){return o.b(a,e)}(),1)[0];if(Object(r.useEffect)((function(){Object(g.trackUe)({category:g.Noun.BOARDS_MENU,verb:g.Verb.SHOWS,directObj:g.Noun.EXPORT_POPOVER,context:{boardId:n,organizationId:l}}),v.Analytics.sendScreenEvent({name:"exportBoardInlineDialog"})}),[n,l]),!y||!y.board)return i.a.createElement("div",null,i.a.createElement(h.a,{centered:!0}));y&&y.board&&y.board.idOrganization&&(l=y.board.idOrganization);return i.a.createElement("div",null,y.board.export&&y.board.export.status.finished&&!O&&i.a.createElement("p",null,w("last-exported",{timeOfLastExport:Object(f.a)(Object(p.idToDate)(y.board.export.id),new Date),sizeOfExport:"number"==typeof y.board.export.size?m(y.board.export.size):"unknown"})),O&&E&&i.a.createElement("p",null,w("exporting-ellipsis")),!y.board.export&&!E&&i.a.createElement("p",{className:d.a.exportHistoryText},w("no-export-history")),i.a.createElement("div",{className:d.a.buttons},i.a.createElement(c.a,{onClick:function(){P(!0),C(!0),T({variables:{id:n}}).then((function(){k(1e3)})),Object(g.trackUe)({category:g.Noun.BOARDS_MENU,verb:g.Verb.CLICKS,directObj:g.Noun.EXPORT_BOARD,context:{boardId:n,organizationId:l}}),v.Analytics.sendClickedButtonEvent({buttonName:"exportButton",source:"exportBoardInlineDialog",containers:{board:{id:n},organization:{id:l}}})},className:d.a.exportButton,disabled:O},w("export")),y.board.export&&!O&&i.a.createElement("a",{className:d.a.downloadLink,href:"/1/boards/".concat(n,"/exports/").concat(y.board.export.id,"/download"),onClick:function(){Object(g.trackUe)({category:g.Noun.BOARDS_MENU,verb:g.Verb.CLICKS,directObj:g.Noun.DOWNLOAD_BOARD_EXPORT,context:{boardId:n,organizationId:l}}),v.Analytics.sendClickedLinkEvent({linkName:"downloadLink",source:"exportBoardInlineDialog",containers:{board:{id:n},organization:{id:l}}})}},w("download"))))}},"./app/common/lib/util/print.ts":function(e,t,n){"use strict";n.r(t),t.default=function(){navigator.vendor.includes("Apple")?document.execCommand("print"):window.print()}},"./app/gamma/src/util/dates.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("./app/common/lib/util/i18n/index.ts"),i=n("./node_modules/moment/moment.js"),o=n.n(i),s=Object(r.forNamespace)(),a=function(e,t){var n=o()(e),r=o()(t);return n.isSame(r,"day")?Math.abs(r.diff(e,"seconds"))<10?s("just now"):n.from(t):n.calendar(t)}},"./app/scripts/data/latest-power-ups-message.js":function(e,t,n){var r=n("./node_modules/underscore/underscore.js"),i=n("./app/scripts/data/new-power-ups.js"),o=r.chain(i).values().max().value();e.exports=o>Date.now()?"NewPowerUps_".concat(o.toISOString().substr(0,10)):void 0},"./app/scripts/data/new-power-ups.js":function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=n("./node_modules/underscore/underscore.js");e.exports=o.chain({"55a5d917446f51777421000d":"2016-08-07","56d5e249a98895a9797bebb9":"2016-08-23","570262ea1100fa611d7e200a":"2016-08-23","56cdf5f7071f133a93eb2363":"2016-08-23","57b47fb862d25a30298459b1":"2016-08-23"}).pairs().map((function(){var e=Array.from(arguments.length<=0?void 0:arguments[0]),t=r(e,2),n=t[0],i=t[1];return[n,new Date(Date.parse(i))]})).object().value()},"./app/scripts/data/stickers.js":function(e,t,n){e.exports={standard:{premium:!1,stickers:[{image:"check",url:n("./resources/images/stickers/check.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/check.png")},{width:200,height:200,url:n("./resources/images/stickers/check@2x.png")}]},{image:"heart",url:n("./resources/images/stickers/heart.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/heart.png")},{width:200,height:200,url:n("./resources/images/stickers/heart@2x.png")}]},{image:"warning",url:n("./resources/images/stickers/warning.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/warning.png")},{width:200,height:200,url:n("./resources/images/stickers/warning@2x.png")}]},{image:"clock",url:n("./resources/images/stickers/clock.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/clock.png")},{width:200,height:200,url:n("./resources/images/stickers/clock@2x.png")}]},{image:"smile",url:n("./resources/images/stickers/smile.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/smile.png")},{width:200,height:200,url:n("./resources/images/stickers/smile@2x.png")}]},{image:"laugh",url:n("./resources/images/stickers/laugh.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/laugh.png")},{width:200,height:200,url:n("./resources/images/stickers/laugh@2x.png")}]},{image:"huh",url:n("./resources/images/stickers/huh.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/huh.png")},{width:200,height:200,url:n("./resources/images/stickers/huh@2x.png")}]},{image:"frown",url:n("./resources/images/stickers/frown.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/frown.png")},{width:200,height:200,url:n("./resources/images/stickers/frown@2x.png")}]},{image:"thumbsup",url:n("./resources/images/stickers/thumbsup.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/thumbsup.png")},{width:200,height:200,url:n("./resources/images/stickers/thumbsup@2x.png")}]},{image:"thumbsdown",url:n("./resources/images/stickers/thumbsdown.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/thumbsdown.png")},{width:200,height:200,url:n("./resources/images/stickers/thumbsdown@2x.png")}]},{image:"star",url:n("./resources/images/stickers/star.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/star.png")},{width:200,height:200,url:n("./resources/images/stickers/star@2x.png")}]},{image:"rocketship",url:n("./resources/images/stickers/rocketship.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/rocketship.png")},{width:200,height:200,url:n("./resources/images/stickers/rocketship@2x.png")}]}]},taco:{premium:!0,stickers:[{image:"taco-love",url:n("./resources/images/stickers/taco-love.png"),scaled:[{width:140,height:140,url:n("./resources/images/stickers/taco-love.png")},{width:280,height:280,url:n("./resources/images/stickers/taco-love@2x.png")}]},{image:"taco-confused",url:n("./resources/images/stickers/taco-confused.png"),scaled:[{width:140,height:140,url:n("./resources/images/stickers/taco-confused.png")},{width:280,height:280,url:n("./resources/images/stickers/taco-confused@2x.png")}]},{image:"taco-cool",url:n("./resources/images/stickers/taco-cool.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/taco-cool.png")},{width:200,height:200,url:n("./resources/images/stickers/taco-cool@2x.png")}]},{image:"taco-angry",url:n("./resources/images/stickers/taco-angry.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/taco-angry.png")},{width:200,height:200,url:n("./resources/images/stickers/taco-angry@2x.png")}]},{image:"taco-celebrate",url:n("./resources/images/stickers/taco-celebrate.png"),scaled:[{width:140,height:140,url:n("./resources/images/stickers/taco-celebrate.png")},{width:280,height:280,url:n("./resources/images/stickers/taco-celebrate@2x.png")}]},{image:"taco-robot",url:n("./resources/images/stickers/taco-robot.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/taco-robot.png")},{width:200,height:200,url:n("./resources/images/stickers/taco-robot@2x.png")}]},{image:"taco-alert",url:n("./resources/images/stickers/taco-alert.png"),scaled:[{width:140,height:140,url:n("./resources/images/stickers/taco-alert.png")},{width:280,height:280,url:n("./resources/images/stickers/taco-alert@2x.png")}]},{image:"taco-active",url:n("./resources/images/stickers/taco-active.png"),scaled:[{width:140,height:140,url:n("./resources/images/stickers/taco-active.png")},{width:280,height:280,url:n("./resources/images/stickers/taco-active@2x.png")}]},{image:"taco-money",url:n("./resources/images/stickers/taco-money.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/taco-money.png")},{width:200,height:200,url:n("./resources/images/stickers/taco-money@2x.png")}]},{image:"taco-reading",url:n("./resources/images/stickers/taco-reading.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/taco-reading.png")},{width:200,height:200,url:n("./resources/images/stickers/taco-reading@2x.png")}]},{image:"taco-trophy",url:n("./resources/images/stickers/taco-trophy.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/taco-trophy.png")},{width:200,height:200,url:n("./resources/images/stickers/taco-trophy@2x.png")}]},{image:"taco-sleeping",url:n("./resources/images/stickers/taco-sleeping.png"),scaled:[{width:140,height:140,url:n("./resources/images/stickers/taco-sleeping.png")},{width:280,height:280,url:n("./resources/images/stickers/taco-sleeping@2x.png")}]},{image:"taco-pixel",url:n("./resources/images/stickers/taco-pixel.png"),scaled:[{width:140,height:140,url:n("./resources/images/stickers/taco-pixel.png")},{width:280,height:280,url:n("./resources/images/stickers/taco-pixel@2x.png")}]},{image:"taco-proto",url:n("./resources/images/stickers/taco-proto.png"),scaled:[{width:140,height:140,url:n("./resources/images/stickers/taco-proto.png")},{width:280,height:280,url:n("./resources/images/stickers/taco-proto@2x.png")}]},{image:"taco-embarrassed",url:n("./resources/images/stickers/taco-embarrassed.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/taco-embarrassed.png")},{width:200,height:200,url:n("./resources/images/stickers/taco-embarrassed@2x.png")}]},{image:"taco-clean",url:n("./resources/images/stickers/taco-clean.png"),scaled:[{width:140,height:140,url:n("./resources/images/stickers/taco-clean.png")},{width:280,height:280,url:n("./resources/images/stickers/taco-clean@2x.png")}]}]},pete:{premium:!0,stickers:[{image:"pete-happy",url:n("./resources/images/stickers/pete-happy.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-happy.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-happy@2x.png")}]},{image:"pete-love",url:n("./resources/images/stickers/pete-love.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-love.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-love@2x.png")}]},{image:"pete-broken",url:n("./resources/images/stickers/pete-broken.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-broken.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-broken@2x.png")}]},{image:"pete-alert",url:n("./resources/images/stickers/pete-alert.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-alert.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-alert@2x.png")}]},{image:"pete-talk",url:n("./resources/images/stickers/pete-talk.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-talk.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-talk@2x.png")}]},{image:"pete-vacation",url:n("./resources/images/stickers/pete-vacation.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-vacation.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-vacation@2x.png")}]},{image:"pete-confused",url:n("./resources/images/stickers/pete-confused.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-confused.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-confused@2x.png")}]},{image:"pete-shipped",url:n("./resources/images/stickers/pete-shipped.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-shipped.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-shipped@2x.png")}]},{image:"pete-busy",url:n("./resources/images/stickers/pete-busy.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-busy.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-busy@2x.png")}]},{image:"pete-completed",url:n("./resources/images/stickers/pete-completed.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-completed.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-completed@2x.png")}]},{image:"pete-space",url:n("./resources/images/stickers/pete-space.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-space.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-space@2x.png")}]},{image:"pete-sketch",url:n("./resources/images/stickers/pete-sketch.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-sketch.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-sketch@2x.png")}]},{image:"pete-ghost",url:n("./resources/images/stickers/pete-ghost.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-ghost.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-ghost@2x.png")}]},{image:"pete-award",url:n("./resources/images/stickers/pete-award.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-award.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-award@2x.png")}]},{image:"pete-music",url:n("./resources/images/stickers/pete-music.png"),scaled:[{width:100,height:100,url:n("./resources/images/stickers/pete-music.png")},{width:200,height:200,url:n("./resources/images/stickers/pete-music@2x.png")}]}]}}},"./app/scripts/lib/util/selection/has-selection-in.coffee":function(e,t){e.exports=function(e){var t,n,r;return r=(n=window.getSelection()).toString(),t=n.anchorNode,!!r&&!!e.find(t).length}},"./app/scripts/views/archive/archive-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./app/scripts/views/archive/archived-cards-view.js"),u=n("./app/scripts/views/archive/archived-lists-view.js"),d=n("./app/scripts/lib/util/index.coffee"),p=n("./app/scripts/views/internal/view.coffee"),f=n("./app/scripts/views/internal/templates.coffee"),m=n("./app/scripts/lib/localize.coffee"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(b,e);var t,p,h,g,v=(t=b,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function b(){return r(this,b),v.apply(this,arguments)}return p=b,g=[{key:"initClass",value:function(){this.prototype.viewTitleKey="archive",this.prototype.className="board-menu-content-frame",this.prototype.events={"click .js-switch-section":"didClickSwitchSections","input .js-search":"searchChanged"}}}],(h=[{key:"initialize",value:function(){return this.searchText=this.slot(""),this.cardsView=this.subview(l,this.model,{searchText:this.searchText}).render(),this.listsView=this.subview(u,this.model,{searchText:this.searchText}).render(),this.activeSubview=this.slot(this.cardsView)}},{key:"searchChanged",value:function(){return this.searchText.set(this.$searchInput.val().trim())}},{key:"didClickSwitchSections",value:function(e){var t,n,r;return this.activeSubview.set((t=this.activeSubview.get(),n=this.cardsView,r=this.listsView,t===n?r:n)),this.$searchInput.focus(),d.stop(e)}},{key:"injectSubview",value:function(e){return this.$(".js-archive-content").append(e.el),e.didBecomeActive()}},{key:"renderOnce",value:function(){var e=this;return this.$el.html(f.fill(n("./app/scripts/views/templates/board_archive.js"))),this.$searchInput=this.$(".js-search"),this.subscribeChanges(this.activeSubview,{in:this.injectSubview,out:e=>e.$el.detach()}),this.watch("activeSubview",(function(t){var n=t===e.cardsView?"switch to archived lists":"switch to archived cards";return e.$(".js-switch-section").text(m(n))})),this.watch("activeSubview.isLoading",(function(t){return e.$(".js-loading-spinner").toggleClass("hide",!t),e.$(".js-archive-content").toggleClass("hide",t)})),this}}])&&i(p.prototype,h),g&&i(p,g),b}(p);h.initClass(),e.exports=h},"./app/scripts/views/archive/archived-card-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./packages/jquery/index.js"),u=n("./packages/atlassian-analytics/index.ts").Analytics,d=n("./app/scripts/views/card/card-view.js"),p=n("./app/scripts/views/card/card-limits-error.js").maybeDisplayLimitsErrorOnCardOpen,f=n("./app/scripts/views/lib/confirm.coffee"),m=n("./app/scripts/controller/index.js"),h=n("./app/scripts/views/lib/dialog.coffee"),g=n("./packages/feature-flag-client/index.ts").featureFlagClient,v=n("./app/scripts/lib/util/index.coffee"),b=n("./app/scripts/views/internal/view.coffee"),y=n("./app/scripts/views/templates/archived_card_options.js"),w=n("./packages/analytics/index.ts").track,k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(x,e);var t,n,b,k,j=(t=x,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function x(){return r(this,x),j.apply(this,arguments)}return n=x,k=[{key:"initClass",value:function(){this.prototype.tagName="div",this.prototype.className="archived-list-card",this.prototype.events={"click .list-card":"openCard","click .js-delete":"deleteModel","click .js-reopen":"reopen"},this.prototype.vigor=this.VIGOR.NONE}}],(b=[{key:"initialize",value:function(){return this.sendGASEvent=g.get("dataeng.gasv3-event-tracking",!1)}},{key:"renderOnce",value:function(){var e=this.subview(d,this.model,{dontFilter:!0,quickEditHidden:!0});return e.render(),this.$el.append(e.el),this.$el.append(y({editable:this.model.editable(),canDelete:this.options.canDelete,canReopen:null!=this.model.getList(),reOpenText:this.options.reOpenText})),this}},{key:"openCard",value:function(e){v.stop(e),m.showCardDetail(this.model),h.calcPos()}},{key:"deleteModel",value:function(e){var t,n,r=this;v.stop(e),f.toggle("delete card",{elem:(t=l(e.target).closest(".js-delete"),n=function(e){return e[0]},null!=t?n(t):void 0),model:this.model,confirmBtnClass:"negate",fxConfirm:function(){if(r.model.destroy(),w("Card","Delete","Via Archive"),r.sendGASEvent)return u.sendTrackEvent({action:"deleted",actionSubject:"card",source:"archiveScreen",containers:{card:{id:r.model.id},list:{id:r.model.getList().id},board:{id:r.model.getBoard().id}}})}})}},{key:"reopen",value:function(e){var t=this;v.preventDefault(e);var n={$elem:l(e.target),hasAttachments:this.model.attachmentList.length>0,destinationBoard:this.model.getBoard(),destinationList:this.model.getList()};if(!p(n))return this.model.update({closed:!1},(function(){if(w("Card","Reopen","Via Archive"),t.sendGASEvent)return u.sendTrackEvent({action:"reopened",actionSubject:"card",source:"archiveScreen",containers:{card:{id:t.model.id},list:{id:t.model.getList().id},board:{id:t.model.getBoard().id}}})})),!1}}])&&i(n.prototype,b),k&&i(n,k),x}(b);k.initClass(),e.exports=k},"./app/scripts/views/archive/archived-cards-view.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n("./packages/atlassian-analytics/index.ts").Analytics,p=n("./app/scripts/views/archive/archived-card-view.js"),f=n("./app/scripts/views/archive/search-help-view.js"),m=n("./app/scripts/lib/dates.coffee"),h=n("./packages/feature-flag-client/index.ts").featureFlagClient,g=n("./app/scripts/db/model-loader.coffee"),v=n("./app/scripts/views/internal/view.coffee"),b=n("./node_modules/underscore/underscore.js"),y=n("./app/scripts/views/internal/templates.coffee"),w=n("./app/scripts/lib/localize.coffee"),k=n("./node_modules/effing/lib/index.js"),j=n("./packages/analytics/index.ts").track,x=n("./app/scripts/views/lib/pop-over.coffee"),_=n("./app/scripts/lib/util/index.coffee"),O=void 0,C=void 0,S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(P,e);var t,i,v,S,E=(t=P,function(){var e,n=u(t);if(l()){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return c(this,e)});function P(){return o(this,P),E.apply(this,arguments)}return i=P,S=[{key:"initClass",value:function(){this.prototype.CARDS_PER_PAGE=30,this.prototype.SEARCH_LIMIT=50,O={},C=function(e){var t=O;return{lease(){var n=function n(){t!==O&&n!==t||e.apply(this,arguments)};return t=n,n}}},this.prototype.events={"click .js-more-cards":"getMoreCards","click .js-show-search-tips":"showSearchTips"},this.prototype.vigor=this.VIGOR.SOME}}],(v=[{key:"initialize",value:function(e){var t=this,n=e.searchText;this.searchText=n,this.isLoadingInitialCards=this.slot(!1),this.isLoadingMoreCards=this.slot(!1),this.isLoadingSearchResults=this.slot(!1),this.tooManySearchResults=this.slot(!1),this.isLoading=this.using(this.isLoadingInitialCards.or(this.isLoadingSearchResults)),this.isSearching=this.using(this.searchText.map((function(e){return e.length>0})).distinct()),this.hasMoreCards=this.slot(!1),this.searchResults=this.slot([]),this.sortedContiguousCards=this.slot([]),this.sendGASEvent=h.get("dataeng.gasv3-event-tracking",!1),this.updateSearchCallback=C((function(e){var n=e.map((function(e){return t.modelCache.get("Card",e.id)}));return t.tooManySearchResults.set(n.length===t.SEARCH_LIMIT),t.searchResults.set(n),t.isLoadingSearchResults.set(!1)}));var i=function(e){return t.sortedContiguousCards.set(b.without(t.sortedContiguousCards.get(),e)),t.searchResults.set(b.without(t.searchResults.get(),e))};return this.listenTo(this.modelCache,{"remove:Card":i,"change:Card:closed":function(e){e.get("idBoard")===t.model.id&&(e.get("closed")?t.sortedContiguousCards.set([e].concat(r(Array.from(t.sortedContiguousCards.get())))):i(e))}}),this.cards=this.using(this.isSearching.if(this.searchResults,this.sortedContiguousCards))}},{key:"didBecomeActive",value:function(){var e=this;if(!this.hasBeenActiveBefore){this.hasBeenActiveBefore=!0;var t={limit:this.CARDS_PER_PAGE};return this.isLoadingInitialCards.set(!0),g.loadClosedCards(this.model.id,t).tap(k(this,"didLoadContiguousCards")).finally((function(){return e.isLoadingInitialCards.set(!1)})).done()}}},{key:"didLoadContiguousCards",value:function(e){var t=this;this.hasMoreCards.set(e.length===this.CARDS_PER_PAGE);var n=b.sortBy(e,(function(e){return-t.cardSortRank(e)})),i=[].concat(r(Array.from(this.sortedContiguousCards.get())),r(Array.from(n)));return this.sortedContiguousCards.set(b.uniq(i))}},{key:"cardSortRank",value:function(e){var t,n,r,i;return null!=(n=m.parse(e.get("dateLastActivity")),r="getTime",i=function(e){return e.getTime()},t=null!=n&&"function"==typeof n[r]?i(n,r):void 0)?t:null}},{key:"getMoreCards",value:function(){var e=this,t=b.last(this.sortedContiguousCards.get()),n={limit:this.CARDS_PER_PAGE,before:null!=t?this.cardSortRank(t):null};return this.isLoadingMoreCards.set(!0),g.loadClosedCards(this.model.id,n).tap(k(this,"didLoadContiguousCards")).finally((function(){return e.isLoadingMoreCards.set(!1)})).done()}},{key:"renderOnce",value:function(){this.$el.html(y.fill(n("./app/scripts/views/templates/archived_cards.js"))),this.watch("isLoadingMoreCards",(function(e){return this.$(".js-more-cards").attr("disabled",e)}));var e=this.hasMoreCards.and(this.isSearching.not());this.subscribe(e,(function(e){return this.$(".js-more-cards").toggleClass("hide",!e)})),this.$(".js-search-message").html(w("too many results",{limit:"<strong>".concat(this.SEARCH_LIMIT.toString(),"+</strong>"),learnMoreLink:'<a class="js-show-search-tips" href="#">'.concat(w("learn more"),"</a>")},{raw:!0}));var t=this.tooManySearchResults;this.subscribe(t,(function(e){return this.$(".js-search-message").toggleClass("hide",!e)})),this.watch("isSearching",(function(e){var t=e?"no results":"no archived cards";return this.$(".js-empty-message").text(w(t))})),this.watch("cards",(function(e){return this.$(".js-empty-message").toggleClass("hide",e.length>0)})),this.watch("isLoadingSearchResults",(function(e){return this.$(".js-search-loading").toggleClass("hide",!e)}));var r=this.debounce(this.loadSearchResults,400);return this.subscribe(this.searchText.filter((function(e){return e.length>0})),(function(){return this.isLoadingSearchResults.set(!0),r.call(this)})),this.subscribe(this.cards,this.frameDebounce(this.renderCards))}},{key:"loadSearchResults",value:function(){var e={query:"is:archived ".concat(this.searchText.get()),modelTypes:"cards",idBoards:this.model.id,card_stickers:!0,card_attachments:"cover",partial:!0,cards_limit:this.SEARCH_LIMIT};return g.loadSearchData(e).get("cards").then(this.updateSearchCallback.lease()).done()}},{key:"renderCards",value:function(){var e=this,t=this.$(".js-archive-items");t.children().detach();var n=Array.from(this.cards.get()).map((function(t){return e.subview(p,t,{reOpenText:w("unarchive card"),canDelete:!0})}));this.appendSubviews(n,t)}},{key:"showSearchTips",value:function(e){_.stop(e),j("Board Menu","Archived Cards Search","Learn More"),this.sendGASEvent&&d.sendClickedLinkEvent({linkName:"showSearchTipsLink",source:"archiveScreen",containers:{board:{id:this.model.id}}}),x.toggle({elem:e.target,view:f})}}])&&s(i.prototype,v),S&&s(i,S),P}(v);S.initClass(),e.exports=S},"./app/scripts/views/archive/archived-list-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./packages/jquery/index.js"),u=n("./packages/analytics/index.ts").track,d=(n("./app/scripts/debug/log.js"),n("./app/scripts/lib/util/index.coffee")),p=n("./app/scripts/views/archive/archived-model-view.js"),f=n("./app/scripts/views/card/card-limits-error.js").maybeDisplayLimitsErrorOnCardOpen,m=n("./app/scripts/views/templates/archive_item.js"),h=n("./packages/atlassian-analytics/index.ts").Analytics,g=n("./packages/feature-flag-client/index.ts").featureFlagClient,v=n("./app/scripts/db/model-loader.coffee");e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(w,e);var t,n,p,b,y=(t=w,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function w(){return r(this,w),y.apply(this,arguments)}return n=w,(p=[{key:"initialize",value:function(){return this.sendGASEvent=g.get("dataeng.gasv3-event-tracking",!1)}},{key:"reopen",value:function(e){var t=this;return d.preventDefault(e),v.loadListCards(this.model.id).then((function(){var n=!1;t.model.cardList.forEach((function(e){var t,r,i,o=null!=(r=e.get("badges"),i=function(e){return e.attachments},t=null!=r?i(r):void 0)?t:0;return n=n||o>0}));var r={$elem:l(e.target),hasAttachments:n,destinationBoard:t.model.getBoard()};if(!f(r))return t.model.update({closed:!1},(function(e){if(null!=e)throw t.model.update({closed:!0}),u("List","Reopen","Via Archive","Failed"),t.sendGASEvent&&h.sendTrackEvent({action:"reopened",actionSubject:"list",source:"archiveScreen",containers:{list:{id:t.model.id},board:{id:t.model.getBoard().id}},attributes:{succeeded:!1}}),e;if(u("List","Reopen","Via Archive"),t.sendGASEvent)return h.sendTrackEvent({action:"reopened",actionSubject:"list",source:"archiveScreen",containers:{list:{id:t.model.id},board:{id:t.model.getBoard().id}},attributes:{succeeded:!0}})}))})),!1}},{key:"render",value:function(){return this.$el.html(m({name:this.model.get("name"),url:"function"==typeof this.model.getUrl?this.model.getUrl():void 0,reOpenText:this.options.reOpenText,canDelete:this.canDelete(),canReopen:this.canReopen(),canLeave:this.canLeave(),deleting:"function"==typeof this.model.isDeleting?this.model.isDeleting():void 0})),this}}])&&i(n.prototype,p),b&&i(n,b),w}(p)},"./app/scripts/views/archive/archived-lists-view.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return s(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=n("./app/scripts/views/archive/archived-list-view.js"),m=n("./app/scripts/db/model-loader.coffee"),h=n("./app/scripts/lib/util/index.coffee"),g=n("./app/scripts/views/internal/view.coffee"),v=n("./node_modules/underscore/underscore.js"),b=n("./app/scripts/views/internal/templates.coffee"),y=n("./app/scripts/lib/localize.coffee"),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(k,e);var t,o,s,g,w=(t=k,function(){var e,n=p(t);if(d()){var r=p(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return u(this,e)});function k(){return a(this,k),w.apply(this,arguments)}return o=k,g=[{key:"initClass",value:function(){this.prototype.hasBeenActiveBefore=!1,this.prototype.vigor=this.VIGOR.SOME}}],(s=[{key:"initialize",value:function(e){var t=this,n=e.searchText;return this.searchText=n,this.isLoading=this.slot(!0),this.allArchivedLists=this.slot([]),this.sortedFilteredLists=this.allArchivedLists.combine(this.searchText).map((function(){var e,t,n=Array.from(arguments.length<=0?void 0:arguments[0]),r=i(n,2);if(e=r[0],""===(t=r[1]))return e;var o=h.buildFuzzyMatcher(t);return v.filter(e,(function(e){return o(e.get("name"))}))})).map((function(e){return v.sortBy(e,(function(e){return e.get("name")}))})),this.using(this.sortedFilteredLists),this.listenTo(this.modelCache,"change:List:closed",(function(e){return e.get("closed")?t.allArchivedLists.set([e].concat(r(Array.from(t.allArchivedLists.get())))):t.allArchivedLists.set(v.without(t.allArchivedLists.get(),e))}))}},{key:"didBecomeActive",value:function(){var e=this;this.hasBeenActiveBefore||(this.hasBeenActiveBefore=!0,m.loadArchivedLists(this.model.id).then((function(t){var n=e.modelCache.find("List",(function(t){return t.get("idBoard")===e.model.id&&t.get("closed")}));return e.allArchivedLists.set(n),e.isLoading.set(!1)})))}},{key:"renderOnce",value:function(){return this.$el.html(b.fill(n("./app/scripts/views/templates/archived_lists.js"))),this.watch("searchText",(function(e){var t=0===e.length?"no archived lists":"no results";return this.$(".js-empty-message").text(y(t))})),this.watch("sortedFilteredLists",(function(e){return this.$(".js-empty-message").toggleClass("hide",e.length>0)})),this.watch("sortedFilteredLists",this.frameDebounce(this.renderLists))}},{key:"renderLists",value:function(){var e=this;this.$(".js-archive-items").children().detach();var t=Array.from(this.sortedFilteredLists.get()).map((function(t){return e.subview(f,t,{reOpenText:y("unarchive list"),canDelete:!1})}));return this.appendSubviews(t,this.$(".js-archive-items")),this}}])&&c(o.prototype,s),g&&c(o,g),k}(g);w.initClass(),e.exports=w},"./app/scripts/views/archive/archived-model-view.js":function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n("./packages/jquery/index.js"),p=n("./app/scripts/views/lib/confirm.coffee"),f=n("./app/scripts/views/lib/pop-over.coffee"),m=n("./app/scripts/views/board/reopen-board-popover-view.js"),h=n("./app/scripts/db/model-loader.coffee"),g=n("./node_modules/bluebird/js/browser/bluebird.js"),v=n("./app/scripts/lib/util/index.coffee"),b=n("./app/scripts/views/internal/view.coffee"),y=n("./packages/analytics/index.ts").track,w=(n("./app/scripts/views/internal/teacup-with-helpers.coffee")("archive_item"),n("./app/scripts/lib/localize.coffee")),k=n("./app/scripts/db/auth.coffee");p=n("./app/scripts/views/lib/confirm.coffee");var j=n("./app/scripts/views/templates/archive_item.js"),x=n("./packages/atlassian-analytics/index.ts").Analytics,_=n("./packages/feature-flag-client/index.ts").featureFlagClient,O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(C,e);var t,n,i,b,O=(t=C,function(){var e,n=u(t);if(l()){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return c(this,e)});function C(){return o(this,C),O.apply(this,arguments)}return n=C,b=[{key:"initClass",value:function(){this.prototype.tagName="li",this.prototype.className="u-clearfix",this.prototype.events={"click .js-reopen":"reopen","click .js-delete":"delete","click .js-leave":"leaveConfirm"}}}],(i=[{key:"initialize",value:function(){if(this.sendGASEvent=_.get("dataeng.gasv3-event-tracking",!1),this.me=k.me(),this.listenTo(this.model,"deleting",this.render),null!=this.model.getBoard)return this.listenTo(this.model.getBoard(),"change:limits",this.render)}},{key:"_checkTargetCapacity",value:function(){var e=!0;return null!=this.model.getBoard&&(e=this.model.getBoard().hasCapacity(this.model)),e}},{key:"canReopen",value:function(){var e=this._checkTargetCapacity();return null!=this.model.owned?e&&this.model.owned():e&&this.model.editable()}},{key:"canDelete",value:function(){return"function"==typeof this.model.owned?this.model.owned():void 0}},{key:"canLeave",value:function(){return null!=this.model.owned&&!this.model.owned()}},{key:"render",value:function(){var e;return this.$el.html(j({name:this.model.get("name"),orgName:(e=this.model.getOrganization())?e.get("displayName"):this.model.hasOrganization()?w(["templates","board_header","private-team"]):w("personal"),url:"function"==typeof this.model.getUrl?this.model.getUrl():void 0,reOpenText:this.options.reOpenText,canDelete:this.canDelete(),canReopen:this.canReopen(),canLeave:this.canLeave(),deleting:"function"==typeof this.model.isDeleting?this.model.isDeleting():void 0,reopenDisabled:this.options.reopenDisabled})),this}},{key:"reopen",value:function(e){var t=this;v.stop(e);var n=this.model.getOrganization();if(!(null!=n?n.isAtOrOverFreeBoardLimit():void 0)){var i=[this.model.getNewBillableGuests()];return!n||n.adminList&&0!==n.adminList.length||i.push(h.loadOrganizationMembersMinimal(n.id)),g.all(i).then((function(){var e=Array.from(arguments.length<=0?void 0:arguments[0]),i=r(e,1),o=i[0],s=o.newBillableGuests,a=o.availableLicenseCount;return s.length>0?f.show({elem:t.$(".js-reopen"),view:new m({board:t.model,org:n,newBillableGuests:s,availableLicenseCount:a,onReopen:function(){if(y(t.model.typeName,"Reopen","Via Archive"),t.sendGASEvent)return x.sendTrackEvent({action:"reopened",actionSubject:"board",source:"closedBoardsScreen",containers:{board:{id:t.model.id}}})}})}):(t.model.reopen(),y(t.model.typeName,"Reopen","Via Archive"),t.sendGASEvent?x.sendTrackEvent({action:"reopened",actionSubject:"board",source:"closedBoardsScreen",containers:{board:{id:t.model.id}}}):void 0)}))}}},{key:"delete",value:function(e){var t=this;return v.stop(e),p.toggle("delete board",{elem:e.target,model:this.model,confirmBtnClass:"negate",fxConfirm:function(e){return t.model.startDelete().then((function(){if(y("Board","Delete","Via Closed Boards List"),t.sendGASEvent)return x.sendTrackEvent({action:"deleted",actionSubject:"board",source:"closedBoardsScreen",containers:{board:{id:t.model.id}}})})).done()}})}},{key:"leaveConfirm",value:function(e){var t=this;v.stop(e),y("Closed Boards","Open Leave Menu"),this.sendGASEvent&&x.sendUIEvent({action:"clicked",actionSubject:"menu",source:"leaveBoardMenu",containers:{board:{id:this.model.id}}});var n=this.me.removeMembershipConfirmationKey(this.model);p.toggle(n,{elem:d(e.target).closest("a"),confirmBtnClass:"negate",fxConfirm:function(e){if(t.model.removeMember(t.me),y("Board","Leave Board","Via Closed Boards List"),t.sendGASEvent)return x.sendTrackEvent({action:"left",actionSubject:"board",source:"closedBoardsScreen",containers:{board:{id:t.model.id}}})}})}}])&&s(n.prototype,i),b&&s(n,b),C}(b);O.initClass(),e.exports=O},"./app/scripts/views/archive/search-help-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./app/scripts/views/internal/view.coffee"),u=n("./app/scripts/views/templates/search_help_popover.js"),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(f,e);var t,n,l,d,p=(t=f,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function f(){return r(this,f),p.apply(this,arguments)}return n=f,d=[{key:"initClass",value:function(){this.prototype.viewTitleKey="help"}}],(l=[{key:"render",value:function(){return this.$el.html(u()),this}}])&&i(n.prototype,l),d&&i(n,d),f}(l);d.initClass(),e.exports=d},"./app/scripts/views/board-create/photo-attribution-component.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./node_modules/react/index.js"),u=n("./app/scripts/views/internal/recup-with-helpers.coffee")(),d=n("./packages/unsplash/index.ts").unsplashClient,p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(m,e);var t,n,l,p,f=(t=m,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function m(){return r(this,m),f.apply(this,arguments)}return n=m,p=[{key:"initClass",value:function(){this.prototype.displayName="PhotoAttributionComponent",this.prototype.render=u.renderable((function(){var e=this.props,t=e.user,n=e.size,r=t.name,i=[".photo-attribution-component"];return null!=n&&i.push(".".concat(n)),u.div(i.join(""),(function(){return u.a({class:"photo-attribution-component-attribution-link",href:d.appendAttribution(t.links.html),target:"_blank",title:r,onClick:e=>e.stopPropagation()},(function(){return u.text(r)}))}))}))}}],(l=null)&&i(n.prototype,l),p&&i(n,p),m}(l.Component);p.initClass(),e.exports=p},"./app/scripts/views/board-menu/BoardSidebarPuPUpsell.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"BoardSidebarPuPUpsell",(function(){return f}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./app/src/components/UpgradePrompts/index.ts"),s=n("./packages/test-ids/index.ts"),a=n("./app/common/lib/util/i18n/index.ts"),c=n("./packages/analytics/index.ts"),l=n("./packages/feature-flag-client/index.ts"),u=n("./packages/nachos/icons/power-up.tsx"),d=n("./packages/nachos/icons/private.tsx"),p=Object(a.forNamespace)("upgrade prompt"),f=function(e){var t=e.billingUrl,n=e.orgId,r=Object(l.useFeatureFlag)("btg.upgrade-prompt-audit",!1);return i.a.createElement("span",{className:"board-menu-navigation-item-link disabled"},i.a.createElement("span",{className:"board-menu-navigation-item-link-icon mod-upsell-slot"},i.a.createElement(d.a,{size:"small"})),r?i.a.createElement(o.UpgradeSmartComponent,{orgId:n||"",promptId:"boardMenuDrawerPromptFull"}):i.a.createElement(o.UpgradePromptFull,{content:p(["board menu","power ups","content"]),headline:p(["board menu","power ups","headline"]),cta:p("learn more"),orgId:n,ctaLink:t,ctaOnClick:function(){Object(c.trackUe)({category:c.Noun.BOARD_MENU,verb:c.Verb.OPENS,directObj:c.Noun.BC_MODAL,method:"by clicking full upgrade prompt in board menu pup section"})},icon:i.a.createElement(u.a,null),source:"boardMenuDrawer",testId:s.UpgradePromptTestIds.PuPsUpgradePrompt}))}},"./app/scripts/views/board-menu/about-this-board-admin-list-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./app/scripts/views/internal/view.coffee"),u=n("./app/scripts/views/internal/templates.coffee"),d=n("./app/scripts/views/member-menu-profile/member-mini-profile-view.js"),p=n("./packages/atlassian-analytics/index.ts").Analytics,f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(g,e);var t,l,f,m,h=(t=g,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function g(){return r(this,g),h.apply(this,arguments)}return l=g,m=[{key:"initClass",value:function(){this.prototype.viewTitleKey="multi admin list"}}],(f=[{key:"initialize",value:function(){return this.listenTo(this.model)}},{key:"render",value:function(){var e=this.model.toJSON();return featureFlagClient.get("dataeng.gasv3-event-tracking",!1)&&p.sendScreenEvent({name:"aboutThisBoardAdminListInlineDialog",containers:{board:{id:this.model.id}}}),this.$el.html(u.fill(n("./app/scripts/views/templates/popover_about_this_board_admin_list.js"),e)),this.renderAdminList(),this}},{key:"renderAdminList",value:function(){var e=this,t=this.$(".js-show-all-admins"),n=this.model.orderedVisibleAdmins(),r=Array.from(n).map((function(t){return e.subview(d,t,{board:e.model})}));return this.ensureSubviews(r,t)}}])&&i(l.prototype,f),m&&i(l,m),g}(l);f.initClass(),e.exports=f},"./app/scripts/views/board-menu/board-collections-select-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./app/scripts/db/auth.coffee"),d=n("./app/scripts/views/organization/add-tag-view.coffee"),p=n("./app/scripts/views/lib/pop-over.coffee"),f=n("./app/scripts/lib/util/index.coffee"),m=n("./app/scripts/views/internal/view.coffee"),h=n("./app/scripts/controller/index.js"),g=n("./packages/analytics/index.ts").track,v=n("./packages/nachos/textfield.ts").TextfieldClasses,b=n("./node_modules/underscore/underscore.js"),y=n("./packages/jquery/index.js"),w=n("./packages/atlassian-analytics/index.ts").Analytics,k=n("./packages/feature-flag-client/index.ts").featureFlagClient,j=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_collections"),x=j.renderable((function(e,t){if(e)return j.ul(".select-tags-list",(function(){return Array.from(e).map((function(e){return j.li(".select-tags-list-item.js-tag-item",{"data-id-tag":e.id},(function(){return j.a(".select-tags-list-item-name-link.js-toggle-tag",(function(){return t&&j.icon("check",{class:"select-tags-list-item-name-link-check-icon"}),j.text(e.get("name"))}))}))}))}))})),_=j.renderable((function(e){return x(e.associated,!0),x(e.notAssociated,!1)})),O=j.renderable((function(e){e.board;var t=e.collectionsEnabled,r=e.billingUrl,i=e.orgUrl,o=e.hasTags,s=e.hideExplainer;return t?(s||j.div(".collections-info",(function(){return j.span(".collections-explainer-close.js-close-explainer",(function(){return j.icon("close")})),j.img(".collections-image",{src:n("./resources/images/collections/business-class-feature-roadmap.png")}),j.p((function(){return j.format("collections-let-you-group-and-filter")})),j.p(".js-learn-more",(function(){return j.format("learn-more-about-collections")}))})),j.div(".collections-select-lists",(function(){return o?(j.div(".has-collections",(function(){return j.p(".js-team-page",(function(){return j.format("visit-team-page-create-some",{orgUrl:i})})),j.a(".quiet-button.full.create-collection-btn.js-add-tag",{href:"#"},(function(){return j.format("create-collection")}))})),j.input(".js-collections-search ".concat(v.STATIC),{type:"text",placeholder:j.l("search-collections"),autocomplete:"off"}),j.div(".js-filtered-collections")):j.div(".no-collections",(function(){return j.p((function(){return j.format("no-collections")})),j.p(".js-team-page",(function(){return j.format("visit-team-page-create-some",{orgUrl:i})})),j.a(".quiet-button.full.create-collection-btn.js-add-tag",{href:"#"},(function(){return j.format("create-collection")}))}))}))):void j.div(".collections-upsell.ads-layouts-experiment",(function(){return j.div(".collections-upsell-body",(function(){return j.h4(".collections-upsell-header",(function(){return j.format("ads-title")})),j.p((function(){return j.format("collections-let-you-group-and-filter")})),j.a(".js-learn-more",{href:"/business-class",target:"_blank"},(function(){return j.format("ads-learn-more")})),j.div(".collections-upgrade-action",(function(){return r?j.a(".button.primary.js-upgrade",{href:r},(function(){return j.format("ads-upgrade")})):j.a(".button.primary.js-add-team",{href:"#"},(function(){return j.format("ads-upgrade")}))}))}))}))})),C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(x,e);var t,n,m,v,j=(t=x,function(){var e,n=l(t);if(c()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function x(){return r(this,x),j.apply(this,arguments)}return n=x,v=[{key:"initClass",value:function(){this.prototype.className="board-menu-collections-select",this.prototype.noPadding=!0,this.prototype.events={"click .js-add-tag":"addTag","keyup .js-collections-search":"renderFilteredCollections","click .js-toggle-tag"(e){return this.toggleTag(function(e){return y(e.target).closest(".js-tag-item")[0].getAttribute("data-id-tag")}(e))},"click .js-add-team":"addTeam","click .js-close-explainer":"closeExplainer","click .js-learn-more a"(e){if(g("Board Menu","Collections Menu","Clicks Learn More Link"),this.sendGASEvent)return w.sendClickedLinkEvent({linkName:"learnMoreLink",source:"boardMenuDrawerCollectionsScreen"})},"click .js-team-page a"(e){if(g("Board Menu","Collections Menu","Clicks Team Page Link"),this.sendGASEvent)return w.sendClickedLinkEvent({linkName:"teamPageLink",source:"boardMenuDrawerCollectionsScreen"})},"click .js-upgrade"(e){if(g("Board Menu","Collections Menu","Upgrade Button"),this.sendGASEvent)return w.sendClickedButtonEvent({buttonName:"upgradeButton",source:"boardMenuDrawerCollectionsScreen",containers:{board:{id:this.model.id},organization:{id:this.model.getOrganization().id}}})}},this.prototype.viewTitleKey="pick tags"}}],(m=[{key:"initialize",value:function(){return this.sidebarView=this.options.sidebarView,this.organization=(null!=this.options?this.options.org:void 0)||this.model.getOrganization(),this.collectionsEnabled=null!=this.organization&&this.organization.isFeatureEnabled("tags"),this.listenTo(this.model,"change:idOrganization",this.refereshOrganization),this.listenTo(this.model,"change:idTags",this.render),this.listenTo(u.me(),"change:oneTimeMessagesDismissed",this.render),this.collectionsEnabled&&this.listenTo(this.organization.tagList,"add remove reset change",this.render),this.sendGASEvent=k.get("dataeng.gasv3-event-tracking",!1),o(l(x.prototype),"initialize",this).apply(this,arguments)}},{key:"addTag",value:function(e){return f.stop(e),g("Board Menu","Collections Menu","Open Create Tag Menu"),this.sendGASEvent&&w.sendClickedLinkEvent({linkName:"createCollectionLink",source:"boardMenuDrawerCollectionsScreen",containers:{board:{id:this.model.id},organization:{id:this.model.getOrganization().id}}}),p.toggle({elem:e.target,view:d,options:{model:this.organization,modelCache:this.modelCache,boardView:!0}})}},{key:"toggleTag",value:function(e){g("Board Menu","Collections Menu","Toggle Collections");var t=this.model.getIdTags().includes(e);return this.sendGASEvent&&w.sendUIEvent({action:"toggled",actionSubject:"collection",source:"boardMenuDrawerCollectionsScreen",attributes:{idCollection:e,toggleOff:t}}),this.model.toggleTag(e)}},{key:"addTeam",value:function(e){return f.stop(e),g("Board Menu","Collections Menu","Lets Add To Team"),this.sendGASEvent&&w.sendClickedButtonEvent({buttonName:"addTeamFromCollectionsButton",source:"boardMenuDrawerCollectionsScreen",containers:{board:{id:this.model.id},organization:{id:this.model.getOrganization().id}}}),this.model.trigger("add-to-team")}},{key:"closeExplainer",value:function(){if(u.me().dismiss("CollectionsExplainer"),g("Board Menu","Collections Menu","Dismiss Collections Explainer"),this.sendGASEvent)return w.sendDismissedComponentEvent({componentType:"overlay",componentName:"collectionsExplainerOverlay",source:"boardMenuDrawerCollectionsScreen"})}},{key:"filterTagsBySearch",value:function(e){var t=this._searchVal().toLowerCase();return b.isEmpty(t)?e:b.filter(e,(function(e){return S(e.get("name"),(function(e){return e.toLowerCase().indexOf(t)}))>-1}))}},{key:"filterTagsByAssociation",value:function(e,t){return b.groupBy(e,(function(e){return Array.from(t).includes(e.id)?"associated":"notAssociated"}))}},{key:"_searchVal",value:function(){var e;return null!=(e=S(this.$(".js-collections-search").val(),(function(e){return e.trim()})))?e:""}},{key:"renderFilteredCollections",value:function(){if(null!=this.organization?this.organization.tagList.models.length:void 0){var e=this.filterTagsByAssociation(this.filterTagsBySearch(this.organization.tagList.models),this.model.getIdTags());return this.$(".js-filtered-collections").empty().append(_(e))}}},{key:"refereshOrganization",value:function(){var e=this.modelCache.get("Organization",this.model.previous("idOrganization")),t=this.model.getOrganization();return null!=e&&this.stopListening(e.tagList),this.organization=t,this.collectionsEnabled=null!=this.organization&&this.organization.isFeatureEnabled("tags"),this.collectionsEnabled&&this.listenTo(this.organization.tagList,"add remove reset change",this.render),this.render()}},{key:"render",value:function(){var e,t,n=u.me().isDismissed("CollectionsExplainer"),r=null!=this.organization?this.organization.tagList.models.length:void 0;return this.organization&&(t=h.getOrganizationUrl(this.organization),e=h.getOrganizationBillingUrl(this.organization)),this.$el.html(O({board:this.model,collectionsEnabled:this.collectionsEnabled,billingUrl:e,orgUrl:t,hasTags:r,hideExplainer:n})),this.renderFilteredCollections(),this}}])&&i(n.prototype,m),v&&i(n,v),x}(m);function S(e,t){return null!=e?t(e):void 0}C.initClass(),e.exports=C},"./app/scripts/views/board-menu/board-collections-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return function(){var t,n=d(e);if(u()){var r=d(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return l(this,t)}}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p,f=n("./app/scripts/views/board-menu/board-collections-select-view.js"),m=n("./app/scripts/views/board-menu/board-add-to-team-view.js"),h=n("./app/scripts/db/auth.coffee"),g=n("./app/scripts/db/model-loader.coffee"),v=n("./app/scripts/views/internal/view.coffee"),b=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_collections"),y=b.renderable((function(){return b.div((function(){return b.div(".spinner.loading")}))})),w=function(e){s(n,e);var t=c(n);function n(){return r(this,n),t.apply(this,arguments)}return o(n,[{key:"render",value:function(){return this.$el.html(y())}}]),n}(v),k=function(e){s(n,e);var t=c(n);function n(){return r(this,n),t.apply(this,arguments)}return o(n,[{key:"renderOnce",value:function(){return this.$el.html(b.render((function(){return b.div(".count-explanation",(function(){return b.p((function(){return b.format("only-team-members-can-enable-collections")}))}))})))}}],[{key:"initClass",value:function(){this.prototype.vigor=this.VIGOR.NONE}}]),n}(v);k.initClass(),e.exports=((p=function(e){s(n,e);var t=c(n);function n(){return r(this,n),t.apply(this,arguments)}return o(n,[{key:"initialize",value:function(){var e=this;return this.sidebarView=this.options.sidebarView,this.listenTo(this.model,"team-has-bc",(function(){return e.redirecting=!1,e.addToTeam=!1,e.render()})),this.listenTo(this.model,"added-to-team",(function(){return e.redirecting=!0,e.render()})),this.listenTo(this.model,"cancel-add-to-team",(function(){return e.addToTeam=!1,e.render()})),this.listenTo(this.model,"cancel-upgrade",(function(){return e.initialViewState=null,e.render()})),this.listenTo(this.model,"add-to-team",(function(){return e.model.owned()?(e.initialViewState=null,e.addToTeam=!0,e.render()):window.location="/business-class"}))}},{key:"render",value:function(){this.$el.empty();var e=this.model,t=e.hasOrganization(),n=e.getOrganization(),r=h.me(),i=e.isMember(r),o=null!=n?n.isMember(r):void 0,s=!i&&!o,a=e.isPublic()&&(null!=n?n.isPublic():void 0),c=t&&(i&&!o||s&&a);return this.redirecting?this.renderSpinner():this.addToTeam?this.renderAddToTeam():c?this.renderOnlyForTeamMembers():this.renderTagSelect(),this}},{key:"renderOnlyForTeamMembers",value:function(){return this.appendSubview(this.subview(k,this.model)),this}},{key:"renderSpinner",value:function(){return this.appendSubview(this.subview(w,this.model)),this}},{key:"renderAddToTeam",value:function(){return this.model.hasOrganization()?(this.appendSubview(this.subview(k,this.model)),this):(g.loadMyOrganizations(),this.appendSubview(this.subview(m,this.model,{menuType:"Collections"})))}},{key:"renderTagSelect",value:function(){return this.appendSubview(this.subview(f,this.model,{modelCache:this.modelCache,sidebarView:this.sidebarView}))}}],[{key:"initClass",value:function(){this.prototype.viewTitleKey="collections",this.prototype.noPadding=!0,this.prototype.className="board-menu-content-frame board-collections-view"}}]),n}(v)).initClass(),p=p)},"./app/scripts/views/board-menu/board-labels-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./app/scripts/views/label/labels-view.js"),u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(f,e);var t,n,u,d,p=(t=f,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function f(){return r(this,f),p.apply(this,arguments)}return n=f,d=[{key:"initClass",value:function(){this.prototype.viewTitleKey="labels"}}],(u=[{key:"el",value:function(){var e=this,t=this.subview(l,this.model,{board:this.model,popOverMethod:"toggle",className:"board-menu-content-frame",selectLabel:function(n){if(e.model.editable())return t.editLabel(n)}});return t.render().el}}])&&i(n.prototype,u),d&&i(n,d),f}(n("./app/scripts/views/internal/view.coffee"));u.initClass(),e.exports=u},"./app/scripts/views/board-menu/board-menu-about-this-board-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./app/scripts/db/auth.coffee"),d=n("./app/scripts/lib/util/index.coffee"),p=n("./app/scripts/views/internal/view.coffee"),f=n("./app/scripts/views/lib/pop-over.coffee"),m=n("./node_modules/react/index.js"),h=n("./app/scripts/lib/localize.coffee"),g=n("./app/scripts/views/templates/board_menu_about_this_board.js"),v=n("./packages/analytics/index.ts").trackUe,b=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,y=n("./app/src/components/BoardMenuViewsAndCopies/BoardMenuViewsAndCopies.tsx").BoardMenuViewsAndCopies,w=n("./app/scripts/views/board-menu/about-this-board-admin-list-view.js"),k=n("./app/scripts/views/description/description-view.js"),j=n("./app/scripts/views/member-menu-profile/member-mini-profile-view.js"),x=n("./app/scripts/views/member-menu-profile/member-on-board-view.js"),_=n("./app/scripts/views/board-menu/search-input-view.js"),O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(S,e);var t,n,p,O,C=(t=S,function(){var e,n=l(t);if(c()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function S(){return r(this,S),C.apply(this,arguments)}return n=S,O=[{key:"initClass",value:function(){this.prototype.className="board-menu-content-frame",this.prototype.events={"click .js-change-permissions":"changePermissions","click .js-fill-board-admin-count":"openAllMembers"}}}],(p=[{key:"initialize",value:function(e){var t=e.sidebarView;return this.sidebarView=t,o(l(S.prototype),"initialize",this).apply(this,arguments),this.listenTo(this.model,{"change:memberships":this.renderDebounced,"change:prefs.voting":this.renderDebounced,"change:prefs.comments":this.renderDebounced,"change:desc":this.renderDebounced}),this.descView=this.subview(k,this.model,{maxDescLength:700,board:this.model,placeholderKey:this.getPlaceHolderText(),source:"boardMenuDrawerAboutScreen"}),this.makeDebouncedMethods("render")}},{key:"getPlaceHolderText",value:function(){var e=this.model.isTemplate(),t=u.me(),n=this.model.ownedByMember(t),r=this.model.isMember(t);return e?n||r?"about-this-template-description-admin":"about-this-template-description-visitor":"its-your-boards-time-to-shine"}},{key:"getViewTitle",value:function(){return this.model.isTemplate()?h(["view title","about-this-template"]):h(["view title","about-this-board"])}},{key:"render",value:function(){var e=u.isLoggedIn(),t=u.me(),n={};if(n.isLoggedIn=e,n.isAdmin=this.model.ownedByMember(t),n.isNonAdminMember=this.model.isMember(t)&&!n.isAdmin,n.isTemplate=this.model.isTemplate(),n.isAdmin){var r=this.model.getCommentPerm(),i=this.model.getPref("voting");n.canComment="disabled"!==r,n.canVote="disabled"!==i,n.commentHeader=this.getPermissionsLevelHeader(r),n.votingHeader=this.getPermissionsLevelHeader(i),n.permissionsHierarchy=this.getPermissionsHierarchy(r,i)}else e?(n.canComment=this.model.canComment(t),n.canVote=this.model.canVote(t)):(n.canComment="public"===this.model.getCommentPerm(),n.canVote="public"===this.model.getPref("voting"));this.$el.html(g(n));var o=1===this.model.adminList.length;return o?this.renderSingleAdminProfile():this.renderAdminFacepile(),this.$(".about-this-board-multi-admin").toggleClass("hide",o),this.$(".about-this-board-desc").toggleClass("visitor-single-admin",o&&!n.isAdmin),this.descView.placeholderKey=this.getPlaceHolderText(),this.appendSubview(this.descView,this.$(".js-fill-atb-desc")),this.renderSearchInputView(),this.renderViewCopyCount(),this}},{key:"renderSingleAdminProfile",value:function(){var e=this.model.adminList.models[0],t=e.toJSON();t.showEmail=!1,t.isMe=e===u.me();var n=this.$(".js-made-by"),r=this.subview(j,e);return this.ensureSubview(r,n)}},{key:"renderAdminFacepile",value:function(){var e=this,t=this.$(".js-made-by-facepile"),n=this.model.orderedVisibleAdmins(),r=n.length,i=n.slice(0,5),o=r-5;o>0?(this.$(".js-fill-board-admin-count").text("+".concat(o)),this.$(".js-fill-board-admin-count").toggleClass("pile",o<100),this.$(".js-fill-board-admin-count").toggleClass("pile-lg",o>=100)):this.$(".js-fill-board-admin-count").text("");var s=Array.from(i).map((function(t){return e.subview(x,t,{board:e.model})}));if(t.length)return this.ensureSubviews(s,t)}},{key:"openAllMembers",value:function(e){var t,n;return d.stop(e),v("board sidebar","toggles","admin list popover","from about view","","by clicking on admin count",{boardId:this.model.id,teamId:(t=this.model.getOrganization(),n=function(e){return e.id},null!=t?n(t):void 0)}),f.toggle({elem:this.$(".js-fill-board-admin-count"),maxWidth:304,view:w,options:{model:this.model,modelCache:this.modelCache}})}},{key:"getPermissionsLevelHeader",value:function(e){switch(e){case"members":return"members-can";case"observers":return"members-and-observers-can";case"org":return"team-members-can";case"public":return"any-trello-user-can"}}},{key:"getPermissionsHierarchy",value:function(e,t){if(e===t)return"equal";if("disabled"!==e&&"disabled"===t)return"comment";if("disabled"===e&&"disabled"!==t)return"voting";var n=["members","observers","org","public"];return n.indexOf(e)<n.indexOf(t)?"comment":"voting"}},{key:"changePermissions",value:function(e){d.stop(e),this.sidebarView.pushView("settings")}},{key:"showCardFilter",value:function(e){d.stop(e),this.sidebarView.pushView("filter")}},{key:"renderSearchInputView",value:function(){var e=this.$(".js-search-input-view");if(e.length){var t=this.subview(_,this.model.filter,{showCardFilter:this.showCardFilter.bind(this)});return this.appendSubview(t,e)}}},{key:"renderViewCopyCount",value:function(){return b(m.createElement(y,{idBoard:this.model.id,isTemplate:this.model.isTemplate(),showLabels:!1}),this.$(".js-view-copy-count")[0]),this}}])&&i(n.prototype,p),O&&i(n,O),S}(p);O.initClass(),e.exports=O},"./app/scripts/views/board-menu/board-menu-activity-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./app/scripts/models/collections/action-list.coffee"),u=n("./app/scripts/views/action/action-list-view.js"),d=n("./packages/atlassian-analytics/index.ts").Analytics,p=n("./app/scripts/views/internal/view-with-actions.coffee"),f=n("./app/scripts/views/internal/view.coffee"),m=n("./app/scripts/views/internal/templates.coffee"),h=n("./packages/analytics/index.ts").track,g=n("./node_modules/underscore/underscore.js"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(b,e);var t,p,f,g,v=(t=b,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function b(){return r(this,b),v.apply(this,arguments)}return p=b,g=[{key:"initClass",value:function(){this.prototype.viewTitleKey="activity",this.prototype.viewIcon="activity",this.prototype.className="board-menu-content-frame",this.prototype.events={"click .js-show-all":"showAll","click .js-show-comments":"showComments","click .js-more-actions":"loadMoreActions"}}}],(f=[{key:"initialize",value:function(){var e=this;this.mode="all",this.fullHistory=this.options.fullHistory,null==this.fullHistory&&(this.fullHistory=!1),this.actionListView=this.collectionSubview(u,new l(this.getActions(),{modelCache:this.modelCache}),{renderOpts:{compact:!this.fullHistory,key:"boardmenuactivity",context:this.model}}),this.makeDebouncedMethods("renderMoreActionsLink"),this.listenTo(this.modelCache,"add:Action:".concat(this.model.id),(function(){return e.actionListView.collection.reset(e.getActions()),e.renderMoreActionsLinkDebounced()})),this.listenTo(this.model.memberList,{"change:initials change:avatarUrl change:avatarSource change:fullName change:username":this.render}),this.loadMoreActions()}},{key:"render",value:function(){return this.$el.html(m.fill(n("./app/scripts/views/templates/board_menu_activity.js"),this.model.toJSON())),this.actionListView.setElement(this.$(".js-list-activity")[0]),this.renderActions(),this.renderMode(),this}},{key:"renderActions",value:function(){return this.actionListView.render(),this.renderMoreActionsLink()}},{key:"renderMoreActionsLink",value:function(){return this.$(".js-more-actions").toggle(this.hasMoreActions()),this}},{key:"renderMode",value:function(){return this.$(".js-control-option").removeClass("is-active"),"all"===this.mode?(this.$(".js-list-activity").removeClass("is-only-comments"),this.$(".js-show-all").addClass("is-active")):(this.$(".js-list-activity").addClass("is-only-comments"),this.$(".js-show-comments").addClass("is-active")),this}},{key:"showAll",value:function(e){this.mode="all",this.renderMode(),h("Board Menu","Activity","Show All"),this.sendGASEvent&&d.sendClickedButtonEvent({buttonName:"showAllActivityButton",source:"boardMenuDrawerActivityScreen"})}},{key:"showComments",value:function(e){this.mode="comments",this.renderMode(),h("Board Menu","Activity","Show Comments Only"),this.sendGASEvent&&d.sendClickedButtonEvent({buttonName:"showCommentsOnlyButton",source:"boardMenuDrawerActivityScreen"})}}])&&i(p.prototype,f),g&&i(p,g),b}(f);v.initClass(),g.extend(v.prototype,p),e.exports=v},"./app/scripts/views/board-menu/board-menu-more-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./packages/jquery/index.js"),d=n("./app/scripts/views/lib/alerts.coffee"),p=n("./app/scripts/db/auth.coffee"),f=n("./packages/atlassian-analytics/index.ts").Analytics,m=n("./app/scripts/views/internal/board-display-helpers.coffee"),h=n("./app/scripts/controller/index.js"),g=n("./app/scripts/views/lib/pop-over.coffee"),v=n("./app/scripts/lib/util/index.coffee"),b=n("./app/scripts/views/internal/view.coffee"),y=n("./app/scripts/views/lib/confirm.coffee"),w=n("./app/scripts/views/board/share-popover-view.js"),k=n("./app/scripts/views/board-menu/edit-email-settings-view.js"),j=n("./app/scripts/views/board/copy-board-view.js"),x=n("./app/scripts/views/board/convert-board-template-view.js"),_=n("./packages/analytics/index.ts"),O=_.Noun,C=_.Verb,S=_.track,E=_.trackUe,P=n("./app/scripts/lib/localize.coffee"),T=n("./app/scripts/views/templates/board_menu_more.js"),D=n("./packages/config/index.ts").dontUpsell,A=n("./app/scripts/db/model-loader.coffee"),B=n("./app/scripts/views/board-menu/board-add-to-team-view.js"),R=n("./packages/feature-flag-client/index.ts").featureFlagClient,L=n("./node_modules/react/index.js"),M=n("./packages/react-dom-wrapper/index.ts"),N=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,I=n("./app/src/components/UpgradePrompts/UpgradePromptFull.tsx").UpgradePromptFull,U=n("./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx").UpgradeSmartComponent,F=n("./app/src/components/UpgradePrompts/UpgradePromptPill.tsx").UpgradePromptPill,V=n("./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx").UpgradeSmartComponentConnected,z=n("./packages/test-ids/index.ts").UpgradePromptTestIds,$=n("./app/src/components/UpgradePrompts/renderUpgradePrompt.ts").renderUpgradePrompt,H=n("./packages/nachos/icons/business-class.tsx").BusinessClassIcon,G=n("./packages/nachos/icons/collection.tsx").CollectionIcon,q=n("./app/src/components/FreeTrial/index.ts").PlanSelectionOverlay,K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(J,e);var t,n,b,_,K=(t=J,function(){var e,n=l(t);if(c()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function J(){return r(this,J),K.apply(this,arguments)}return n=J,_=[{key:"initClass",value:function(){this.prototype.viewTitleKey="more",this.prototype.className="board-menu-content-frame",this.prototype.events={"click .js-open-collections":"openCollections","click .js-open-settings":"openSettings","click .js-open-stickers":"openStickers","click .js-open-labels":"openLabels","click .js-open-archive":"openArchivedItems","click .js-share":"shareBoard","click .js-email":"openEmailSettings","click .js-board-subscribe":"toggleSubscribe","click .js-copy-board":"copyBoard","click .js-close-board":"closeConfirm","click .js-leave-board":"leaveConfirm","click .js-short-url":"selectUrl","click .js-make-template":"makeTemplate","click .js-convert-to-board":"convertToBoard","submit form":"cancel"}}}],(b=[{key:"initialize",value:function(e){var t=this,n=e.sidebarView;return this.sidebarView=n,this.makeDebouncedMethods("render"),this.listenTo(this.model,{"change:subscribed":this.renderSubscribeState,"change:prefs.isTemplate":this.renderDebounced,"change:prefs.permissionLevel":this.renderDebounced,"change:idOrganization":this.renderDebounced,"change:memberships":this.renderDebounced}),this.listenTo(this.model,"cancel-add-to-team",(function(){return t.addToTeam=!1,t.render()})),this.listenTo(this.model,"add-to-team",(function(){return t.model.owned()?(t.addToTeam=!0,t.render()):window.location="/business-class"})),this.sendGASEvent=R.get("dataeng.gasv3-event-tracking",!1),this.freeTrialEnabled=R.get("btg.free-trial-existing-teams",!1)}},{key:"remove",value:function(){return"function"==typeof this.unmountCollectionsPromptPill&&this.unmountCollectionsPromptPill(),"function"==typeof this.unmountCollectionsPromptFull&&this.unmountCollectionsPromptFull(),"function"==typeof this.unmountTemplatesPromptPill&&this.unmountTemplatesPromptPill(),o(l(J.prototype),"remove",this).apply(this,arguments)}},{key:"render",value:function(e){var t,n=this;this.$el.empty();var r=p.me(),i=this.model,o=this.model.toJSON();o.canJoin=this.model.canJoin(),o.canInviteMembers=this.model.canInviteMembers(),o.confirmed=r.get("confirmed"),o.isLoggedIn=r.isLoggedIn();var s=this.model.getOrganization(),a=s?h.getOrganizationBillingUrl(s):void 0,c=s?s.id:void 0;o.canCloseBoard=this.model.owned()||(null!=s?s.isFeatureEnabled("superAdmins"):void 0)&&(null!=s?s.owned():void 0),o.editableByMember=this.model.editableByMember(r),o.canLeaveBoard=(this.model.isMemberObserver(r)||this.model.editableByMember(r))&&r.getMembershipData(this.model).canRemove,o.canCloseOrLeave=o.canLeaveBoard||o.canCloseBoard,o.pLevelClass=m.getPermLevelIconClassForBoard(this.model),o.pLevelAltText=m.getPermLevelAltTextForBoard(this.model),o.helperText=P(["board perms",this.model.getPermLevel(),"short summary"]);var l=null!=s?s.isFeatureEnabled("tags"):void 0;o.showCollections=this.model.hasOrganization()&&(l||!D),o.hasMultipleMembers=W(this.model.get("memberships"),(function(e){return e.length}))>1,o.isAtOrOverFreeBoardLimit=W(this.model.getOrganization(),(function(e){return e.isAtOrOverFreeBoardLimit()})),o.isOrgBcOrEnt=!(!(null!=s?s.isBusinessClass():void 0)&&!(null!=s?s.belongsToRealEnterprise():void 0)),o.isAdmin=this.model.ownedByMember(r),o.isTemplate=this.model.isTemplate(),o.canBeTemplate="public"===this.model.getPermLevel()||o.isOrgBcOrEnt,o.showTemplateUpgrade=this.model.hasOrganization()&&o.isAdmin&&!D;var u=this.model.isGuest(r),d=this.model.isPublic()&&this.model.isTemplate(),g=!this.model.isMember(r)&&!this.model.canJoin(),v=this.model.get("idEnterprise")&&r.isManagedEntMemberOf(this.model.get("idEnterprise"));if(i.get("enterpriseOwned")&&u&&!v?o.canCopyBoard=!1:this.model.allowsSelfJoin()&&(t=this.model.getPref("permissionLevel"),["org","enterprise"].includes(t))?o.canCopyBoard=!0:i.get("enterpriseOwned")&&g&&!v&&!d?o.canCopyBoard=!1:o.canCopyBoard=!0,this.addToTeam)this.renderAddToTeam();else{this.$el.html(T(o));var b=this.$el.find(".js-board-menu-pill-collections-upgrade")[0];if(this.model.hasOrganization()){var y=R.get("btg.upgrade-prompt-audit",!1),w=this.$el.find(".js-board-menu-pill-collections-upgrade")[0];if(y?(this.unmountcollectionsPromptPill=function(){M.unmountComponentAtNode(w)},N(L.createElement(V,{orgId:c,promptId:"boardMenuMoreCollectionsPromptPill"}),w)):this.unmountCollectionsPromptPill=$(L.createElement(F,{testId:z.CollectionsUpgradePill,icon:L.createElement(H),cta:P(["upgrade prompt","upgrade"]),ctaLink:this.freeTrialEnabled?"":a,ctaOnClick:function(){if(E({category:O.BOARD_MENU,verb:C.OPENS,directObj:O.TEAM_PAGE_BC_TAB,method:"by clicking pill upgrade prompt in board menu more section"}),n.sendGASEvent&&f.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"collectionsBcUpgradePill",source:"boardMenuDrawerMoreScreen"}),!y&&n.freeTrialEnabled){var e=document.createElement("span");return b.appendChild(e),N(L.createElement(q,{ctaLink:h.getOrganizationBillingUrl(c),onContinue:function(){return window.location.assign("/business-class")},orgId:c,onClose:function(){return M.unmountComponentAtNode(e),e.remove()}}),e,{boardModel:n.model})}}}),this.$el.find(".js-board-menu-pill-collections-upgrade")[0],{boardModel:i},o.showCollections),R.get("btg.upgrade-prompt-audit",!1)){var k=this.$el.find(".js-board-menu-prompt-collections")[0];k&&N(L.createElement(U,{orgId:c,promptId:"boardMenuMoreCollectionsPromptFull"}),k)}else this.unmountCollectionsPromptFull=$((function(e){var t=e.dismiss,n={headline:P(["upgrade prompt","board menu","collections","headline-2"]),content:P(["upgrade prompt","board menu","collections","content-2"]),className:"board-menu-prompt-collections",cta:P(["upgrade prompt","learn more"]),ctaLink:a,orgId:c,source:"boardMenuDrawerMoreScreen",ctaOnClick:function(){return E({category:O.BOARD_MENU,verb:C.OPENS,directObj:O.BC_MODAL,method:"by clicking full upgrade prompt in board menu more section"})},icon:L.createElement(G),isDismissable:!0,onDismiss:t,testId:z.CollectionsUpgradePrompt};return L.createElement(I,n)}),this.$el.find(".js-board-menu-prompt-collections")[0],{promptID:"ad-bc-prompt-upgrade-board-more-collection",boardModel:this.model});var j=this.$el.find(".js-board-menu-pill-templates-upgrade")[0];y?(this.unmountTemplatesPromptPill=function(){return M.unmountComponentAtNode(j)},N(L.createElement(V,{orgId:c,promptId:"boardMenuMoreTemplatesPromptPill"}),j)):this.unmountTemplatesPromptPill=$(L.createElement(F,{testId:z.TemplatesUpgradePill,icon:L.createElement(H),cta:P(["upgrade prompt","upgrade"]),ctaLink:this.freeTrialEnabled?"":a,ctaOnClick:function(){if(E({category:O.BOARD_MENU,verb:C.OPENS,directObj:O.TEAM_PAGE_BC_TAB,method:"by clicking make template upgrade prompt in board menu more section"}),n.sendGASEvent&&f.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"makeTemplateBcUpgradePill",source:"boardMenuDrawerMoreScreen"}),n.freeTrialEnabled){var e=document.createElement("span");return b.appendChild(e),N(L.createElement(q,{ctaLink:h.getOrganizationBillingUrl(c),onContinue:function(){return window.location.assign("/business-class")},orgId:c,onClose:function(){return M.unmountComponentAtNode(e),e.remove()}}),e,{boardModel:n.model})}}}),j,{boardModel:i},o.showCollections)}this.renderSubscribeState()}return this}},{key:"renderAddToTeam",value:function(){return A.loadMyOrganizations(),this.appendSubview(this.subview(B,this.model,{menuType:"More"}))}},{key:"renderSubscribeState",value:function(){this.$(".js-subscribed-state").toggleClass("hide",!this.model.get("subscribed"))}},{key:"openCollections",value:function(e){v.stop(e),this.sidebarView.pushView("collections")}},{key:"openSettings",value:function(e){v.stop(e),this.sidebarView.pushView("settings")}},{key:"openLabels",value:function(e){v.stop(e),this.sidebarView.pushView("labels")}},{key:"openStickers",value:function(e){v.stop(e),this.sidebarView.pushView("stickers")}},{key:"openArchivedItems",value:function(e){v.stop(e),this.sidebarView.pushView("archive")}},{key:"shareBoard",value:function(e){v.stop(e),g.toggle({elem:this.$(e.target).closest(".js-share"),view:new w({model:this.model,modelCache:this.modelCache})}),S("Board Menu","Open Share, Print, and Export Menu")}},{key:"openEmailSettings",value:function(e){v.stop(e),g.toggle({elem:this.$(e.target).closest(".js-email"),view:new k({model:this.model,modelCache:this.modelCache})}),S("Board Menu","Open Email Settings - Menu")}},{key:"copyBoard",value:function(e){v.stop(e),u(e.target).hasClass("disabled")||(S("Board Menu","Open Copy Board"),this.sidebarView.sendClickedDrawerNavItemEvent("more","copyBoard"),g.toggle({elem:this.$(e.target).closest(".js-copy-board"),view:new j({model:this.model,modelCache:this.modelCache})}))}},{key:"toggleSubscribe",value:function(e){v.preventDefault(e),u(e.target).hasClass("disabled")||(this.model.subscribe(!this.model.get("subscribed")),S("Board Menu","Subscribe/Unsubscribe"),this.sidebarView.sendClickedDrawerNavItemEvent("more","watch",{watchEnabled:this.model.get("subscribed")}),this.sendGASEvent&&f.sendTrackEvent({action:this.model.get("subscribed")?"subscribed":"unsubscribed",actionSubject:"board",source:"boardMenuDrawerMoreScreen",containers:{board:{id:this.model.id}}}))}},{key:"closeConfirm",value:function(e){var t=this;v.stop(e),S("Board Menu","Open Close Menu"),this.sidebarView.sendClickedDrawerNavItemEvent("more","closeBoard"),y.toggle("close board",{elem:u(e.target).closest("a"),model:this.model,confirmBtnClass:"negate",fxConfirm:function(e){if(t.model.close(),S("Board","Close Board"),t.sendGASEvent)return f.sendTrackEvent({action:"closed",actionSubject:"board",source:"boardMenuDrawerMoreScreen",containers:{board:{id:t.model.id}}})}})}},{key:"leaveConfirm",value:function(e){var t=this;v.stop(e),S("Board Menu","Open Leave Menu"),this.sidebarView.sendClickedDrawerNavItemEvent("more","leaveBoard");var n=p.me(),r=n.removeMembershipConfirmationKey(this.model);y.toggle(r,{elem:u(e.target).closest("a"),confirmBtnClass:"negate",fxConfirm:function(e){if(t.model.removeMember(n),S("Board","Leave Board"),t.sendGASEvent)return f.sendTrackEvent({action:"left",actionSubject:"board",source:"boardMenuDrawerMoreScreen",containers:{board:{id:t.model.board}}})}})}},{key:"selectUrl",value:function(e){return this.$(".js-short-url").focus().select()}},{key:"cancel",value:function(e){return v.stop(e),!1}},{key:"makeTemplate",value:function(e){if(v.stop(e),E("board menu","opens","create template menu","","","by clicking create template button",{boardId:this.model.id,teamId:W(this.model.getOrganization(),(function(e){return e.id}))}),this.sidebarView.sendClickedDrawerNavItemEvent("more","makeTemplateFromBoard"),!u(e.target).hasClass("disabled"))return g.toggle({elem:this.$(e.target).closest(".js-make-template"),view:new x({model:this.model,modelCache:this.modelCache})})}},{key:"convertToBoard",value:function(){return d.show("converting","info","templates",1e3),this.model.setPref("isTemplate",!1).save(),E("board menu","converts","template","to board","","by clicking template toggle",{boardId:this.model.id,teamId:W(this.model.getOrganization(),(function(e){return e.id}))}),this.sidebarView.sendClickedDrawerNavItemEvent("more","convertToBoard")}}])&&i(n.prototype,b),_&&i(n,_),J}(b);function W(e,t){return null!=e?t(e):void 0}K.initClass(),e.exports=K},"./app/scripts/views/board-menu/board-settings-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./packages/jquery/index.js"),u=n("./app/scripts/db/auth.coffee"),d=n("./app/scripts/views/board-menu/board-select-organization-view.js"),p=n("./app/scripts/views/board-menu/change-board-add-member-perms-view.js"),f=n("./app/scripts/views/board-menu/change-board-commenting-perms-view.js"),m=n("./app/scripts/views/power-ups/voting-settings-view.js"),h=n("./app/scripts/views/lib/pop-over.coffee"),g=n("./app/scripts/lib/util/index.coffee"),v=n("./app/scripts/views/internal/view.coffee"),b=n("./app/scripts/views/internal/templates.coffee"),y=n("./packages/analytics/index.ts"),w=y.track,k=y.trackUe,j=n("./app/scripts/lib/localize.coffee"),x=n("./packages/atlassian-analytics/index.ts").Analytics,_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(S,e);var t,v,y,_,C=(t=S,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function S(){return r(this,S),C.apply(this,arguments)}return v=S,_=[{key:"initClass",value:function(){this.prototype.viewTitleKey="settings",this.prototype.className="board-menu-content-frame",this.prototype.events={"click .js-change-org:not(.disabled)":"changeOrg","click .js-toggle-covers:not(.disabled)":"toggleCovers","click .js-change-comments:not(.disabled)":"changeCommentingPerms","click .js-change-voting:not(.disabled)":"changeVotingPerms","click .js-change-add-members:not(.disabled)":"changeAddMemberPerms","click .js-toggle-org-mem-join:not(.disabled)":"toggleSelfJoin","click .js-change-cookie-settings":"changeCookieSettings"}}}],(y=[{key:"initialize",value:function(e){var t=e.sidebarView;this.sidebarView=t,this.makeDebouncedMethods("render"),this.listenTo(this.model,"change",this.renderDebounced)}},{key:"render",value:function(){var e=this.model.toJSON({prefs:!0,url:!0,labels:!0});e.isLoggedIn=u.isLoggedIn(),e.cardCovers=e.prefs.cardCovers;var t=this.model.getOrganization();return e.orgDisplayName=null!=t?t.get("displayName"):void 0,e.hasOrg=null!=(null!=t?t.id:void 0),e.votingEnabled=this.model.isPowerUpEnabled("voting"),e.commentsDisplay=j(["board pref perms",this.model.getCommentPerm()]),e.votingDisplay=j(["board pref perms",this.model.getPref("voting")]),e.invitationsDisplay=j(["board pref perms",this.model.getInvitePerm()]),e.canChangeOrg=(null!=t?t.owned():void 0)||this.model.owned(),(null!=t?t.owned():void 0)&&!this.model.owned()&&(e.setOrgNull=!0),e.isTemplate=this.model.isTemplate(),this.$el.html(b.fill(n("./app/scripts/views/templates/board_menu_settings.js"),e,{editable:this.model.editable(),owned:this.model.owned()})),this}},{key:"changeOrg",value:function(e){var t=this;if(g.stop(e),this.model.owned())h.toggle({elem:l(e.target).closest("a"),view:d,options:{model:this.model,modelCache:this.modelCache}}),w("Board Menu","Settings","Change Org"),this.sidebarView.sendClickedDrawerNavItemEvent("settings","changeOrg");else{var n=this.model.get("idOrganization");O(this.modelCache.get("Organization",n),(function(e){return e.boardList.remove(t.model)})),this.model.update("idOrganization",""),h.hide(),w("Board Menu","Settings","Remove Org"),x.sendUpdatedBoardFieldEvent({field:"organization",source:"boardMenuDrawerSettingsScreen",containers:{board:{id:this.model.id}},attributes:{previous:n}}),this.sidebarView.sendClickedDrawerNavItemEvent("settings","removeOrg")}}},{key:"toggleCovers",value:function(e,t){g.stop(e),this.model.setPref("cardCovers",!this.model.getPref("cardCovers")),w("Board Menu","Settings","Enable/Disable Cover Images"),x.sendUpdatedBoardFieldEvent({field:"cardCoversPref",value:this.model.getPref("cardCovers"),source:"boardMenuDrawerSettingsScreen",containers:{board:{id:this.model.id},organization:{id:O(this.model.getOrganization(),(function(e){return e.id}))}}}),this.sidebarView.sendClickedDrawerNavItemEvent("settings","cardCovers",{cardCoversEnabled:this.model.getPref("cardCovers")})}},{key:"changeCommentingPerms",value:function(e){g.stop(e),h.toggle({elem:l(e.target).closest("a"),view:new f({model:this.model,modelCache:this.modelCache})}),w("Board Menu","Settings","Open Change Commenting Permissions"),this.sidebarView.sendClickedDrawerNavItemEvent("settings","commentPerms")}},{key:"changeVotingPerms",value:function(e){g.stop(e),h.toggle({elem:l(e.target).closest("a"),view:new m({model:this.model,modelCache:this.modelCache})}),w("Board Menu","Settings","Open Change Voting Permissions"),this.sidebarView.sendClickedDrawerNavItemEvent("settings","votingPerms")}},{key:"changeAddMemberPerms",value:function(e){g.stop(e),h.toggle({elem:l(e.target).closest("a"),view:new p({model:this.model,modelCache:this.modelCache})}),w("Board Menu","Settings","Open Change Add Member Permissions"),this.sidebarView.sendClickedDrawerNavItemEvent("settings","invitationsPerms",{invitationsEnabled:this.model.getPref("invitations")})}},{key:"toggleSelfJoin",value:function(e){g.stop(e),this.model.setPref("selfJoin",!this.model.getPref("selfJoin")),this.model.save(),w("Board Menu","Settings","Toggle Allow Org Join"),x.sendUpdatedBoardFieldEvent({field:"selfJoinPref",value:this.model.getPref("selfJoin"),source:"boardMenuDrawerSettingsScreen",containers:{board:{id:this.model.id},organization:{id:O(this.model.getOrganization(),(function(e){return e.id}))}}}),this.sidebarView.sendClickedDrawerNavItemEvent("settings","selfJoin",{selfJoinEnabled:this.model.getPref("selfJoin")})}},{key:"changeCookieSettings",value:function(){return k("boards sidebar","opens","cookie settings"),this.sidebarView.sendClickedDrawerNavItemEvent("settings","cookieConsent"),window.trelloCookieConsentDialog()}}])&&i(v.prototype,y),_&&i(v,_),S}(v);function O(e,t){return null!=e?t(e):void 0}_.initClass(),e.exports=_},"./app/scripts/views/board-menu/board-sidebar-default-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./app/scripts/models/collections/action-list.coffee"),d=n("./app/scripts/views/action/action-list-view.js"),p=n("./packages/atlassian-analytics/index.ts").Analytics,f=n("./app/scripts/db/auth.coffee"),m=n("./app/scripts/data/backgrounds.js"),h=n("./app/scripts/views/board-menu/board-sidebar-power-up-slots-view.js"),g=n("./app/scripts/data/butler-id.js"),v=n("./app/scripts/views/internal/plugins/plugin-runner.coffee"),b=n("./packages/storage/index.ts").TrelloStorage,y=n("./app/scripts/lib/util/index.coffee"),w=n("./app/scripts/views/internal/view.coffee"),k=n("./node_modules/underscore/underscore.js"),j=n("./app/scripts/views/internal/templates.coffee"),x=n("./app/scripts/views/templates/board_menu_default.js"),_=n("./app/scripts/views/internal/plugins/plugins-changed-signal.coffee"),O=n("./packages/feature-flag-client/index.ts").featureFlagClient,C=n("./app/scripts/lib/localize-count.coffee"),S=n("./app/common/lib/util/i18n/formatters.ts").asNumber,E=n("./app/scripts/views/internal/view-with-actions.coffee"),P=n("./app/scripts/data/latest-power-ups-message.js"),T=n("./packages/analytics/index.ts"),D=T.Noun,A=T.Verb,B=T.track,R=T.trackUe,L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(L,e);var t,w,k,E,T=(t=L,function(){var e,n=l(t);if(c()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function L(){return r(this,L),T.apply(this,arguments)}return w=L,E=[{key:"initClass",value:function(){this.prototype.viewTitleKey="menu",this.prototype.viewIcon="member",this.prototype.className="board-menu-content-frame",this.prototype.headerDisplayTypeClass="is-board-menu-default-view",this.prototype.events={"click .js-about-this-board":"openAboutThisBoard","click .js-change-background":"changeBackground","click .js-open-power-ups"(e){return p.sendClickedLinkEvent({linkName:"boardMenuPowerUpLink",attributes:{boardId:this.model.id,organizationId:this.model.get("idOrganization")},source:"boardMenuDrawer"}),this.showPowerUps(e)},"click .js-open-stickers":"openStickers","click .js-open-card-filter":"showCardFilter","click .js-open-activity":"openActivity","click .js-open-more":"openMore","click .js-power-up-empty-slot":"showPowerUps","click .js-enterprise-upsell-dismiss":"enterpriseUpsellDismiss","click .js-enterprise-upsell-learn-more":"enterpriseUpsellLearnMore","click .js-open-butler":"openButler"}}}],(k=[{key:"initialize",value:function(e){var t=this,n=e.sidebarView;return this.sidebarView=n,this.numActionsToShow=15,this.makeDebouncedMethods("render","renderMembers"),this.listenTo(this.model,{"change:datePluginDisable":this.renderPowerUpDisableTimer,"change:prefs.permissionLevel":this.renderDebounced,"change:prefs.isTemplate":this.renderDebounced,"change:powerUps":this.renderEnabledPowerUpCount,"change:desc":this.renderAboutThisBoardSummary,"change:memberships":this.renderAboutThisBoardSummary,"change:idOrganization":function(){return t.renderButlerButton(),t.renderEnabledPowerUpCount()}}),this.listenTo(f.me().organizationList,"change",(function(){return t.renderDebounced()})),this.listenTo(this.model.boardPluginList,{"add remove reset":function(e){return t.renderEnabledPowerUpCount(),t.renderButlerButton()}}),this.subscribe(_(this.model),(function(){return t.renderEnabledPowerUpCount()})),this.actionListView=this.collectionSubview(d,new u([],{modelCache:this.modelCache}),{renderOpts:{limit:this.numActionsToShow,context:this.model,compact:!0,truncateComments:function(e){return e.get("date")<t.model.get("dateLastView")},excludeTypes:["copyCommentCard"]}}),this.waitForId(this.model,(function(){return t.listenTo(t.modelCache,"add:Action:".concat(t.model.id," remove:Action:").concat(t.model.id," change:Action:").concat(t.model.id),t.frameDebounce((function(){return t.renderActionCount(),t.actionListView.collection.reset(t.getActions())}))),t.actionListView.collection.reset(t.getActions())})),this.enterpriseUpsellsEnabled=this.model.canUpsellToEnterprise()&&O.get("enterprise.up_sells",!1),this.sendGASEvent=O.get("dataeng.gasv3-event-tracking",!1)}},{key:"renderAboutThisBoardSummary",value:function(){var e=this.model.isMember(f.me()),t=this.model.get("desc").length>0;return this.$(".board-menu-about-this-board-summary").toggleClass("hide",t||!e),this}},{key:"render",value:function(){var e=f.me(),t={editable:this.model.editable(),hasBCPowerUps:e.hasBCPowerUps(),hasGoldPowerUps:e.isFeatureEnabled("threePlugins"),isTemplate:this.model.isTemplate(),showEnterpriseUpsell:this.enterpriseUpsellsEnabled};if(this.$el.html(x(t)),this.enterpriseUpsellsEnabled){var n=this.model.get("idOrganization");R(D.BOARD_SIDEBAR,A.SHOWS,D.ENTERPRISE_UPSELL,"","","to eligible team member",{idOrganization:n}),this.sendGASEvent&&p.sendScreenEvent({name:"boardMenuDrawerEnterpriseUpsellInlineDialog",containers:{organization:{id:n}}})}return this.$(".js-menu-action-list").length&&(this.actionListView.setElement(this.$(".js-menu-action-list")[0]),this.renderActions(),this.renderActionCount()),this.renderEnabledPowerUpCount(),this.renderBackgroundPreview(),this.renderPowerUpDisableTimer(),this.renderPowerUpSlots(),this.renderAboutThisBoardSummary(),this.renderButlerButton(),this}},{key:"renderBackgroundPreview",value:function(){var e,t,n=this.$(".js-fill-background-preview").css({"background-image":"","background-color":""});if(null!=M(m[this.model.getPref("background")],(function(e){return e.tile})))t=this.model.getPref("backgroundImage");else if(null!=this.model.getPref("backgroundImageScaled")||null!=this.model.getPref("backgroundImage")){var r,i;t=null!=(r=null!=(i=M(y.previewBetween(this.model.getPref("backgroundImageScaled"),90,60,600,400),(function(e){return e.url})))?i:this.model.get("fullSizeUrl"))?r:this.model.getPref("backgroundImage")}else e=null!=this.model.getPref("backgroundColor")?this.model.getClientBackgroundColor(this.model.getPref("background")):this.model.getClientBackgroundColor("blue");return n.css({"background-image":t?"url(".concat(t,")"):"","background-color":e}),this}},{key:"getDateLastViewedActionsStorageKey",value:function(){return this.model.id?"timeLastViewedActions-".concat(this.model.id):null}},{key:"setDateLastViewedActions",value:function(e){var t;null!=(t=this.getDateLastViewedActionsStorageKey())&&b.set(t,e.toISOString())}},{key:"setDateLastViewedActionsAsNow",value:function(){this.setDateLastViewedActions(new Date)}},{key:"getDateLastViewedActions",value:function(){var e,t;return null!=(e=this.getDateLastViewedActionsStorageKey())&&null!=(t=b.get(e))?new Date(t):null}},{key:"renderActionCount",value:function(){if(this.$(".js-unread-activity-count").length){this.$(".js-unread-activity-count").empty();var e=this.getDateLastViewedActions();null==e&&(e=new Date,this.setDateLastViewedActions(e));for(var t=function(t){var n=new Date(t.get("date"))>e,r=t.get("idMemberCreator")!==f.me().id;return n&&r},r=0,i=0,o=Array.from(this.model.getActions());i<o.length;i++)t(o[i])&&r++;0<r&&r<=this.numActionsToShow&&this.setDateLastViewedActionsAsNow();var s=r;r>=50&&(s="".concat(50,"+")),r>this.numActionsToShow&&this.$(".js-unread-activity-count").text(s);var a={count:s,hasCount:r>this.numActionsToShow};return this.$(".js-fill-activity-button").empty().append(j.fill(n("./app/scripts/views/templates/board_menu_more_activity_button.js"),a)),this}}},{key:"renderPowerUpDisableTimer",value:function(){var e=this.model.daysUntilPluginsDisable();return null!==e?this.$(".js-power-up-disable-timer").removeClass("hide").text(C("days remaining",e)):this.$(".js-power-up-disable-timer").addClass("hide")}},{key:"getEnabledPowerUpCount",value:function(){return this.model.get("powerUps").length+this.model.powerUpsCount()}},{key:"renderButlerButton",value:function(){return this.$(".js-butler-button").toggleClass("hide",!this.model.isButlerCore())}},{key:"renderEnabledPowerUpCount",value:function(){var e=f.me();if(e&&P&&!e.isDismissed(P))this.$(".js-enabled-power-up-count").text(""),this.$(".js-power-up-new").removeClass("hide");else{this.$(".js-power-up-new").addClass("hide");var t=this.getEnabledPowerUpCount();t>0?this.$(".js-enabled-power-up-count").text(S(t)):this.$(".js-enabled-power-up-count").text("")}return this}},{key:"renderActions",value:function(){return this.actionListView.render(),this}},{key:"showPowerUps",value:function(e){y.stop(e);var t=f.me();t&&P&&!t.isDismissed(P)&&t.dismiss(P);var n=this.sidebarView.getBoardView();if(n.toggleDirectory(),!n.directoryView){var r=this.$(e.target).hasClass("js-power-up-empty-slot");this.sendGASEvent&&(r?p.sendClickedButtonEvent({buttonName:"emptyPowerUpSlotButton",source:"boardMenuDrawerDefaultScreen",containers:{board:{id:this.model.id}}}):this.sidebarView.sendClickedDrawerNavItemEvent("default","powerUpDirectory")),R("board view","opens","Power-Up directory home page","","","by clicking ".concat(r?"empty Power-Up slot":"Power-Ups button"," in sidebar"))}this.model.daysUntilPluginsDisable()||B("Board Menu","Open Power-Ups")}},{key:"showCardFilter",value:function(e){y.stop(e),this.sidebarView.pushView("filter")}},{key:"openStickers",value:function(e){y.stop(e),this.sidebarView.pushView("stickers")}},{key:"openAboutThisBoard",value:function(e){y.stop(e),this.sidebarView.pushView("about")}},{key:"changeBackground",value:function(e){y.stop(e),this.sidebarView.pushView("background")}},{key:"openActivity",value:function(e){y.stop(e),this.sidebarView.pushView("activity"),this.setDateLastViewedActionsAsNow()}},{key:"openMore",value:function(e){y.stop(e),this.sidebarView.pushView("more")}},{key:"remove",value:function(){return"function"==typeof this.unmountBCPrompt&&this.unmountBCPrompt(),this.setDateLastViewedActionsAsNow(),o(l(L.prototype),"remove",this).apply(this,arguments)}},{key:"renderPowerUpSlots",value:function(){var e=this.$(".js-power-up-slots-container"),t=this.subview(h,this.model);return this.appendSubview(t,e)}},{key:"enterpriseUpsellDismiss",value:function(){var e=this.model.get("idOrganization");return f.me().dismiss("enterprise-upsell-board-sidebar"),R(D.BOARD_SIDEBAR,A.DISMISSES,D.ENTERPRISE_UPSELL,"","",'by clicking "Dismiss"'),this.sendGASEvent&&p.sendDismissedComponentEvent({componentType:"inlineDialog",componentName:"boardMenuDrawerEnterpriseUpsellInlineDialog",containers:{organization:{id:e}}}),this.$(".enterprise-up-sell.on-board").remove()}},{key:"enterpriseUpsellLearnMore",value:function(){var e=this.model.get("idOrganization"),t=M(this.model.getOrganization(),(function(e){return e.isBusinessClass()}))?"bc":"free";return R(D.BOARD_SIDEBAR,A.OPENS,D.ENTERPRISE_MARKETING_PAGE,"","",'by clicking "Learn More"',{idOrganization:e,orgType:t}),this.sendGASEvent&&p.sendClickedLinkEvent({linkName:"learnMoreLink",source:"boardMenuDrawerEnterpriseUpsellInlineDialog",containers:{organization:{id:e,type:t}}}),window.open("/enterprise?app_source=board_sidebar&org_id=".concat(e,"&org_type=").concat(t))}},{key:"openButler",value:function(e){return v.one({plugin:g,command:"show-settings",board:this.model,el:e.currentTarget})}}])&&i(w.prototype,k),E&&i(w,E),L}(w);function M(e,t){return null!=e?t(e):void 0}L.initClass(),k.extend(L.prototype,E),e.exports=L},"./app/scripts/views/board-menu/board-sidebar-power-up-slot-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u,d=n("./packages/atlassian-analytics/index.ts").Analytics,p=n("./app/scripts/views/directory/directory-plugin-item-view.js"),f=n("./packages/feature-flag-client/index.ts").featureFlagClient,m=n("./app/scripts/views/lib/pop-over.coffee"),h=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_menu_power_up_slot"),g=n("./packages/analytics/index.ts").trackUe,v=n("./app/scripts/controller/index.js"),b=n("./app/scripts/controller/navigate.js").navigate,y=h.renderable((function(e){e.id;var t=e.name,n=e.icon;return h.a(".board-menu-navigation-item-link.mod-enabled",{href:"#"},(function(){return h.span(".board-menu-navigation-item-link-icon.mod-enabled",{style:"background-image: url(".concat(n.url,")")}),h.raw("&nbsp;"),h.text(t)}))}));e.exports=((u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(w,e);var t,n,u,p,h=(t=w,function(){var e,n=l(t);if(c()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function w(){return r(this,w),h.apply(this,arguments)}return n=w,p=[{key:"initClass",value:function(){this.prototype.tagName="li",this.prototype.className="board-menu-navigation-item mod-power-up-slot",this.prototype.events={click:"toggleOptions"}}}],(u=[{key:"initialize",value:function(e){var t=e.plugin;return this.plugin=t,o(l(w.prototype),"initialize",this).apply(this,arguments)}},{key:"showListingOption",value:function(){return!0}},{key:"navigateToListing",value:function(){var e=v.getBoardUrl(this.model.id,"power-up",[this.plugin.id]);if(b(e,{trigger:!0}),m.hide(),g("power-up slot","opens","Power-Up directory list page","","","by clicking view Power-Up",this.plugin.id),f.get("dataeng.gasv3-event-tracking",!1))return d.sendClickedButtonEvent({buttonName:"powerUpSlotButton",source:"boardMenuDrawerDefaultScreen",containers:{board:{id:this.model.id}},attributes:{powerUpId:this.plugin.id}})}},{key:"render",value:function(){return this.$el.html(y({id:this.plugin.id,name:this.plugin.get("name"),icon:this.plugin.get("icon")})),this}}])&&i(n.prototype,u),p&&i(n,p),w}(p)).initClass(),u=u)},"./app/scripts/views/board-menu/board-sidebar-power-up-slots-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./node_modules/underscore/underscore.js"),d=n("./node_modules/react/index.js"),p=n("./packages/atlassian-analytics/index.ts").Analytics,f=n("./app/scripts/db/auth.coffee"),m=n("./app/scripts/views/board-menu/board-sidebar-power-up-slot-view.js"),h=n("./app/scripts/controller/index.js"),g=n("./packages/feature-flag-client/index.ts").featureFlagClient,v=n("./app/scripts/view-models/member-state.coffee"),b=n("./app/scripts/views/internal/plugins/plugin-runner.coffee"),y=n("./app/scripts/views/internal/plugins/plugins-changed-signal.coffee"),w=n("./node_modules/bluebird/js/browser/bluebird.js"),k=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_menu_power_up_slot"),j=n("./app/scripts/views/board-menu/BoardSidebarPuPUpsell.tsx").BoardSidebarPuPUpsell,x=n("./app/src/components/UpgradePrompts/renderUpgradePrompt.ts").renderUpgradePrompt,_=n("./app/scripts/lib/util/index.coffee"),O=n("./app/scripts/views/internal/view.coffee"),C=n("./packages/analytics/index.ts"),S=C.Noun,E=C.Verb,P=C.trackUe,T=k.renderable((function(){return k.li(".board-menu-navigation-item.mod-power-up-slot.js-empty-slot-upsell")})),D=k.renderable((function(e){var t=e.index;return k.li(".board-menu-navigation-item.mod-power-up-slot",(function(){return k.a(".board-menu-navigation-item-link.js-power-up-empty-slot",{href:"#"},(function(){return k.span(".board-menu-navigation-item-link-icon",(function(){if(null!=t)return k.text(t)})),k.raw("&nbsp;"),k.format("add-power-up")}))}))})),A=k.renderable((function(){return k.ul(".board-menu-navigation.js-power-up-slots"),k.ul(".board-menu-navigation.js-upsell-slots"),k.ul(".board-menu-navigation",(function(){return k.li(".board-menu-navigation-item.mod-power-up-slot.js-show-fewer.hide",(function(){return k.a(".board-menu-navigation-item-link",{href:"#"},(function(){return k.raw("&nbsp;"),k.format("show-fewer-power-ups")}))})),k.li(".board-menu-navigation-item.mod-power-up-slot.js-show-more.hide",(function(){return k.a(".board-menu-navigation-item-link",{href:"#"},(function(){return k.raw("&nbsp;"),k.format("view-all-power-ups")}))}))}))})),B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(B,e);var t,n,k,O,C=(t=B,function(){var e,n=l(t);if(c()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function B(){return r(this,B),C.apply(this,arguments)}return n=B,O=[{key:"initClass",value:function(){this.prototype.events={"click .js-show-fewer":"showFewer","click .js-show-more":"showMore"}}}],(k=[{key:"initialize",value:function(){var e=this;return this.collapsed=!1,this.makeDebouncedMethods("renderPowerUpSlots"),this.listenTo(this.model,{"change:idOrganization":this.renderPowerUpSlotsDebounced}),this.listenTo(this.model.boardPluginList,{"add remove reset":function(t){return e.renderPowerUpSlotsDebounced()}}),this.subscribe(y(this.model),(function(){return e.renderPowerUpSlotsDebounced()})),this.listenTo(v,{"change:idBoardCollapsedPowerUps":this.renderPowerUpSlotsDebounced}),this.sendGASEvent=g.get("dataeng.gasv3-event-tracking",!1)}},{key:"remove",value:function(){return"function"==typeof this.unmountPupPrompt&&this.unmountPupPrompt(),o(l(B.prototype),"remove",this).apply(this,arguments)}},{key:"showFewer",value:function(e){return _.stop(e),P(S.BOARD_VIEW,E.HIDES,"Power-Up sidebar slots","","","by clicking the show fewer Power-ups button"),this.sendGASEvent&&p.sendClickedButtonEvent({buttonName:"showFewerPowerUpsButton",source:"boardMenuDrawerDefaultScreen",containers:{board:{id:this.model.id}}}),v.pushBoardCollapsedPowerUps(this.model.id)}},{key:"showMore",value:function(e){return _.stop(e),P(S.BOARD_VIEW,E.SHOWS,"Power-Up sidebar slots","","","by clicking the view all Power-ups button"),this.sendGASEvent&&p.sendClickedButtonEvent({buttonName:"showAllPowerUpsButton",source:"boardMenuDrawerDefaultScreen",containers:{board:{id:this.model.id}}}),v.pullBoardCollapsedPowerUps(this.model.id)}},{key:"isCollapsed",value:function(){return v.inSet("idBoardCollapsedPowerUps",this.model.id)}},{key:"renderPowerUpSlots",value:function(){var e=this,t=this.isCollapsed(),n=this.model.boardPluginList.models;return this.model.isButlerCore()&&(n=n.filter((function(e){return!e.isButler()}))),w.map(n,(function(t){return b.getOrLoadPlugin(e.model,t.get("idPlugin"))})).map((function(t){return e.subview(m,e.model,{plugin:t,currentPage:"board view"},t.id)})).then((function(n){var r=n;return t&n.length>3&&(r=u.first(n,3)),e.ensureSubviews(r,e.$(".js-power-up-slots"))})).finally((function(){var n,r=e.$(".js-upsell-slots");"function"==typeof e.unmountPupPrompt&&e.unmountPupPrompt(),r.empty();var i=e.model.powerUpsCount(),o=i>3&&!t;e.$(".js-show-fewer").toggleClass("hide",!o);var s=i>3&&t;e.$(".js-show-more").toggleClass("hide",!s);var a=f.me(),c=e.model.getOrganization(),l=null!=(n=null!=c?c.isPremium():void 0)&&n;if(e.model.canEnableAdditionalPowerUps()){var p=1;a.isFeatureEnabled("threePlugins")&&(p=3-i),a.hasBCPowerUps()&&(p=i<3?3-i:1),u.times(p,(function(e){return r.append(D({index:l?void 0:e+1+i}))}))}var m=c?h.getOrganizationBillingUrl(c):void 0,g=c?c.id:void 0;return r.append(T()),e.unmountPupPrompt=x(d.createElement(j,{billingUrl:m,orgId:g}),r.find(".js-empty-slot-upsell")[0],{boardModel:e.model})}))}},{key:"render",value:function(){return this.$el.html(A()),this.renderPowerUpSlots(),this}}])&&i(n.prototype,k),O&&i(n,O),B}(O);B.initClass(),e.exports=B},"./app/scripts/views/board-menu/board-sidebar-view.js":function(e,t,n){function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n("./packages/jquery/index.js"),p=n("./node_modules/react/index.js"),f=n("./packages/react-dom-wrapper/index.ts"),m=n("./app/scripts/views/archive/archive-view.js"),h=n("./app/scripts/db/auth.coffee"),g=n("./app/scripts/views/board-menu/board-menu-about-this-board-view.js"),v=n("./app/scripts/views/board-menu/board-labels-view.js"),b=n("./app/scripts/views/board-menu/board-menu-activity-view.js"),y=n("./app/scripts/views/board-menu/board-sidebar-default-view.js"),w=n("./app/scripts/views/board-menu/board-settings-view.js"),k=n("./app/scripts/views/board-menu/board-menu-more-view.js"),j=n("./app/scripts/views/board-menu/board-collections-view.js"),x=n("./app/scripts/views/board-menu/card-filter-view.js"),_=n("./app/scripts/views/board-menu/change-board-background-view.js"),O=n("./app/scripts/views/board-menu/change-board-background-select-view.js"),C=n("./packages/keybindings/index.ts"),S=C.Key,E=C.registerShortcut,P=C.Scope,T=C.unregisterShortcut,D=n("./app/scripts/views/lib/pop-over.coffee"),A=n("./app/scripts/views/board-menu/sticker-picker-view.js"),B=n("./app/scripts/lib/util/index.coffee"),R=n("./app/scripts/views/internal/view.coffee"),L=n("./node_modules/underscore/underscore.js"),M=n("./packages/feature-flag-client/index.ts").featureFlagClient,N=n("./app/scripts/views/internal/templates.coffee"),I=n("./packages/analytics/index.ts"),U=I.track,F=I.trackUe,V=n("./packages/atlassian-analytics/index.ts").Analytics,z=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,$=n("./app/src/components/TemplateTips/LazyTemplateTipsPopover.tsx").LazyTemplateTipsPopover,H=n("./packages/feature-flag-client/index.ts");M=H.featureFlagClient;var G=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(C,e);var t,i=(t=C,function(){var e,n=u(t);if(l()){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function C(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,C),(t=i.call(this,e)).onShortcut=t.onShortcut.bind(c(t)),E(t.onShortcut,{scope:P.Sidebar,key:S.f}),t}return o(C,null,[{key:"initClass",value:function(){this.prototype.events={"click .js-hide-sidebar":"hideSidebar","click .js-pop-widget-view":"popView"},this.prototype.className="board-menu-container",this.prototype.hackySidebarLifetimeEvents={filter:{didBecomeVisible(e){var t=e.$(".js-autofocus")[0];return B.setCaretAtEnd(t)}},more:{didBecomeVisible:e=>e.selectUrl()},archive:{didBecomeVisible(e){var t=e.$(".js-autofocus")[0];return B.setCaretAtEnd(t)}}}}}]),o(C,[{key:"initialize",value:function(e){var t=e.boardView;this.boardView=t,this.listenTo(this.model,{"change:prefs.isTemplate"(){return this.handleTemplateMode(),this.renderTemplateTips()}}),this.listenTo(this.model,{"change:prefs.permissionLevel"(){return this.renderTemplateTips()}}),this.aboutView=this.subview(g,this.model,{sidebarView:this}),this.defaultView=this.subview(y,this.model,{sidebarView:this});var n=this.model.isTemplate();if(n&&!(null!=this.model?this.model.isMember(h.me()):void 0))this.viewStack=[{name:"about",view:this.aboutView}];else{this.viewStack=[{name:"default",view:this.defaultView}];var r=!!this.model.get("desc")||this.model.ownedByMember(h.me());(this.model.isPublic()&&r||n)&&this.pushView("about",{},{easeIn:!1,showSidebar:this.model.viewState.get("showSidebar")})}this.sendGASEvent=M.get("dataeng.gasv3-event-tracking",!1)}},{key:"remove",value:function(){return T(this.onShortcut),r(u(C.prototype),"remove",this).apply(this,arguments)}},{key:"onShortcut",value:function(){if(this.pushView("filter"),U("Keyboard Shortcuts","F - Search and Filter Cards"),this.sendGASEvent)return V.sendPressedShortcutEvent({shortcutName:"searchAndFilterCardsShortcut",source:"boardScreen",keyValue:"F"})}},{key:"render",value:function(){var e=this;return this.$el.html(N.fill(n("./app/scripts/views/templates/board_sidebar.js"))),this.defer((function(){return e.renderView()})),this}},{key:"sidebarSubviews",value:function(){return{default:y,filter:x,about:g,archive:m,stickers:A,labels:v,background:_,backgroundColors:O,backgroundPhotos:O,activity:b,more:k,settings:w,collections:j}}},{key:"viewNamed",value:function(e,t){for(var n=0,r=Array.from(this.viewStack);n<r.length;n++){var i=r[n],o=i.name,s=i.view;if(e===o)return s}var a=L.result(this,"sidebarSubviews")[e];if(null==a)throw new Error("Unknown sidebar view ".concat(e));var c="filter"===e?this.model.filter:this.model;return new a(L.extend({model:c,modelCache:this.modelCache,sidebarView:this,viewState:null!=t?t.viewState:void 0},t))}},{key:"topSidebarView",value:function(){return L.last(this.viewStack).view}},{key:"topSidebarViewOptions",value:function(){return L.last(this.viewStack).options}},{key:"topSidebarViewName",value:function(){return L.last(this.viewStack).name}},{key:"getScreenFromViewName",value:function(e){null==e&&(e=this.topSidebarViewName());var t=e[0].toUpperCase()+e.slice(1);return"boardMenuDrawer".concat(t,"Screen")}},{key:"sendDrawerScreenEvent",value:function(e,t){if(this.sendGASEvent)return V.sendScreenEvent({name:this.getScreenFromViewName(),containers:{board:{id:this.model.id},organization:{id:q(this.model.getOrganization(),(function(e){return e.id}))||""}},attributes:{previousDrawerScreen:this.getScreenFromViewName(e),drawerNavigationMethod:t}})}},{key:"renderView",value:function(e){null==e&&(e={});var t=e,n=t.direction,r=t.callOnce,i=t.easeIn,o=this.$(".js-board-menu-title"),s=this.$(".js-board-menu-title-text").empty(),a=this.$(".js-board-menu-content-wrapper").empty().scrollTop(0),c=this.topSidebarView();this.$(".board-menu-header").toggleClass("no-transition",!i),a.toggleClass("no-padding",!0===c.noPadding),null!=c.headerDisplayTypeClass?this.$(".js-board-menu-title").addClass(c.headerDisplayTypeClass):1===this.viewStack.length?this.$(".js-board-menu-title").addClass("is-board-menu-default-view"):this.$(".js-board-menu-title").removeClass("is-board-menu-default-view");var l=c.renderIfNecessary().$el;null!=n&&l.addClass(n);var u=c.getViewTitle();return u?(o.addClass("is-in-frame"),s.append(u)):o.removeClass("is-in-frame"),a.append(l),null!=r&&d(".board-menu-content-frame").one("transitionend webkitTransitionEnd",(function(e){return r(c)})),this.defer((function(){if(null!=n)return l.removeClass(n)})),c.delegateEvents(),this}},{key:"renderTemplateTips",value:function(){var e=this;if(M.get("teamplates.template-tips",!1)){if(this.model.isTemplate()&&(null!=this.model?this.model.isMember(h.me()):void 0)&&(null!=this.model?this.model.isPublic():void 0))return d(".board-wrapper").append('<div class="template-tips"></div>'),this.targetDiv=d(".template-tips")[0],z(p.createElement($,{boardId:this.model.id,name:this.model.get("name"),username:h.me().get("username"),toggleAboutThisTemplate:function(){return e.pushView("about")},toggleBackgroundSelector:function(){return e.pushView("background")},isInGallery:!!this.model.get("templateGallery")}),this.targetDiv);if(this.targetDiv)return f.unmountComponentAtNode(this.targetDiv),this.targetDiv=null}}},{key:"pushView",value:function(e,t,n){var r;null==t&&(t={}),null==n&&(n={});var i=n,o=i.animate,s=i.showSidebar,a=i.easeIn;null==o&&(o=!0),null==s&&(s=!0),null==a&&(a=!0);var c=this.viewNamed(e,t),l=null!=q(null!=this.hackySidebarLifetimeEvents?this.hackySidebarLifetimeEvents[e]:void 0,(function(e){return e.didBecomeVisible}))?q(null!=this.hackySidebarLifetimeEvents?this.hackySidebarLifetimeEvents[e]:void 0,(function(e){return e.didBecomeVisible})):function(){},u=c===this.topSidebarView(),p=this.model.viewState.get("showSidebar");if(p?u?l(c):r=l:d(".board-menu").one("transitionend webkitTransitionEnd",(function(e){return l(c)})),s&&!p&&this.model.viewState.setShowSidebar(!0),!u){var f=this.topSidebarViewName();this.viewStack.push({name:e,view:c,options:t});var m=o?"is-right-of-frame":void 0;this.renderView({direction:m,callOnce:r,easeIn:a}),F("board sidebar","opens","".concat(this.topSidebarViewName()," view"),"from ".concat(f," view"),"","",{boardId:this.model.id,teamId:q(this.model.getOrganization(),(function(e){return e.id}))}),this.sendDrawerScreenEvent(f,"push"),D.hide()}}},{key:"popView",value:function(){if(1!==this.viewStack.length){var e=q(this.topSidebarViewOptions(),(function(e){return e.resetTo}));if(e)return this.resetTo(e);var t=this.topSidebarViewName();this.topSidebarView().remove(),this.viewStack.pop(),this.renderView({animate:"is-left-of-frame",easeIn:!0}),F("board sidebar","opens","".concat(this.topSidebarViewName()," view"),"from ".concat(t," view"),"","by clicking on back button",{boardId:this.model.id,teamId:q(this.model.getOrganization(),(function(e){return e.id}))}),this.sendDrawerScreenEvent(t,"back"),D.hide()}}},{key:"resetTo",value:function(e,t){null==t&&(t={});var n=t.animate;null==n&&(n=!0);for(var r=this.topSidebarViewName();1!==this.viewStack.length;)this.viewStack.pop();e&&this.pushView(e,{},t),this.renderView({animate:n?"is-left-of-frame":void 0}),F("board sidebar","opens","".concat(this.topSidebarViewName()," view"),"from ".concat(r," view"),"","via reset",{boardId:this.model.id,teamId:q(this.model.getOrganization(),(function(e){return e.id}))}),this.sendDrawerScreenEvent(r,"reset"),D.hide()}},{key:"hideSidebar",value:function(){this.model.viewState.setShowSidebar(!1),F("board sidebar","closes","sidebar","on ".concat(this.topSidebarViewName()," view"),"","",{boardId:this.model.id,teamId:q(this.model.getOrganization(),(function(e){return e.id}))}),this.sendGASEvent&&V.sendClickedButtonEvent({buttonName:"boardMenuDrawerCloseButton",source:this.getScreenFromViewName(),containers:{board:{id:this.model.id},organization:{id:q(this.model.getOrganization(),(function(e){return e.id}))}}})}},{key:"getBoardView",value:function(){return this.boardView}},{key:"handleTemplateMode",value:function(){var e=this.model.isTemplate();return e&&!this.model.owned()?(this.viewStack=[{name:"about",view:this.aboutView}],this.renderView()):e||"about"===this.topSidebarViewName()?(this.viewStack=[{name:"default",view:this.defaultView}],this.pushView("about",{},{easeIn:!1,showSidebar:this.model.viewState.get("showSidebar")})):void 0}},{key:"sendClickedDrawerNavItemEvent",value:function(e,t,n){null==n&&(n={});var r=["makeTemplateFromBoard","convertToBoard"].includes(t);if(this.sendGASEvent||r){e=e[0].toUpperCase()+e.slice(1).toLowerCase();var i={action:"clicked",actionSubject:"drawerNavigationItem",actionSubjectId:(t=t[0].toLowerCase()+t.slice(1))+"DrawerNavigationItem",source:"boardMenuDrawer".concat(e,"Screen"),containers:{board:{id:this.model.id},organization:{id:q(this.model.getOrganization(),(function(e){return e.id}))}}};return Object.keys(n).length&&(i.attributes=n),V.sendUIEvent(i)}}}]),C}(R);function q(e,t){return null!=e?t(e):void 0}G.initClass(),e.exports=G},"./app/scripts/views/board-menu/card-filter-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./packages/jquery/index.js"),u=n("./packages/keybindings/index.ts"),d=u.getKey,p=u.Key,f=n("./app/scripts/lib/util/index.coffee"),m=n("./app/scripts/views/internal/view.coffee"),h=n("./node_modules/underscore/underscore.js"),g=n("./app/scripts/views/internal/templates.coffee"),v=n("./app/scripts/lib/localize.coffee"),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(w,e);var t,u,m,b,y=(t=w,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function w(){return r(this,w),y.apply(this,arguments)}return u=w,b=[{key:"initClass",value:function(){this.prototype.viewTitleKey="search cards",this.prototype.viewIcon="search cards",this.prototype.className="board-menu-content-frame",this.prototype.events={"click .js-toggle-label-filter":"toggleLabelFilter","click .js-select-member":"toggleMemberFilter","click .js-show-all-labels":"showAllLabels","click .js-show-all-members":"showAllMembers","click .js-clear-all":"clearFilter","click .js-due-filter":"toggleDateFilter","click .js-mode-filter":"toggleModeFilter","mouseenter .js-filter-search-results li":"hoverSelect","mouseenter .js-clear-all":"clearAllSelected","mouseenter .js-show-all-members":"clearAllSelected","keydown .js-input":"keyDownEvent","keyup .js-input":"keyUpEvent"}}}],(m=[{key:"initialize",value:function(){return this.listenTo(this.model.board,"change:labelNames change:memberships",this.renderFilterOptions),this.listenTo(this.model,"change",this.renderFilterOptions)}},{key:"render",value:function(){this.isFiltering=!1;var e=this.model.toJSON();return this.$el.html(g.fill(n("./app/scripts/views/templates/filter_cards.js"),e)),this.renderFilterOptions(),this}},{key:"renderFilterOptions",value:function(){var e,t,r=this.model.toJSON({board:!0,expanded:!0}),i=!h.isEmpty(r.labels),o=!h.isEmpty(r.members),s=this.model.get("title")&&(i||o),a=this.model.getBoard();s?(r.limitMembers=!1,r.limitLabels=!1):((null==(e=this.model.get("limitMembers"))||e)&&(7===r.members.length?r.limitMembers=!1:(r.remainingMembers=Math.max(0,r.members.length-6),r.members=h.first(r.members,6).map((function(e){return e.isDeactivated=a.isDeactivated(e),e})),r.limitMembers=r.remainingMembers>0)),(null==(t=this.model.get("limitLabels"))||t)&&(7===r.labels.length?r.limitLabels=!1:(r.remainingLabels=Math.max(0,r.labels.length-6),r.labels=h.first(r.labels,6),r.limitLabels=r.remainingLabels>0)));return h.extend(r,{filtering:s,showHelper:!s,showLabels:!s||i,showMembers:!s||o,showDueTimes:!s,showMatchMode:!s,isFiltering:this.model.isFiltering(),labels:r.labels.map((function(e){var t=e.color?v(["labels",e.color]):"";return h.extend({defaultColorName:t},e)}))}),this.$(".js-filter-search-results").html(g.fill(n("./app/scripts/views/templates/filter_cards_search_results.js"),r,{},{member:g.member,select_member:g.select_member})),null===this.model.get("title")&&this.$(".js-input").val(""),this}},{key:"keyDownEvent",value:function(e){var t=d(e);if([p.Enter,p.ArrowUp,p.ArrowDown].includes(t)){f.stop(e);var n=this.$(".item, .label-list-item"),r=n.filter(".selected").first();t===p.Enter?r.find("a").click():[p.ArrowUp,p.ArrowDown].includes(t)&&(0===r.length?n.first().addClass("selected"):f.navMenuList(this.$el,".item, .label-list-item",t))}}},{key:"keyUpEvent",value:function(e){var t=d(e);if(![p.Escape,p.Enter,p.ArrowUp,p.ArrowDown].includes(t))return this.model.save({title:this.$(".js-input").val(),limitMembers:!0,limitLabels:!0})}},{key:"showAllMembers",value:function(e){f.stop(e),this.model.save("limitMembers",!1)}},{key:"showAllLabels",value:function(e){f.stop(e),this.model.save("limitLabels",!1)}},{key:"_clearAndFocusInput",value:function(){return this.model.save({title:""}),this.$(".js-input").val("").focus()}},{key:"toggleLabelFilter",value:function(e){f.stop(e);var t=l(e.target).closest("a").attr("data-idlabel"),n=this.model.toJSON({expanded:!0});return h.isEmpty(n.labels)||this._clearAndFocusInput(),this.model.toggleIdLabel(t)}},{key:"toggleMemberFilter",value:function(e){f.stop(e);var t=l(e.target).closest("a").attr("idMember"),n=this.model.toJSON({expanded:!0});return h.isEmpty(n.members)||this._clearAndFocusInput(),f.stop(e),this.model.toggleMember(t)}},{key:"toggleDateFilter",value:function(e){f.stop(e);var t=l(e.target).closest("a").attr("time");return this.model.get("due")===t?this.model.save("due",null):this.model.save("due",t)}},{key:"toggleModeFilter",value:function(e){f.stop(e);var t=l(e.target).closest("a").attr("mode");if(this.model.get("mode")!==t)return this.model.save("mode",t)}},{key:"clearFilter",value:function(e){return this.model.clear()}},{key:"clearAllSelected",value:function(){return this.$("li").removeClass("selected")}},{key:"hoverSelect",value:function(e,t){return this.clearAllSelected(),f.selectMenuItem(l(e.currentTarget).closest("ul"),"li",l(e.currentTarget))}}])&&i(u.prototype,m),b&&i(u,b),w}(m);b.initClass(),e.exports=b},"./app/scripts/views/board-menu/change-board-add-member-perms-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l,u=n("./app/scripts/views/board-menu/change-board-perms-view.js");e.exports=((l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(f,e);var t,l,u,d,p=(t=f,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function f(){return r(this,f),p.apply(this,arguments)}return l=f,d=[{key:"initClass",value:function(){this.prototype.viewTitleKey="add member permissions"}}],(u=[{key:"getTemplate",value:function(){return n("./app/scripts/views/templates/board_menu_invitations.js")}},{key:"getPerm",value:function(){return"invitations"}}])&&i(l.prototype,u),d&&i(l,d),f}(u)).initClass(),l=l)},"./app/scripts/views/board-menu/change-board-background-colors-component-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./app/scripts/data/backgrounds.js"),u=n("./node_modules/react/index.js"),d=n("./node_modules/underscore/underscore.js"),p=n("./packages/analytics/index.ts").track,f=n("./packages/atlassian-analytics/index.ts").Analytics,m=[];for(var h in l){var g=l[h];"default"===g.type&&(m=m.concat({key:h,name:h,color:g.color}))}var v=function(e){var t=e.setBackgroundColor,n=e.name,r=e.color,i=e.boardId;return u.createElement("div",{onClick:()=>(p("Board Menu","Change Background",n),t(n,r),f.sendUpdatedBoardFieldEvent({field:"background",value:n,source:"boardMenuDrawerBackgroundColorsScreen",containers:{board:{id:i}},attributes:{backgroundType:"color"}})),className:"board-backgrounds-section-tile"},u.createElement("div",{className:"image",style:{backgroundColor:r}}))},b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(h,e);var t,n,l,p,f=(t=h,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function h(){return r(this,h),f.apply(this,arguments)}return n=h,p=[{key:"initClass",value:function(){this.prototype.displayName="ColorsView"}}],(l=[{key:"render",value:function(){var e=this.props.setBackgroundColor;return u.createElement("div",{},m.map((function(t){return u.createElement(v,d.extend({setBackgroundColor:e},t))})))}}])&&i(n.prototype,l),p&&i(n,p),h}(u.Component);b.initClass(),e.exports=b},"./app/scripts/views/board-menu/change-board-background-photos-component-view/index.js":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u,d,p=n("./node_modules/react/index.js"),f=n("./app/scripts/lib/localize.coffee"),m=n("./node_modules/underscore/underscore.js").debounce,h=n("./packages/unsplash/index.ts").unsplashClient,g=n("./app/scripts/views/board-menu/change-board-background-photos-component-view/photos-list.js"),v=h.constants.DEFAULT_COLLECTION_ID,b=(u=Math.ceil(screen.height/112*2),(d=Math.ceil(1.5*u))%2&&d++,d),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,e);var t,n=(t=r,function(){var e,n=l(t);if(c()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function r(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r);var i=function(e){return{connectionError:!1,id:e,images:[],isLoading:!1,marker:null,maxPage:1,page:1}};return(t=n.call(this,e)).state={collections:[i(v),i("search")],defaultCollectionActive:!0,defaultCollectionShowTitle:!1,queueID:0,searchTerm:null},t.renderList=t.renderList.bind(a(t)),t.onSearchInputChange=t.onSearchInputChange.bind(a(t)),t.nextPage=t.nextPage.bind(a(t)),t.updateCollection=t.updateCollection.bind(a(t)),t.showErrorInCollection=t.showErrorInCollection.bind(a(t)),t.getUnsplashBackgrounds=t.getUnsplashBackgrounds.bind(a(t)),t.bindObserver=t.bindObserver.bind(a(t)),t.bindMarkers=t.bindMarkers.bind(a(t)),t}return i(r,null,[{key:"initClass",value:function(){this.prototype.displayName="PhotosView"}}]),i(r,[{key:"UNSAFE_componentWillMount",value:function(){return this.debouncedGetUnsplashBackgrounds=m(this.getUnsplashBackgrounds,250)}},{key:"componentDidMount",value:function(){return this.getUnsplashBackgrounds(v)}},{key:"render",value:function(){var e=this.state,t=e.defaultCollectionActive,n=e.defaultCollectionShowTitle,r=e.searchTerm;return p.createElement("div",{className:"board-backgrounds-photos"},p.createElement("div",{className:"search-photos"},p.createElement("input",{onChange:this.onSearchInputChange,placeholder:f(["background photos","photos"]),type:"text"}),p.createElement("span",{className:"icon-sm icon-search"})),p.createElement("div",{className:"board-backgrounds-list-observer",ref:this.bindObserver},r?this.renderList("search"):void 0,n?p.createElement("div",{className:"collection-title"},f(["background photos","top picks"])):void 0,t?this.renderList(v):void 0))}},{key:"renderList",value:function(e){var t=this.props.boardId,n=this.state.collections.filter((function(t){return t.id===e}))[0],r=n.connectionError,i=n.images,o=n.isLoading,s=n.maxPage,a=n.page;return p.createElement(g,{boardId:t,collectionID:e,connectionError:r,images:i,isLoading:o,maxPage:s,page:a,registerMarker:this.registerMarker(e)})}},{key:"onSearchInputChange",value:function(e){var t=this.state.collections,n=e.target.value.trim();if(this.setState({collections:t.map((function(e){return"search"===e.id&&(e.images=[],e.isLoading=!0),e})),defaultCollectionActive:!n,defaultCollectionShowTitle:!1,searchTerm:n}),n)return this.debouncedGetUnsplashBackgrounds("search")}},{key:"nextPage",value:function(e){var t=this.state.collections.filter((function(t){return t.id===e}))[0].page;return this.getUnsplashBackgrounds(e,t+1)}},{key:"updateCollection",value:function(e,t,n){var r=this.state.collections.map((function(r){return r.id===e&&(r.connectionError=!1,r.images=r.images.concat(t),r.isLoading=!1,r.maxPage=n),r})),i=!0,o=!1;return"search"===e&&(o=i=!r.filter((function(e){return"search"===e.id}))[0].images.length),this.setState({collections:r,defaultCollectionActive:i,defaultCollectionShowTitle:o})}},{key:"showErrorInCollection",value:function(e){return this.setState({collections:this.state.collections.map((function(t){return t.id===e&&(t.connectionError=!0,t.isLoading=!1),t}))})}},{key:"getUnsplashBackgrounds",value:function(e,t){var n=this;null==t&&(t=1);var r=this.state,i=r.collections,o=r.queueID,s=r.searchTerm;return o++,this.setState({queueID:o,collections:i.map((function(n){return n.id===e&&(n.page=t,n.isLoading=!0),n}))}),("search"===e?h.searchPhotos(s,t,b,!0).then((function(t){var r=t.results,i=t.total;if(n.state.queueID===o)return n.updateCollection(e,r,Math.ceil(i/b))})):h.getCollectionPhotos(e,t,b,"latest").then((function(r){var i=t+1;return r.length<b&&(i=t),n.updateCollection(e,r,i)}))).catch((function(){return n.showErrorInCollection(e)}))}},{key:"registerMarker",value:function(e){var t=this;return function(n){if(n){var r=t.state.collections.map((function(t){return t.id===e&&(t.marker=n),t}));return t.setState({collections:r}),t.observer?t.bindMarkers():void 0}}}},{key:"bindObserver",value:function(e){var t=this;if(!this.observer&&e){var n=this.state.collections;return this.observer=new IntersectionObserver((function(e){return function(){for(var r=[],i=0,o=Array.from(e);i<o.length;i++){var s=o[i],a=s.isIntersecting||s.intersectionRatio,c=n.filter((function(e){return e.marker===s.target}))[0];a&&!c.isLoading?r.push(t.nextPage(c.id)):r.push(void 0)}return r}()}),{root:e}),this.bindMarkers()}}},{key:"bindMarkers",value:function(){var e=this,t=this.state.collections;return this.observer.disconnect(),function(){for(var n=[],r=0,i=Array.from(t);r<i.length;r++){var o=i[r];o.marker?n.push(e.observer.observe(o.marker)):n.push(void 0)}return n}()}}]),r}(p.Component);y.initClass(),e.exports=y},"./app/scripts/views/board-menu/change-board-background-photos-component-view/photos-list.js":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./node_modules/react/index.js"),d=n("./app/scripts/lib/localize.coffee"),p=n("./packages/analytics/index.ts").track,f=n("./packages/unsplash/index.ts").unsplashClient,m=n("./app/scripts/views/board-create/photo-attribution-component.js"),h=n("./packages/atlassian-analytics/index.ts").Analytics,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(g,e);var t,r=(t=g,function(){var e,n=l(t);if(c()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function g(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),(t=r.call(this,e)).state={uploadingImageID:null},t.thumbMap=t.thumbMap.bind(a(t)),t.addMarker=t.addMarker.bind(a(t)),t}return i(g,null,[{key:"initClass",value:function(){this.prototype.displayName="PhotosList"}}]),i(g,[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.images,i=n.isLoading,o=this.state.uploadingImageID;return r.length!==e.images.length||i!==e.isLoading||o!==t.uploadingImageID}},{key:"render",value:function(){var e=this.props,t=e.collectionID,n=e.connectionError,r=e.images,i=e.isLoading,o=e.maxPage>e.page,s=i?"logo-loading active":"logo-loading",a=r.map(this.thumbMap);return o&&(a=this.addMarker(a)),u.createElement("div",{className:"board-backgrounds-list"},a.length?a:"search"!==t||i||n?void 0:u.createElement("div",{className:"no-results"},d(["background photos","no results"])),n?u.createElement("div",{className:"error"},d(["background photos","connection error unsplash"])):void 0,u.createElement("div",{className:s}))}},{key:"thumbMap",value:function(e,t){var n=this.state.uploadingImageID;return u.createElement("div",{className:"board-background-select",key:["thumb",t,e.id].join(":"),onClick:this.setUnsplashBackground(e)},u.createElement("span",{className:"background-box",style:{backgroundImage:"url(".concat(e.urls.thumb,")")}},n===e.id?u.createElement("div",{className:"uploading"},u.createElement("span",{className:"spinner small u-float-left"}),d(["templates","board_background_selection","uploading-ellipsis"])):u.createElement(m,{user:e.user,size:"large"})))}},{key:"setUnsplashBackground",value:function(e){var t=this;return function(){var r=n("./app/scripts/network/api-promise.coffee"),i=t.props.boardId;return p("Board Menu","Change Background","unsplash-".concat(e.id)),h.sendUpdatedBoardFieldEvent({field:"background",value:"unsplash-".concat(e.id),source:"boardMenuDrawerBackgroundPhotosScreen",containers:{board:{id:i}},attributes:{backgroundType:"photo"}}),f.trackDownload(e),t.setState({uploadingImageID:e.id}),r({url:"/1/boards/".concat(i,"/prefs/background"),type:"post",data:{url:f.appendImageParameters(e.urls.raw)}}).finally((function(){return t.setState({uploadingImageID:null})}))}}},{key:"addMarker",value:function(e){var t=this.props.registerMarker,n=u.createElement("div",{key:"marker",className:"scroll-marker",ref:t});return e.splice(-8,0,n),e}}]),g}(u.Component);g.initClass(),e.exports=g},"./app/scripts/views/board-menu/change-board-background-select-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./app/scripts/views/board-menu/change-board-background-colors-component-view.js"),u=n("./app/scripts/views/board-menu/change-board-background-photos-component-view/index.js"),d=n("./node_modules/react/index.js"),p=n("./packages/react-dom-wrapper/index.ts"),f=n("./app/scripts/views/internal/view.coffee"),m=n("./node_modules/xtend/immutable.js"),h=n("./packages/unsplash/index.ts").unsplashClient,g={colors:l,photos:u},v=function(e){var t={};for(var n in e){var r=e[n];n.indexOf("background")>-1&&(t[n]=r)}return t},b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(b,e);var t,n,l,u,f=(t=b,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function b(){return r(this,b),f.apply(this,arguments)}return n=b,u=[{key:"initClass",value:function(){this.prototype.viewTitleArguments={unsplashUrl:h.attributionUrl},this.prototype.className="board-menu-content-frame"}}],(l=[{key:"viewTitleKey",value:function(){return"colors"===this.options.component?"change background colors":"change background photos"}},{key:"initialize",value:function(){this.listenTo(this.model,"change:prefs.background change:prefs.backgroundTile change:prefs.backgroundBrightness",this.frameDebounce(this.render))}},{key:"render",value:function(){var e=this,t={boardId:this.model.id,backgroundPrefs:v(this.model.attributes.prefs)};"colors"===this.options.component&&(t.setBackgroundColor=function(t,n){e.model.set({prefs:m(e.model.get("prefs"),{background:t,backgroundColor:n,backgroundImage:null,backgroundImageScaled:null})}).setPref("background",t)});var n=d.createElement(g[this.options.component],t);return p.render(n,this.el),this}}])&&i(n.prototype,l),u&&i(n,u),b}(f);b.initClass(),e.exports=b},"./app/scripts/views/board-menu/change-board-background-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./app/scripts/views/lib/alerts.coffee"),d=n("./packages/atlassian-analytics/index.ts").Analytics,p=n("./app/scripts/db/auth.coffee"),f=n("./app/scripts/db/model-loader.coffee"),m=n("./app/scripts/views/board-menu/select-custom-background-view.js"),h=n("./app/scripts/lib/util/index.coffee"),g=n("./app/scripts/views/internal/view.coffee"),v=n("./node_modules/underscore/underscore.js"),b=n("./packages/analytics/index.ts").track,y=n("./packages/config/index.ts").dontUpsell,w=n("./app/scripts/views/templates/product_promo_disable_overlay.js"),k=n("./app/scripts/views/templates/board_change_background.js"),j=n("./app/scripts/views/board-menu/board-add-to-team-view.js"),x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(C,e);var t,n,g,x,O=(t=C,function(){var e,n=l(t);if(c()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function C(){return r(this,C),O.apply(this,arguments)}return n=C,x=[{key:"initClass",value:function(){this.prototype.viewTitleKey="change background",this.prototype.className="board-menu-content-frame",this.prototype.events={"click .js-bg-colors":"openBackgroundColors","click .js-bg-photos":"openBackgroundPhotos","change .js-upload-image":"setUploadImage"}}}],(g=[{key:"initialize",value:function(e){var t=this,n=e.sidebarView;this.sidebarView=n,o(l(C.prototype),"initialize",this).apply(this,arguments),this.makeDebouncedMethods("render","renderCustomBackgrounds"),this.listenTo(p.me().boardBackgroundList,"change add remove reset",this.renderCustomBackgroundsDebounced),this.listenTo(this.model,"cancel-add-to-team",(function(){return t.addToTeam=!1,t.render()})),(p.me().isFeatureEnabled("customBoardBackgrounds")||_(this.model.getOrganization(),(function(e){return e.isFeatureEnabled("customBoardBackgrounds")})))&&f.loadMemberCustomBackgrounds(p.myId()).done()}},{key:"fillBackgroundList",value:function(e,t,n){var r=this;null==n&&(n=m),e.find(".js-select-background:not(.js-uploader)").remove(),this.appendSubviews(Array.from(t).map((function(e){return r.subview(n,e,{board:r.model})})),e)}},{key:"render",value:function(){this.$el.empty();var e=this.model.toJSON();return e.enabled_customBoardBackgrounds=p.me().isFeatureEnabled("customBoardBackgrounds")||_(this.model.getOrganization(),(function(e){return e.isFeatureEnabled("customBoardBackgrounds")})),e.idMember=p.myId(),e.upsellEnabled=!y,this.addToTeam?(f.loadMyOrganizations(),this.$el.parent().addClass("no-padding"),this.appendSubview(this.subview(j,this.model,{menuType:"Change Background"}))):(this.$el.html(k(e)),this.renderCustomBackgrounds()),this}},{key:"renderCustomBackgrounds",value:function(){var e=p.me().isFeatureEnabled("customBoardBackgrounds")||_(this.model.getOrganization(),(function(e){return e.isFeatureEnabled("customBoardBackgrounds")})),t=this.$(".js-custom-list");if(e){var n=this.modelCache.get("Member",p.myId()).boardBackgroundList.chain().filter((function(e){return"custom"===e.get("type")})).sortBy("id").reverse().value();this.fillBackgroundList(t,n,m),t.find(".js-uploader").prependTo(t)}else t.append(w());return this}},{key:"uploadBackgroundsAndAddPreviews",value:function(e){var t=this;return Array.from(e).map((function(e,n){return function(n){var r=new FileReader;if(h.validFileSize(e)){var i=new FormData;return i.append("token",p.myToken()),i.append("file",e),r.onload=function(e){return t.modelCache.get("Member",p.myId()).boardBackgroundList.create({type:"custom",fullSizeUrl:e.target.result},{data:i,processData:!1,contentType:!1,error:function(e){return e.set("error","Failed"),t.setTimeout((function(){return e.destroy()}),5e3)},success:function(e){var n=t.model;return v.extend(n.attributes.prefs,{backgroundColor:e.get("color"),backgroundImage:e.get("fullSizeUrl"),backgroundImageScaled:e.get("scaled"),backgroundTile:e.get("tile"),backgroundBrightness:e.get("brightness")}),n.setPref("background",e.id)}})},r.readAsDataURL(e)}u.flash("file too large","error")}()}))}},{key:"setUploadImage",value:function(e){h.stop(e);var t=this.$(".js-upload-image");if(null==t.prop("files")&&t.val())h.uploadFile(p.myToken(),t,(function(){}));else{var n=t[0].files;n.length>0&&(this.uploadBackgroundsAndAddPreviews(n),b("Board Menu","Upload Custom Background"),d.sendTrackEvent({action:"uploaded",actionSubject:"background",source:"boardMenuDrawerBackgroundScreen",containers:{board:{id:this.model.id},organization:{id:_(this.model.getOrganization(),(function(e){return e.id}))}},attributes:{backgroundType:"custom"}}))}}},{key:"openBackgroundColors",value:function(e){h.stop(e),this.sidebarView.pushView("backgroundColors",{component:"colors"})}},{key:"openBackgroundPhotos",value:function(e){h.stop(e),this.sidebarView.pushView("backgroundPhotos",{component:"photos"})}}])&&i(n.prototype,g),x&&i(n,x),C}(g);function _(e,t){return null!=e?t(e):void 0}x.initClass(),e.exports=x},"./app/scripts/views/board-menu/change-board-commenting-perms-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l,u=n("./app/scripts/views/board-menu/change-board-perms-view.js");e.exports=((l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(f,e);var t,l,u,d,p=(t=f,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function f(){return r(this,f),p.apply(this,arguments)}return l=f,d=[{key:"initClass",value:function(){this.prototype.viewTitleKey="commenting permissions"}}],(u=[{key:"getTemplate",value:function(){return n("./app/scripts/views/templates/board_menu_commenting.js")}},{key:"getPerm",value:function(){return"comments"}}])&&i(l.prototype,u),d&&i(l,d),f}(u)).initClass(),l=l)},"./app/scripts/views/board-menu/change-board-perms-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./packages/jquery/index.js"),u=n("./packages/atlassian-analytics/index.ts").Analytics,d=n("./app/scripts/views/internal/board-display-helpers.coffee"),p=n("./app/scripts/views/lib/pop-over.coffee"),f=n("./app/scripts/lib/util/index.coffee"),m=n("./app/scripts/views/internal/view.coffee"),h=n("./app/scripts/views/internal/templates.coffee"),g=n("./packages/analytics/index.ts").track,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(y,e);var t,n,m,v,b=(t=y,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function y(){return r(this,y),b.apply(this,arguments)}return n=y,v=[{key:"initClass",value:function(){this.prototype.viewTitleKey="change permissions",this.prototype.events={"click .js-select":"selectPerm"}}}],(m=[{key:"initialize",value:function(){this.listenTo(this.model,"change",this.frameDebounce(this.render))}},{key:"render",value:function(){var e,t=this.model.toJSON({prefs:!0,url:!0});t.cardCovers=t.prefs.cardCovers;var n=this.model.getOrganization();t.hasOrg=null!=(null!=n?n.id:void 0),t.orgCanSee=t.hasOrg&&(e=this.model.getPref("permissionLevel"),["public","org"].includes(e)),t.premium=null!=n?n.isFeatureEnabled("observers"):void 0,t.voting_showObservers=(t.premium||t.voting_observers)&&t.hasOrg,t.comments_showObservers=(t.premium||t.comments_observers)&&t.hasOrg,t.pLevelClass=d.getPermLevelIconClassForBoard(this.model),(null!=n?n.owned():void 0)?(t.orgOwner=!0,t.orgName=n.get("displayName"),this.model.owned()||(t.setOrgNull=!0)):this.model.owned()||(t.noEditOrg=!0);var r=this.getTemplate();return this.$el.html(h.fillMenu(r,t,{editable:this.model.editable(),owned:this.model.owned()})),this}},{key:"selectPerm",value:function(e){f.stop(e),g("Board","Change ".concat(this.getPerm()));var t=l(e.target).closest(".js-select");if(!t.hasClass("disabled")&&!t.closest(".js-disabled").length){var n,r,i=this.getPerm(),o=t.attr("name");this.model.setPref(i,o),this.model.save(),u.sendUpdatedBoardFieldEvent({field:"".concat(i,"Pref"),value:o,source:"changeBoardPermissionsInlineDialog",containers:{board:{id:this.model.id},organization:{id:(n=this.model.getOrganization(),r=function(e){return e.id},null!=n?r(n):void 0)}}}),p.popView()}}}])&&i(n.prototype,m),v&&i(n,v),y}(m);v.initClass(),e.exports=v},"./app/scripts/views/board-menu/custom-background-options-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./packages/jquery/index.js"),u=n("./app/scripts/views/lib/confirm.coffee"),d=n("./app/scripts/lib/util/index.coffee"),p=n("./app/scripts/views/internal/view.coffee"),f=n("./app/scripts/views/internal/templates.coffee"),m=n("./packages/analytics/index.ts").track,h=n("./packages/atlassian-analytics/index.ts").Analytics,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(y,e);var t,p,g,v,b=(t=y,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function y(){return r(this,y),b.apply(this,arguments)}return p=y,v=[{key:"initClass",value:function(){this.prototype.viewTitleKey="background options",this.prototype.events={"click .js-delete-background":"deleteBackground","click .js-select-option":"selectOption"}}}],(g=[{key:"initialize",value:function(){return this.listenTo(this.model,"change",this.render)}},{key:"render",value:function(){var e=this.model.toJSON();e.tile=this.model.get("tile");var t=this.model.get("brightness");return e.brightnessLight="light"===t,e.brightnessDark="dark"===t,this.$el.html(f.fill(n("./app/scripts/views/templates/board_background_options.js"),e)),this}},{key:"selectOption",value:function(e){var t=l(e.target).closest(".js-select-option");if(null!=t.attr("data-board-brightness"))this.model.update("brightness",t.attr("data-board-brightness"));else if(null!=t.attr("data-background-display-type")){var n=t.attr("data-background-display-type");this.model.update("tile","tile"===n)}}},{key:"deleteBackground",value:function(e){var t=this;return d.stop(e),u.pushView("delete background",{elem:l(e.target).closest(".js-delete-background"),model:this.model,confirmBtnClass:"negate",fxConfirm:function(e){return t.model.destroy(),t.remove(),m("Board Menu","Change Background","Delete Uploaded Background"),h.sendTrackEvent({action:"deleted",actionSubject:"background",source:"boardMenuDrawerBackgroundScreen",containers:{board:{id:t.model.id}},attributes:{backgroundType:"custom"}})}})}}])&&i(p.prototype,g),v&&i(p,v),y}(p);g.initClass(),e.exports=g},"./app/scripts/views/board-menu/edit-email-settings-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./packages/jquery/index.js"),d=n("./node_modules/underscore/underscore.js"),p=n("./app/scripts/views/lib/alerts.coffee"),f=n("./packages/atlassian-analytics/index.ts").Analytics,m=n("./app/scripts/db/auth.coffee"),h=n("./app/scripts/views/lib/confirm.coffee"),g=n("./packages/feature-flag-client/index.ts").featureFlagClient,v=n("./app/scripts/db/model-loader.coffee"),b=n("./app/scripts/lib/util/index.coffee"),y=n("./app/scripts/views/internal/view.coffee"),w=n("./app/scripts/views/templates/board_menu_email.js"),k=n("./app/scripts/lib/localize.coffee"),j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(_,e);var t,n,y,j,x=(t=_,function(){var e,n=l(t);if(c()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function _(){return r(this,_),x.apply(this,arguments)}return n=_,j=[{key:"initClass",value:function(){this.prototype.viewTitleKey="add cards via email",this.prototype.events={"change .js-select-position":"updatePosition","change .js-select-list":"updateList","click .js-generate-address":"generateAddress","click .js-send-address":"sendAddressEmail","click .js-autofocus":"focusInput"}}}],(y=[{key:"initialize",value:function(){if(o(l(_.prototype),"initialize",this).apply(this,arguments),this.listenTo(this.modelCache,"add:List remove:List change:List:closed reset:List",this.frameDebounce(this.render)),this.listenTo(this.model,"change:myPrefs",this.frameDebounce(this.render)),this.allowEmail=!0,null==this.model.getPref("emailKey"))return this.model.generateEmailKey()}},{key:"render",value:function(){var e,t=this;if(this.model.canComment(m.me())){var n,r=this.model.getPref("idEmailList"),i=this.model.listList.models.map((function(e){return{id:e.id,name:e.get("name")}})),o=function(){if(null!=(e=d.findWhere(i,{id:r})))return e.name;if(null!=(e=t.modelCache.get("List",r))&&e.get("closed")){var n=k("archived list",{listName:e.get("name")});return i.unshift({id:e.id,name:n}),n}return null!=r&&v.loadArchivedListsAndCards(t.model.id).then((function(){if(null!=t.modelCache.get("List",r))return t.render()})),k("unknown list placeholder")}();null==r&&i.unshift({name:k("unknown list placeholder"),selected:!0}),this.$el.html(w({commentsEnabled:!0,email:null!=(n=this.model.getPref("fullEmail"))?n:"",lists:i.map((function(e){return{id:e.id,name:e.name,selected:e.id===r}})),listName:o,positionName:k(["email position",this.model.getPref("emailPosition")]),position:this.model.getPref("emailPosition")}))}else this.$el.html(w({commentsEnabled:!1}));return g.get("dataeng.gasv3-event-tracking",!1)&&f.sendScreenEvent({name:"emailToBoardSettingsInlineDialog",containers:{board:{id:this.model.id}}}),this}},{key:"focusInput",value:function(e){u(e.target).focus().select()}},{key:"updateValue",value:function(e,t){var n=this.$el.find(e).val();if(null!=n&&n!==this.model.getPref(t))return this.model.setPref(t,n)}},{key:"updatePosition",value:function(){return this.updateValue(".js-select-position","emailPosition")}},{key:"updateList",value:function(){return this.updateValue(".js-select-list","idEmailList"),this.allowEmail=!0}},{key:"generateAddress",value:function(e){var t=this;b.stop(e),h.pushView("regenerate email address",{model:this.model,confirmBtnClass:"negate",popOnClick:!0,fxConfirm:function(e){return t.model.set({"myPrefs/emailKey":null}),t.allowEmail=!0,t.model.generateEmailKey()}})}},{key:"sendAddressEmail",value:function(e){b.stop(e),this.allowEmail&&(this.allowEmail=!1,this.model.api({method:"emailKey/message",type:"post"},(function(e){return e?p.show("could not send email","error","email",5e3):p.flash("email sent","confirm")})))}}])&&i(n.prototype,y),j&&i(n,j),_}(y);j.initClass(),e.exports=j},"./app/scripts/views/board-menu/search-input-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./packages/keybindings/index.ts"),u=l.getKey,d=l.Key,p=n("./app/scripts/views/internal/view.coffee"),f=n("./app/scripts/views/templates/board_sidebar_search_input.js"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(h,e);var t,n,l,p,m=(t=h,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function h(){return r(this,h),m.apply(this,arguments)}return n=h,p=[{key:"initClass",value:function(){this.prototype.className="board-menu-content-frame",this.prototype.events={"keyup .js-input":"keyUpEvent","keydown .js-input":"keyDownEvent","click .js-search-clear-title":"clearAndFocusInput","click .js-search-open-card-filter":"showCardFilter"}}}],(l=[{key:"initialize",value:function(){return this.listenTo(this.model,"change",this.renderInputIcon)}},{key:"render",value:function(){return this.$el.html(f.renderInputRow({title:this.model.get("title"),showFilterButton:null!=(null!=this.options?this.options.showCardFilter:void 0)})),this.renderInputIcon(),this}},{key:"renderInputIcon",value:function(){return this.$(".js-input-search-icon").html(f.renderInputIcon({title:this.model.get("title")}))}},{key:"keyUpEvent",value:function(e){var t=u(e);if(![d.Escape,d.Enter,d.ArrowUp,d.ArrowDown].includes(t))return this.model.save({title:this.$(".js-input").val(),limitMembers:!0,limitLabels:!0})}},{key:"keyDownEvent",value:function(e){if(u(e)===d.Enter)return this.showCardFilter()}},{key:"clearAndFocusInput",value:function(){return this.model.save({title:""}),this.$(".js-input").val("").focus()}},{key:"showCardFilter",value:function(){return e=this.options,t="showCardFilter",n=function(e){return e.showCardFilter()},null!=e&&"function"==typeof e[t]?n(e,t):void 0;var e,t,n}}])&&i(n.prototype,l),p&&i(n,p),h}(p);m.initClass(),e.exports=m},"./app/scripts/views/board-menu/select-custom-background-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./app/scripts/views/board-menu/custom-background-options-view.js"),u=n("./app/scripts/views/lib/pop-over.coffee"),d=n("./app/scripts/lib/util/index.coffee"),p=n("./packages/atlassian-analytics/index.ts").Analytics,f=n("./app/scripts/views/internal/templates.coffee"),m=n("./node_modules/underscore/underscore.js"),h=n("./app/scripts/views/internal/view.coffee"),g=n("./packages/analytics/index.ts").track,v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(k,e);var t,h,v,y,w=(t=k,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function k(){return r(this,k),w.apply(this,arguments)}return h=k,y=[{key:"initClass",value:function(){this.prototype.className="board-background-select js-select-background",this.prototype.events={"click .js-options":"openOptions",click:"selectBackground"}}}],(v=[{key:"initialize",value:function(){return this.listenTo(this.model,"change:id",this.render),this.listenTo(this.model,"change:error",this.render)}},{key:"render",value:function(){var e,t=this.model.toJSON();return t.pending=null==this.getId()&&null==t.error,null==t.color&&(t.backgroundImageThumbnail=null!=(e=b(d.previewBetween(this.model.get("scaled"),90,60,600,400),(function(e){return e.url})))?e:this.model.get("fullSizeUrl")),this.$el.html(f.fill(n("./app/scripts/views/templates/board_background_selection.js"),t)),this.$el.toggleClass("is-still-uploading-background",t.pending),this}},{key:"openOptions",value:function(e){return d.stop(e),p.sendClickedLinkEvent({linkName:"backgroundOptionsLink",source:"boardMenuDrawerBackgroundScreen"}),u.toggle({elem:this.$(".js-options"),view:new l({model:this.model,modelCache:this.modelCache})})}},{key:"getId",value:function(){return this.model.id}},{key:"selectBackground",value:function(e){var t,n;if(d.stop(e),null!=this.getId()){var r=this.options.board;m.extend(r.attributes.prefs,{backgroundColor:this.model.get("color"),backgroundImage:this.model.get("fullSizeUrl"),backgroundImageScaled:this.model.get("scaled"),backgroundTile:null!=(t=this.model.get("tile"))&&t,backgroundBrightness:null!=(n=this.model.get("brightness"))?n:"unknown"}),r.setPref("background",this.getId()),g("Board Menu","Change Background",this.getId()),p.sendUpdatedBoardFieldEvent({field:"background",value:this.getId(),source:"boardMenuDrawerBackgroundScreen",containers:{board:{id:r.id},organization:{id:b(r.getOrganization(),(function(e){return e.id}))}},attributes:{backgroundType:"custom"}})}}}])&&i(h.prototype,v),y&&i(h,y),k}(h);function b(e,t){return null!=e?t(e):void 0}v.initClass(),e.exports=v},"./app/scripts/views/board-menu/sticker-picker-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./node_modules/underscore/underscore.js"),u=n("./packages/jquery/index.js"),d=n("./app/scripts/views/lib/alerts.coffee"),p=n("./app/scripts/db/auth.coffee"),f=n("./app/scripts/views/stickers/custom-sticker-selection-view.js"),m=n("./app/scripts/views/lib/drag-sort.coffee"),h=n("./app/scripts/db/model-loader.coffee"),g=n("./node_modules/bluebird/js/browser/bluebird.js"),v=n("./app/scripts/models/Sticker.ts").Sticker,b=n("./app/scripts/data/stickers.js"),y=n("./app/scripts/views/stickers/sticker-selection-view.js"),w=n("./app/scripts/lib/util/index.coffee"),k=n("./app/scripts/views/internal/view.coffee");l=n("./node_modules/underscore/underscore.js");var j=n("./app/scripts/views/internal/templates.coffee"),x=n("./app/scripts/lib/localize.coffee"),_=n("./packages/config/index.ts").dontUpsell,O=n("./app/scripts/views/templates/product_promo_disable_overlay.js"),C=n("./app/scripts/views/templates/sticker_select.js"),S=n("./packages/giphy/index.ts"),E=S.getGiphyApi,P=S.giphyStickersToTrelloStickers,T=S.mapTrelloLocaleToGiphyLocale,D=n("./packages/keybindings/index.ts"),A=D.getKey,B=D.Key,R=n("./app/scripts/view-models/member-state.coffee"),L=n("./packages/locale/index.ts"),M=n("./packages/browser/index.ts").isChrome,N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(I,e);var t,k,S,D,N=(t=I,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function I(){return r(this,I),N.apply(this,arguments)}return k=I,D=[{key:"initClass",value:function(){this.prototype.viewTitleKey="stickers",this.prototype.viewIcon="sticker",this.prototype.className="board-menu-content-frame",this.prototype.events={"keyup .js-search-stickers":"onQueryChange","change .js-upload-image":"setUploadImage","change .js-use-animated-stickers":"onAnimationPreferenceChange"}}}],(S=[{key:"initialize",value:function(){var e;this.me=p.me();var t=null!=(e=this.model.getOrganization())?e:null;return(this.me.isFeatureEnabled("additionalStickers")||(null!=t?t.isFeatureEnabled("additionalStickers"):void 0))&&h.loadMemberCustomStickers(this.me.id).done(),this.listenTo(this.me.customStickerList,"change add remove reset",this.renderCustomStickers),this.searchForStickerDebounced=l.debounce(this.searchForSticker,1e3)}},{key:"render",value:function(){var e;this.$el.empty();var t=null!=(e=this.model.getOrganization())?e:null,n=this.model.toJSON();return n.additionalStickersEnabled=this.me.isFeatureEnabled("additionalStickers")||(null!=t?t.isFeatureEnabled("additionalStickers"):void 0),n.upsellEnabled=!_,n.useAnimatedStickers=R.getUseAnimatedStickers(),this.$el.html(C(n)),this.renderStandardStickers(),this.renderPremiumStickers(),this.renderCustomStickers(),this.defer((function(){return m.refreshDraggableStickers()})),this}},{key:"_getStickers",value:function(e){var t=b[e].premium;return b[e].stickers.map((function(e){return new v(l.extend({premium:t},e),{modelCache:this.modelCache})}))}},{key:"_loadStickers",value:function(e){e.addClass("sticker-list-loading");var t=e.find(".sticker-select-image").get().map((function(e){var t=u(e);return new g((function(e){return t.load(e),t.error(e)}))}));return g.all(t).then((function(){return e.removeClass("sticker-list-loading")})).done()}},{key:"renderStandardStickers",value:function(){var e=this,t=this.$(".js-standard-sticker-list"),n=this._getStickers("standard").map((function(t){return e.subview(y,t)}));return this.appendSubviews(n,t),this._loadStickers(t),this}},{key:"renderPremiumStickers",value:function(){var e,t=this,r=null!=(e=this.model.getOrganization())?e:null,i=this.$(".js-premium-stickers"),o=this.me.isFeatureEnabled("additionalStickers")||(null!=r?r.isFeatureEnabled("additionalStickers"):void 0);for(var s in b)if(b[s].premium){var a=u(j.fill(n("./app/scripts/views/templates/sticker_pack_selection_list.js"),{displayName:x(["sticker packs",s])})),c=a.filter(".js-sticker-list"),l=this._getStickers(s).map((function(e){return t.subview(y,e,{org:r})}));this.appendSubviews(l,c),this._loadStickers(c),i.append(a),o||c.append(O())}return this}},{key:"renderCustomStickers",value:function(){var e,t=this,r=null!=(e=this.model.getOrganization())?e:null,i=this.$(".js-custom-sticker-list");if(i.children().detach(),this.me.isFeatureEnabled("customStickers")||(null!=r?r.isFeatureEnabled("customStickers"):void 0)){var o=this.me.customStickerList.map((function(e){return t.subview(f,e,{org:r})}));this.appendSubviews(o,i)}else i.append(O());return i.append(j.fill(n("./app/scripts/views/templates/sticker_select_item_upload.js"),{id:this.me.id})),this.defer((function(){return m.refreshDraggableStickers()})),this}},{key:"setUploadImage",value:function(e){w.stop(e);var t=this.$(".js-upload-image");if(null==t.prop("files")&&t.val())w.uploadFile(p.myToken(),t,(function(){}));else{var n=t[0].files;n.length>0&&this.uploadStickers(n)}}},{key:"uploadStickers",value:function(e){var t=this;l.each(e,(function(e){var n=new FileReader;if(w.validFileSize(e)){var r=new FormData;return r.append("token",p.myToken()),r.append("file",e),n.onload=function(e){var n=e.target.result;return t.me.customStickerList.create({url:n},{data:r,processData:!1,contentType:!1,error:function(e){return e.set("error","Failed"),t.setTimeout((function(){return e.destroy()}),5e3)}})},n.readAsDataURL(e)}d.flash("file too large","error")}))}},{key:"onAnimationPreferenceChange",value:function(e){return w.stop(e),R.setUseAnimatedStickers(e.target.checked)}},{key:"onQueryChange",value:function(e){w.stop(e);var t=A(e);if(![B.Enter,B.Escape].includes(t)){var n=e.target.value;if(this.currentQuery!==n&&this.showSearchSpinner(),this.currentQuery=n,null!=n?n.length:void 0)return this.searchForStickerDebounced(n);this.showStaticStickers()}}},{key:"searchForSticker",value:function(e){var t=this;if(null!=e?e.length:void 0)return E().search(e,{limit:48,rating:"g",lang:T(L.currentLocale),type:"stickers"}).then((function(n){if(e===t.currentQuery){var r=P(n.data,M());return t.renderStickerSearchResults(r)}})).catch((function(){return t.renderStickerSearchResults([])}))}},{key:"renderStickerSearchResults",value:function(e){var t,n=this;this.$(".js-giphy-stickers-no-results").toggleClass("hide",0!==e.length);var r=null!=(t=this.model.getOrganization())?t:null,i=e.map((function(e){var t=new v(l.extend({isGiphySticker:!0,image:e.url},e),{modelCache:n.modelCache});return n.subview(y,t,{org:r})}));return this.ensureSubviews(i,this.$(".js-search-sticker-list")),this.showSearchResults(),this.defer((function(){return m.refreshDraggableStickers()})),this}},{key:"showSearchSpinner",value:function(){return this.hideStaticStickers(),this.hideSearchResults(),this.$(".js-search-spinner").removeClass("hide")}},{key:"showStaticStickers",value:function(){return this.hideSearchSpinner(),this.hideSearchResults(),this.$(".js-static-stickers").removeClass("hide")}},{key:"showSearchResults",value:function(){return this.hideSearchSpinner(),this.hideStaticStickers(),this.$(".js-giphy-stickers").removeClass("hide")}},{key:"hideStaticStickers",value:function(){return this.$(".js-static-stickers").addClass("hide")}},{key:"hideSearchSpinner",value:function(){return this.$(".js-search-spinner").addClass("hide")}},{key:"hideSearchResults",value:function(){return this.$(".js-giphy-stickers").addClass("hide")}}])&&i(k.prototype,S),D&&i(k,D),I}(k);N.initClass(),e.exports=N},"./app/scripts/views/board/convert-board-template-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./app/scripts/views/lib/alerts.coffee"),u=n("./app/scripts/lib/util/index.coffee"),d=n("./app/scripts/views/internal/view.coffee"),p=n("./app/scripts/views/internal/templates.coffee"),f=n("./packages/analytics/index.ts").trackUe,m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(v,e);var t,d,m,h,g=(t=v,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function v(){return r(this,v),g.apply(this,arguments)}return d=v,h=[{key:"initClass",value:function(){this.prototype.viewTitleKey="make template",this.prototype.events={"submit form":"convertToTemplate"}}}],(m=[{key:"render",value:function(){return this.$el.html(p.fill(n("./app/scripts/views/templates/board_convert_template.js"))),this}},{key:"convertToTemplate",value:function(e){var t,n;u.stop(e),this.$(".js-convert").prop("disabled"),l.show("converting","info","templates",1e3),this.model.setPref("isTemplate",!0).save(),f("board menu","converts","board","to template","","by clicking template toggle",{boardId:this.model.id,teamId:(t=this.model.getOrganization(),n=function(e){return e.id},null!=t?n(t):void 0)})}}])&&i(d.prototype,m),h&&i(d,h),v}(d);m.initClass(),e.exports=m},"./app/scripts/views/board/share-popover-view.js":function(e,t,n){function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d,p,f=n("./app/scripts/views/lib/pop-over.coffee"),m=n("./app/scripts/lib/util/index.coffee"),h=n("./app/scripts/views/internal/view.coffee"),g=n("./app/scripts/views/templates/popover_share.js"),v=n("./packages/analytics/index.ts"),b=v.Noun,y=v.Verb,w=v.track,k=v.trackUe,j=n("./packages/config/index.ts").dontUpsell,x=n("./app/scripts/controller/index.js"),_=n("./app/scripts/db/auth.coffee"),O=n("./node_modules/react/index.js"),C=n("./packages/react-dom-wrapper/index.ts"),S=n("./app/src/components/ComponentWrapper/index.ts"),E=S.renderComponent,P=S.ComponentWrapper,T=n("./app/common/lib/util/print.ts").default,D=n("./packages/nachos/icons/business-class.tsx").BusinessClassIcon,A=n("./packages/nachos/icons/download.tsx").DownloadIcon,B=n("./app/src/components/UpgradePrompts/UpgradePromptPill.tsx").UpgradePromptPill,R=n("./app/src/components/UpgradePrompts/UpgradePromptFull.tsx").UpgradePromptFull,L=n("./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx").UpgradeSmartComponent,M=n("./app/src/components/FreeTrial/index.ts").PlanSelectionOverlay,N=n("./app/src/components/UpgradePrompts/renderUpgradePrompt.ts").renderUpgradePrompt,I=n("./app/scripts/lib/localize.coffee"),U=n("./packages/atlassian-analytics/index.ts").Analytics,F=n("./packages/feature-flag-client/index.ts").featureFlagClient,V=n("./app/common/components/ExportPopoverContent/index.ts").ExportPopoverContent,z=n("./packages/test-ids/index.ts").UpgradePromptTestIds,$=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(i,e);var t,n=(t=i,function(){var e,n=u(t);if(l()){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=n.call(this,e)).upgradePromptPill=t.upgradePromptPill.bind(c(t)),t}return o(i,null,[{key:"initClass",value:function(){this.prototype.viewTitleKey="print and export",d=F.get("fv.export-service-export-board",!1),p=F.get("btg.free-trial-existing-teams",!1),this.prototype.events={"click .js-print":"printModel","click .js-export-json":"exportJSON","click .js-export":"renderExportPopover","click .js-export-csv":"exportCSV"}}}]),o(i,[{key:"remove",value:function(){return"function"==typeof this.unmountPill&&this.unmountPill(),r(u(i.prototype),"remove",this).apply(this,arguments)}},{key:"render",value:function(){var e=this.model.getOrganization(),t=this.model.toJSON();t.hasCsvExport=!1,t.hasOrganization=this.model.hasOrganization(),t.upgradeUrl=x.getUpgradeUrl(this.model),t.isAdDismissed=_.me().isAdDismissed("share-popover"),null!=e&&(null!=e?e.isFeatureEnabled("csvExport"):void 0)&&(t.hasCsvExport=!0,t.csvURL="/b/".concat(this.model.get("shortLink"),".csv")),(null!=e?e.isPremium():void 0)&&!(null!=e?e.isFeatureEnabled("csvExport"):void 0)&&(t.needsUpgradeForCsv=!0),t.jsonURL="/b/".concat(this.model.get("shortLink"),".json"),t.upsellEnabled=!j,t.featureFlag=d,this.$el.html(g(t));var n=e&&!e.isPremium(),r=this.getBillingUrl(e),i=null!=e?e.id:void 0;if(!t.isAdDismissed&&n&&!t.hasCsvExport&&t.upsellEnabled){var o=this.$(".print-and-export-upgrade-prompt-wrapper")[0];E(this.adContainer(i,r,o),o)}return F.get("dataeng.gasv3-event-tracking",!1)&&U.sendScreenEvent({name:"printAndExportBoardInlineDialog",containers:{board:{id:this.model.id}}}),this.upgradePromptPill(r,i),this}},{key:"getBillingUrl",value:function(e){return e?x.getOrganizationBillingUrl(e):"/business-class"}},{key:"renderExportPopover",value:function(){return f.pushView({getViewTitle:()=>I(["view title","export board"]),reactElement:O.createElement(P,{key:"exportPopover",children:O.createElement(V,{idBoard:this.model.id})})})}},{key:"adContainer",value:function(e,t,n){return O.createElement(O.Fragment,null,O.createElement("hr",null),this.upgradePrompt(e,t,n))}},{key:"upgradePromptPill",value:function(e,t){var n=this.$("#js-export-csv-pill-update-prompt")[0];return this.unmountPill=N(O.createElement(B,{cta:I(["upgrade prompt","upgrade"]),ctaLink:p?"":e,ctaOnClick:function(){if(k({category:b.BOARD_MENU,verb:y.OPENS,directObj:b.TEAM_PAGE_BC_TAB,method:"by clicking pill upgrade prompt in the board menu export page"}),p){var e=document.createElement("span");return n.appendChild(e),E(O.createElement(M,{orgId:t,onContinue:function(){return window.location.assign("/business-class")},onClose:()=>(C.unmountComponentAtNode(e),e.remove())}),e,{boardModel:this.model})}},icon:O.createElement(D),isDismissable:!1}),n,{boardModel:this.model})}},{key:"upgradePrompt",value:function(e,t,n){if(F.get("btg.upgrade-prompt-audit",!1))return O.createElement(L,{orgId:e,promptId:"moreMenuShareInlineDialogPromptFull"});var r={content:I(["upgrade prompt","board menu","print and export","content-2"]),headline:I(["upgrade prompt","board menu","print and export","headline-2"]),cta:I(["upgrade prompt","learn more"]),ctaLink:t,orgId:e,testId:z.PrintAndExportUpgradePrompt,source:"moreMenuShareInlineDialog",ctaOnClick:function(){return k({category:b.BOARD_MENU,verb:y.OPENS,directObj:b.BC_MODAL,method:"by clicking full upgrade prompt in the board menu export page"})},icon:O.createElement(A),isDismissable:!0,onDismiss:()=>(C.unmountComponentAtNode(n),_.me().dismissAd("share-popover"))};return O.createElement(R,r)}},{key:"printModel",value:function(e){m.stop(e),w("Board Menu","Print and Export Menu","Print"),f.hide(),this.defer((function(){return T()}))}},{key:"exportJSON",value:function(e){return w("Board Menu","Print and Export Menu","Export JSON")}},{key:"export",value:function(e){return w("Board Menu","Print and Export Menu","Export")}},{key:"exportCSV",value:function(e){return w("Board Menu","Print and Export Menu","Export CSV")}}]),i}(h);$.initClass(),e.exports=$},"./app/scripts/views/card/formatting-help-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./app/scripts/views/internal/view.coffee"),u=n("./app/scripts/views/internal/templates.coffee"),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(m,e);var t,l,d,p,f=(t=m,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function m(){return r(this,m),f.apply(this,arguments)}return l=m,p=[{key:"initClass",value:function(){this.prototype.viewTitleKey="formatting help"}}],(d=[{key:"render",value:function(){return this.$el.html(u.fill(n("./app/scripts/views/templates/formatting_help.js"))),this}}])&&i(l.prototype,d),p&&i(l,p),m}(l);d.initClass(),e.exports=d},"./app/scripts/views/description/description-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=l(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./node_modules/underscore/underscore.js"),d=n("./app/scripts/db/auth.coffee"),p=n("./app/scripts/views/internal/autocomplete/auto-insertion-view.coffee"),f=n("./app/scripts/views/internal/autocomplete/completer-util.coffee"),m=n("./app/scripts/views/internal/editable-view.coffee"),h=n("./app/scripts/views/card/formatting-help-view.js"),g=n("./app/scripts/views/lib/layout.coffee"),v=n("./app/scripts/views/lib/pop-over.coffee"),b=n("./app/scripts/lib/markdown/tfm.coffee"),y=n("./app/scripts/lib/util/index.coffee"),w=n("./app/scripts/views/internal/friendly-links.coffee"),k=n("./app/scripts/lib/localize.coffee"),j=n("./packages/atlassian-analytics/index.ts").Analytics,x=n("./app/scripts/views/templates/description.js"),_=n("./packages/analytics/index.ts").trackUe,O=n("./packages/keybindings/index.ts"),C=O.getKey,S=O.Key,E=O.isForceSubmitEvent,P=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(m,e);var t,n,u,p,f=(t=m,function(){var e,n=l(t);if(c()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function m(){return r(this,m),f.apply(this,arguments)}return n=m,p=[{key:"initClass",value:function(){this.prototype.events={"click .js-format-help":"openFormatHelp","click .js-edit-desc":"editDesc","click .js-edit-desc-button"(){return _(this.descType,"enters","edit","","","by clicking on edit button",{boardid:this.board.id,cardid:null!=this.card?this.card.id:void 0}),j.sendClickedButtonEvent({buttonName:"editDescriptionButton",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}}})},"keydown .field"(e){if(E(e)&&(this.recordCardAction(),this._discardDraft("desc")),C(e)===S.Escape)return y.stop(e),v.isVisible?void v.hide():(this.saveDrafts(),this.$(".js-description-draft").val(this.model.get("desc")),j.sendPressedShortcutEvent({shortcutName:"escapeShortcut",keyValue:"esc",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}},attributes:{whileEditingDescription:!0}}),void this.render())},"keyup .field"(e){return C(e)===S.Escape&&y.stop(e),this.keyAutoMention(e)},"click .js-cancel-edit"(e){return j.sendClickedButtonEvent({buttonName:"cancelEditDescriptionButton",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}}}),this.cancelEditDesc(e,"by clicking on cancel button")},"click .js-desc-content.is-hide-full"(){return _(this.descType,"expands","description","","","",{boardid:this.board.id,cardid:null!=this.card?this.card.id:void 0}),j.sendClickedButtonEvent({buttonName:"showFullDescriptionButton",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}}}),this.showFullDescription()}}}}],(u=[{key:"initialize",value:function(e){var t=e.board,n=e.card,r=e.maxDescLength,i=e.placeholderKey,s=e.source;return this.board=t,this.card=n,this.maxDescLength=r,this.placeholderKey=i,this.source=s,o(l(m.prototype),"initialize",this).apply(this,arguments),this.hideFullDescription=T(this.model.get("desc"),(function(e){return e.length}))>this.maxDescLength,this.descType="".concat(this.model.typeName.toLowerCase()," description"),this.makeDebouncedMethods("render"),this.listenTo(g,this.getAutosaveEvent(),this.onAutosaveEdit),this.listenTo(this.model,"change:desc",this.renderDebounced)}},{key:"render",value:function(){var e={};e.editable=this.model.editable(),e.isCardDesc="Card"===this.model.typeName,e.placeholderKey=this.placeholderKey,e.isTemplate=e.isCardDesc?this.model.isOnBoardTemplate():this.model.isTemplate(),this.$el.html(x(e));var t=this.model.get("desc"),n=b.description.format(null!=t?t:"",{textData:this.model.get("descData")}).output,r=this.$(".js-desc");r.empty().append(n).data("unmarkeddown",t),r.find("p").attr("dir","auto"),w(r[0],this.board);var i=!/^\s*$/.test(n);this.$(".js-show-with-desc").toggleClass("hide",!i),this.$(".js-hide-with-desc").toggleClass("hide",i);var o=T(this.$(".js-description-draft").val(),(function(e){return e.length}))>0;return this.$(".js-description-draft").addClass(this.descType.split(" ").join("-")),this.$(".js-hide-with-draft").toggleClass("hide",o),this.$(".js-desc-content").toggleClass("is-hide-full",this.hideFullDescription),this.renderFormattingButton(),this.recallDrafts(),this}},{key:"showFullDescription",value:function(){this.hideFullDescription=!1,this.$(".js-desc-content").removeClass("is-hide-full")}},{key:"editDesc",value:function(e){y.stop(e),this.showFullDescription(),this.edit("desc")}},{key:"cancelEditDesc",value:function(e,t){var n=t.includes("escape key");return j.sendTrackEvent({action:"cancelled",actionSubject:"descriptionEdit",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}},attributes:{method:n?"escapeKey":"cancelEditDescriptionButton"}}),_(this.descType,"cancels","edit","","",t,{boardid:this.board.id,cardid:null!=this.card?this.card.id:void 0}),this.clearEdits(e)}},{key:"expandDesc",value:function(e){y.stop(e),this.showFullDescription(),this.edit("desc",!1)}},{key:"renderFormattingButton",value:function(){var e=k(["view title","formatting help"]),t="board description"===this.descType&&e.length>20;return this.$(".description-edit").toggleClass("long",t),this.$(".description-edit .helper").toggleClass("long",t)}},{key:"openFormatHelp",value:function(e){return _(this.descType,"opens","formatting help","","","",{boardid:this.board.id,cardid:null!=this.card?this.card.id:void 0}),j.sendClickedButtonEvent({buttonName:"formattingHelpDescriptionButton",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}}}),v.toggle({elem:this.$(".js-format-help"),view:h,options:{model:this.model,modelCache:this.modelCache},keepEdits:!0}),!1}},{key:"getAutosaveEvent",value:function(){return"autosave".concat(this.model.typeName,"Description")}},{key:"onAutosaveEdit",value:function(e){return this.hideFullDescription=!1,this.commitEdits(null,e)}},{key:"commitEdits",value:function(){var e=this.$(".description-title .editing").length;if(e)return d.me().editing({idBoard:this.board.id}),this.$(".description-title .editing").removeClass("editing"),_(this.descType,"saves","description","","","",{boardid:this.board.id,cardid:null!=this.card?this.card.id:void 0}),!this.card&&this.board?j.sendUpdatedBoardFieldEvent({field:"description",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}}}):(j.sendTrackEvent({action:"updated",actionSubject:"description",source:this.source,containers:{board:{id:null!=this.board?this.board.id:void 0},card:{id:null!=this.card?this.card.id:void 0}},attributes:{updatedOn:"card"}}),this.recordCardAction()),this._discardDraft("desc"),o(l(m.prototype),"commitEdits",this).apply(this,arguments)}},{key:"recordCardAction",value:function(){if("Card"===this.model.typeName){var e=this.$(".js-description-draft").val(),t=this.model.get("desc");t!==e&&this.model.recordAction({type:"update-description",description:e,previousDescription:t})}}},{key:"getTextInput",value:function(){var e=this.$(".js-description-draft:visible");if(e.length)return e}},{key:"getMentionTarget",value:function(){var e=this.$(".js-description-draft:visible");if(e.length)return e[0]}},{key:"getEmojiTarget",value:function(){var e=this.$(".js-description-draft:visible");if(e.length)return e[0]}}])&&i(n.prototype,u),p&&i(n,p),m}(m);function T(e,t){return null!=e?t(e):void 0}P.initClass(),u.extend(P.prototype,p,f),e.exports=P},"./app/scripts/views/internal/editable-view.coffee":function(e,t,n){var r,i,o,s,a,c,l,u,d,p,f,m,h,g,v,b,y,w,k,j,x,_,O={}.hasOwnProperty;r=n("./packages/jquery/index.js"),i=n("./app/scripts/views/internal/autocomplete/auto-mentioner-view.coffee"),o=n("./app/scripts/views/lib/drag-sort.coffee"),h=n("./app/scripts/views/templates/edit_controls.js"),s=n("./app/scripts/views/internal/autocomplete/emoji-completer-view.coffee"),n("./packages/feature-flag-client/index.ts").featureFlagClient,v=n("./app/scripts/lib/util/selection/has-selection-in.coffee"),k=n("./packages/keybindings/index.ts"),g=k.getKey,b=k.isForceSubmitEvent,a=k.Key,c=n("./app/scripts/views/lib/layout.coffee"),l=n("./app/scripts/views/lib/pop-over.coffee"),u=n("./packages/storage/index.ts").TrelloStorage,d=n("./app/scripts/lib/util/index.coffee"),p=n("./app/scripts/views/internal/view.coffee"),f=n("./node_modules/underscore/underscore.js"),w=n("./app/scripts/debug/log.js"),n("./app/scripts/views/internal/templates.coffee"),j=n("./packages/analytics/index.ts"),x=j.track,_=j.trackUe,y=n("./app/scripts/lib/localize.coffee"),m=n("./app/common/lib/util/i18n/formatters.ts").asNumber,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)O.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.allowNewlines=!0,t.prototype.initialize=function(){return t.__super__.initialize.apply(this,arguments),r(window).on("beforeunload.EditableView-"+this.model.cid,(e=this,function(){e.saveDrafts("unload")}));var e},t.prototype.remove=function(){return this.saveDrafts("removing view"),r(window).off(".EditableView-"+this.model.cid),t.__super__.remove.apply(this,arguments)},t.prototype._draftKey=function(e){return"draft_"+this.model.id+"_"+e},t.prototype._saveDraft=function(e,t){return u.set(this._draftKey(e),t)},t.prototype._recallDraft=function(e){return u.get(this._draftKey(e))},t.prototype._discardDraft=function(e){return u.unset(this._draftKey(e))},t.prototype.saveDrafts=function(e){var t,n,i,o,s,a,c;if(null==this.model.id)return!1;for(a=[],i=0,o=(s=this.getEdits()).length;i<o;i++)n=(t=s[i]).attr("attr"),c=t.find(".field:first").val(),0!==r.trim(c).length&&(this.model.get(n)!==c&&c!==this._recallDraft(n)?(e&&(x("Editable View","Save Draft","Save draft via "+e),_("Editable View","Save Draft","","","","when "+e,"")),a.push(this._saveDraft(n,c))):a.push(void 0));return a},t.prototype.editField=function(e){var t,n,i;if(!((n=r(e.target).closest("a")).length>0&&"#"!==n.attr("href")||o.sorting||0===(t=r(e.target).closest(".editable")).length||v(t)||r(e.target).closest(".js-react-root").length))return d.stop(e),l.hide(),i=t.attr("attr"),this.edit(i)},t.prototype.edit=function(e,t){var n,r,i,o,s,a,l;(null==t&&(t=!0),e.indexOf(".")>-1&&(a=e.split("."),e=a[1]),n=this.$("[attr="+e+"]"),s=this.$(".js-no-higher-edits [attr="+e+"]"),0!==(r=n.not(s)).length)&&(c.cancelEdits(),0!==(i=r.find(".edit:first")).length&&((o=r.find(".field:first")).is("textarea"),r.find(".current"),i.append(h()),r.addClass("editing"),""===o.val()&&o.val(d.traverse(this.model.attributes,null!=a?a:e)),this.waitForId(this.model,(l=this,function(){return o.data("draftKey",l._draftKey(e))})),w("editable",this.model),t&&o.focus().select(),o.autosize({append:!1})))},t.prototype.getEdits=function(){var e,t;return e=this.$("[attr]"),t=this.$(".js-no-higher-edits [attr]"),e.not(t).map((function(e,t){return r(t)}))},t.prototype.recallDrafts=function(){return this.getEdits().each((e=this,function(t,n){var r,i;if(r=n.attr("attr"),null!=e.model.id&&null!=(i=e._recallDraft(r)))return n.find(".field:first").val(i),e.defer((function(){return n.find(".edits-warning").show()}))}));var e},t.prototype.stopEditing=function(e){return d.stop(e),c.cancelEdits(),!1},t.prototype.clearEdits=function(e){var t,n;return d.stop(e),null!=(n=(t=r(e.target).closest(".editable[attr]")).attr("attr"))&&this._discardDraft(n),t.find(".field").val(""),t.find(".edits-warning").hide(),t.find(".edits-error").hide(),t.removeClass("editing"),c.cancelEdits(),!1},t.prototype.validate=function(){var e,t,n,i,o,s,a,c,l;for(n=0,o=(a=this.$(".editing.non-empty .field")).length;n<o;n++)if(e=a[n],/^\s*$/.test(r(e).val()))return!1;for(i=0,s=(c=this.$(".editing .field")).length;i<s;i++)if(e=c[i],(t=(null!=(l=r(e).val())?l:"").length)>16384)return r(".editing").find(".edits-error").text(y("text too long",{over:m(t-16384)})).show(),!1;return!0},t.prototype.keydownEvent=function(e){var t;t=g(e),c.isEditing()&&(l.view instanceof s||l.view instanceof i?"function"==typeof this.checkInsert&&this.checkInsert(e):b(e)||t===a.Enter&&(!r(e.target).is("textarea")||r(e.currentTarget).hasClass("single-line"))&&!e.shiftKey?(d.stop(e),this.commitEdits(e)):t!==a.Enter||this.allowNewlines||d.stop(e))},t.prototype.commitEdits=function(e,t){var n,i,o;if(null==t&&(t=null),e&&d.stop(e),(n=t||r(e.target).closest(".editable.editing[attr]")).find(".edits-error").hide(),this.validate())return o=this,i=this.model,this.customSet,n.remove("input[type=submit]"),n.removeClass("editing").each((function(){var e,t;return e=r(this).attr("attr"),t=r(this).find(".field").val(),o.allowNewlines||(t=t.replace(/[\r\n]+/g," ")),0===r.trim(t).length&&(t=""),i.get(e)===t?o._discardDraft(e):i.update(e,t,(function(r){null!=r?(n.find(".edits-error").text(r.message).show(),o._saveDraft(e,t)):o._discardDraft(e)}))})).find(".field").val(""),n.find(".edits-warning").hide(),!0},t.prototype.clickSetting=function(e){var t,n,i,o;(t=r(e.target)).hasClass("disabled")||t.closest(".js-disabled").length||(n=t.attr("href"))&&"#"!==n||(i=t.closest(".pref").attr("name"))&&(o=t.attr("value"),o=function(){switch(o){case"true":return!0;case"false":return!1;default:return o}}(),this.model.setPref(i,o),this.model.save(),d.stop(e))},t.prototype.delegateEvents=function(e){var n;return n={"click .current":"editField","click .js-cancel-edit":"clearEdits","click .js-discard-edits":"clearEdits","click .js-view-edits":"editField","click .js-save-edit":"commitEdits","keydown .field":"keydownEvent","click input":d.stopPropagation,"click textarea":d.stopPropagation},null!=this.model.setPref&&(n["click a"]="clickSetting"),t.__super__.delegateEvents.call(this,f.extend(n,e||this.events))},t}(p)},"./app/scripts/views/organization/add-tag-view.coffee":function(e,t,n){var r,i,o,s,a,c,l,u={}.hasOwnProperty;r=n("./packages/atlassian-analytics/index.ts").Analytics,s=n("./app/scripts/views/organization/set-tag-view.coffee"),o=n("./app/scripts/views/lib/pop-over.coffee"),c=n("./packages/analytics/index.ts"),l=c.trackUe,i=c.Noun,a=c.Verb,e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)u.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.onSubmit=function(e){e&&(this.model.tagList.create({name:e},{wait:!0}),o.popView(),l({category:i.BUSINESS_CLASS_FEATURE,verb:a.CREATES,directObj:i.COLLECTION,context:{organizationId:this.model.id,requiredBC:!0}}),r.sendTrackEvent({action:"created",actionSubject:"collection",containers:{organization:{id:this.model.id}},source:"teamScreen",attributes:{isBCFeature:!0,requiredBC:!0}}))},t.prototype.viewTitleKey="add tag",t}(s)},"./app/scripts/views/organization/set-tag-view.coffee":function(e,t,n){var r,i,o,s,a,c={}.hasOwnProperty;n("./app/scripts/views/lib/pop-over.coffee"),r=n("./app/scripts/lib/util/index.coffee"),i=n("./app/scripts/views/internal/view.coffee"),a=n("./packages/analytics/index.ts").track,o=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("org_filtering"),s=o.renderable((function(e){var t,n;return n=e.name,t=e.isDeleteable,o.form(".js-add-tag-form",(function(){if(o.label((function(){return o.format("name"),o.input(".js-add-tag-name.js-autofocus",{type:"text",value:n})})),o.input(".primary",{type:"submit",value:o.l("save")}),t)return o.button(".negate.u-float-right.js-delete-tag",{type:"button"},(function(){return o.format("delete")}))}))})),e.exports=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)c.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.prototype.events={"submit .js-add-tag-form":function(e){var t;e.preventDefault(),this.options.boardView?a("Board Menu","Collections Menu","Save New Collection"):a("Team Page","Collections Menu","Save New Collection"),t=this.$(".js-add-tag-name").val().trim(),this.onSubmit(t)},"click .js-delete-tag":function(e){r.stop(e),this.onDelete()}},t.prototype.getName=function(){return""},t.prototype.render=function(){return this.$el.html(s({name:this.getName(),isDeleteable:null!=this.onDelete})),this},t}(i)},"./app/scripts/views/stickers/custom-sticker-selection-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l,u=n("./packages/jquery/index.js"),d=n("./app/scripts/db/auth.coffee"),p=n("./app/scripts/views/lib/confirm.coffee"),f=n("./app/scripts/views/stickers/sticker-selection-view.js"),m=n("./app/scripts/lib/util/index.coffee");e.exports=((l=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(g,e);var t,n,l,f,h=(t=g,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function g(){return r(this,g),h.apply(this,arguments)}return n=g,f=[{key:"initClass",value:function(){this.prototype.events={"click .js-delete-sticker":"deleteSticker"}}}],(l=[{key:"initialize",value:function(){var e=this;return this.toggleSelectable(),this.waitForId(this.model,(function(){return e.toggleSelectable()})),this.listenTo(this.model,"change:error",this.render)}},{key:"enabled",value:function(){return d.me().isFeatureEnabled("customStickers")||(null!=this.options.org?this.options.org.isFeatureEnabled("customStickers"):void 0)}},{key:"toggleSelectable",value:function(){var e=null!=this.model.id;return this.$el.toggleClass("js-draggable-sticker",e),this.$el.toggleClass("sticker-unselectable",!e)}},{key:"deleteSticker",value:function(e){var t=this;return m.stop(e),p.toggle("delete sticker",{elem:u(e.target).closest(".js-delete-sticker"),top:32,model:this.model,confirmBtnClass:"negate",fxConfirm:function(){return t.model.destroy()}})}}])&&i(n.prototype,l),f&&i(n,f),g}(f)).initClass(),l)},"./app/scripts/views/stickers/sticker-selection-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./app/scripts/db/auth.coffee"),u=n("./app/scripts/lib/util/index.coffee"),d=n("./app/scripts/views/internal/view.coffee"),p=n("./app/scripts/views/internal/templates.coffee"),f=n("./app/scripts/data/sticker-size.js"),m=n("./app/scripts/view-models/member-state.coffee"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(y,e);var t,d,h,v,b=(t=y,function(){var e,n=c(t);if(a()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function y(){return r(this,y),b.apply(this,arguments)}return d=y,v=[{key:"initClass",value:function(){this.prototype.className="sticker-select js-draggable-sticker"}}],(h=[{key:"initialize",value:function(){return this.listenTo(m,{"change:useAnimatedStickers":this.render})}},{key:"enabled",value:function(){return!this.model.get("premium")||l.me().isFeatureEnabled("additionalStickers")||(null!=this.options.org?this.options.org.isFeatureEnabled("additionalStickers"):void 0)}},{key:"render",value:function(){var e,t,r=this.model.toJSON();return this.model.get("isGiphySticker")&&!m.getUseAnimatedStickers()?r.url=null!=(e=g(u.smallestPreviewBiggerThan(r.stillscaled,f),(function(e){return e.url})))?e:r.stillUrl:r.url=null!=(t=g(u.smallestPreviewBiggerThan(r.scaled,f),(function(e){return e.url})))?t:r.url,r.pending=null==r.image&&null==r.id&&null==r.error,this.$el.toggleClass("disabled",!this.enabled()).toggleClass("giphy-sticker",!!this.model.get("isGiphySticker")).html(p.fill(n("./app/scripts/views/templates/sticker_select_item.js"),r)).data("sticker",this.model),this}}])&&i(d.prototype,h),v&&i(d,v),y}(d);function g(e,t){return null!=e?t(e):void 0}h.initClass(),e.exports=h},"./app/scripts/views/templates/archive_item.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("archive_item");e.exports=r.renderable((function(e){var t=e.url,n=e.name,i=e.orgName,o=e.deleting,s=e.canReopen,a=e.reOpenText,c=e.canDelete,l=e.canLeave,u=e.reopenDisabled;return r.div(".item-name",(function(){if(t&&!o?(r.a({href:t},(function(){return r.text(n)})),r.div(".quiet",(function(){}))):r.span((function(){return r.text(n)})),i)return r.div(".quiet",(function(){return r.text(i)}))})),o?r.div(".options.quiet",(function(){return r.format("deleting")})):r.div(".options",(function(){if(s&&r.a(".button-link.js-reopen".concat(u?".disabled":""),{href:"#"},(function(){return r.icon("refresh"),r.text(" "),r.text(a)})),c&&r.a(".button-link.negate.js-delete",{href:"#"},(function(){return r.icon("remove","delete")})),l)return r.a(".button-link.negate.js-leave",{href:"#"},(function(){return r.icon("leave-board","leave")}))}))}))},"./app/scripts/views/templates/archived_card_options.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("archived_card_options");e.exports=r.renderable((function(e){var t=e.editable,n=e.canReopen,i=e.canDelete,o=e.reOpenText;if(t&&(n||i))return r.p(".quiet",{style:"margin-left: 8px;"},(function(){if(n&&(r.a(".js-reopen",{href:"#"},(function(){return r.text(o)})),i&&r.text(" - ")),i)return r.a(".js-delete",{href:"#"},(function(){return r.format("delete")}))}))}))},"./app/scripts/views/templates/archived_cards.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("archived_cards");e.exports=function(){return r.p(".too-many-results-message.helper.js-search-message.hide"),r.div(".js-archive-items"),r.p(".empty-list.js-empty-message"),r.a(".show-more.js-more-cards",{href:"#"},(function(){return r.format("load-more-cards")}))}},"./app/scripts/views/templates/archived_lists.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("archived_lists");e.exports=function(){return r.ul(".archive-list.js-archive-items"),r.p(".js-empty-message.empty-list")}},"./app/scripts/views/templates/board_archive.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_archive");e.exports=function(){return r.div(".archive-controls",(function(){return r.div(".archive-controls-search",(function(){return r.input(".js-search.js-autofocus",{type:"text",placeholder:r.l("search archive")})})),r.a(".archive-controls-switch.button.subtle.js-switch-section",{href:"#"})})),r.div(".spinner.loading.js-loading-spinner"),r.div(".archive-content.js-archive-content")}},"./app/scripts/views/templates/board_background_options.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_background_options");e.exports=function(){return r.p(".u-font-weight-bold.quiet",(function(){return r.format("display-type")})),r.ul(".pop-over-list",(function(){return r.li((function(){return r.a(".js-select-option",{href:"#","data-background-display-type":"cover"},(function(){return r.check(!r.mustacheVar("tile"),"cover")}))})),r.li((function(){return r.a(".js-select-option",{href:"#","data-background-display-type":"tile"},(function(){return r.check(r.mustacheVar("tile"),"tile")}))}))})),r.hr(),r.p(".u-font-weight-bold.quiet",(function(){return r.format("board-text")})),r.ul(".pop-over-list",(function(){return r.li((function(){return r.a(".js-select-option",{href:"#","data-board-brightness":"dark"},(function(){return r.check(r.mustacheVar("brightnessDark"),"light")}))})),r.li((function(){return r.a(".js-select-option",{href:"#","data-board-brightness":"light"},(function(){return r.check(r.mustacheVar("brightnessLight"),"dark")}))}))})),r.hr(),r.a(".quiet-button.js-delete-background",{href:"#"},(function(){return r.format("delete-background")}))}},"./app/scripts/views/templates/board_background_selection.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_background_selection");e.exports=function(){return r.span({class:"background-box ".concat(r.mustacheBlock("pending",(function(){return"background-box-unselectable"}))).concat(r.mustacheBlock("tile",(function(){return" background-tile"}))),style:" ".concat(r.mustacheBlock("backgroundImageThumbnail",(function(){return'background-image: url("'.concat(r.mustacheVar("backgroundImageThumbnail"),'")')})),"; ").concat(r.mustacheBlock("color",(function(){return"background-color: ".concat(r.mustacheVar("color"),";")}))," ")},(function(){return r.mustacheBlock("attribution",(function(){return r.a(".background-option.js-background-attribution",{href:r.mustacheVar("url"),target:"_blank",title:r.mustacheVar("url")},(function(){return r.img({src:n("./resources/images/cc.png"),style:"height: 14px; width: 14px; vertical-align: text-top;",title:r.mustacheVar("license")}),r.span(".text",{style:"margin-left: 2px;"},(function(){return r.text(r.mustacheVar("name"))}))}))})),r.mustacheBlock("id",(function(){return r.a(".background-option.js-options",(function(){return r.icon("overflow-menu-horizontal",{class:"light",style:"vertical-align: bottom;"}),r.span(".text",(function(){return r.format("options")}))}))})),r.mustacheBlock("error",(function(){return r.span(".background-info",(function(){return r.span(".text",(function(){return r.text(r.mustacheVar("error"))}))}))})),r.mustacheBlock("pending",(function(){return r.span(".background-info",(function(){return r.span(".spinner.small.u-float-left",{style:"margin-right: 4px;"}),r.span(".text",(function(){return r.format("uploading-ellipsis")}))}))}))}))}},"./app/scripts/views/templates/board_change_background.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_change_background");e.exports=r.renderable((function(e){var t=e.enabled_customBoardBackgrounds,n=e.idMember,i=e.upsellEnabled;if(r.div(".board-backgrounds-section-tiles.u-clearfix",(function(){return r.div(".board-backgrounds-section-tile.board-backgrounds-photos-tile.js-bg-photos",(function(){return r.div(".image"),r.div(".title",(function(){return r.format("photos")}))})),r.div(".board-backgrounds-section-tile.board-backgrounds-colors-tile.js-bg-colors",(function(){return r.div(".image"),r.div(".title",(function(){return r.format("colors")}))}))})),r.hr(".board-menu-header-divider"),t||i)return r.h2((function(){return r.format("custom")})),r.div({class:"board-backgrounds-list u-relative u-clearfix js-custom-list".concat(t?"":" disabled")},(function(){return r.div(".board-background-select.board-background-select-upload.js-uploader",(function(){return r.form({action:"/1/member/".concat(n,"/customBoardBackgrounds"),method:"post",enctype:"multipart/form-data"},(function(){return r.input({type:"hidden",name:"token",value:""}),r.input({type:"hidden",name:"format",value:"http"}),r.span(".background-box",(function(){return r.span(".icon-lg.icon-add")})),r.input(".upload-background.js-upload-image",{type:"file",name:"file",multiple:"multiple",accept:"image/*"})}))}))}))}))},"./app/scripts/views/templates/board_convert_template.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_copy");e.exports=function(){return r.form((function(){return r.div(".board-menu-convert-to-template-container",(function(){return r.img(".board-menu-convert-to-template",{src:n("./resources/images/template-create-popover-icon.svg"),alt:"",role:"presentation"})})),r.p((function(){return r.format("make-template-text")})),r.input(".primary.wide.full.js-convert",{type:"submit",value:r.l("make-template")})}))}},"./app/scripts/views/templates/board_menu_about_this_board.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_menu_about_this_board"),i=r.renderable((function(e,t,n){if(e||t)return r.div(".about-this-board-actions-section",(function(){return r.h2(".small-caps",(function(){return r.format(n)})),r.ul(".pop-over-list.inset",(function(){if(e&&r.li((function(){return r.span(".icon-sm.icon-comment"),r.format("comment-on-cards")})),t)return r.li((function(){return r.span(".icon-sm.icon-vote"),r.format("vote-on-cards")}))}))}))}));e.exports=r.renderable((function(e){e.isLoggedIn;var t=e.isAdmin,n=e.isNonAdminMember,o=e.canComment,s=e.canVote,a=e.commentHeader,c=e.votingHeader,l=e.permissionsHierarchy,u=e.isTemplate;if(!u||n||t||(r.div(".js-search-input-view"),r.hr()),r.div(".about-this-board-section",(function(){return r.div(".window-module-title.window-module-title-no-divider",(function(){return r.span(".icon-member.icon-lg.window-module-title-icon"),r.h3(".u-inline-block",(function(){return r.format("made-by")}))})),r.div(".js-made-by"),r.div(".about-this-board-multi-admin",(function(){return r.div(".js-made-by-facepile"),r.a(".admin-count.about-this-board-pile-button.pile.js-fill-board-admin-count",{href:"#"},(function(){return r.span(".admin-count-notifications")}))}))})),r.div(".js-view-copy-count"),r.div(".about-this-board-section.about-this-board-desc",(function(){return r.div(".js-fill-atb-desc.about-this-board-description-content")})),!u&&!n&&(o||s))return r.div(".about-this-board-section",(function(){return r.hr(),t?("equal"===l?i(o,s,a):"comment"===l?(i(o,null,a),i(null,s,c)):(i(null,s,c),i(o,null,a)),r.a(".quiet-button.js-change-permissions",{href:"#"},(function(){return r.span((function(){return r.format("change-permissions")}))}))):i(o,s,"any-trello-user-can")}))}))},"./app/scripts/views/templates/board_menu_activity.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_menu_activity");e.exports=function(){return r.div(".segmented-control",(function(){return r.a(".segmented-control-item.js-show-all.js-control-option",{href:"#"},(function(){return r.format("all")})),r.a(".segmented-control-item.js-show-comments.js-control-option",{href:"#"},(function(){return r.format("comments")}))})),r.div(".phenom-list.js-list-activity"),r.a(".show-more.js-more-actions",{href:"#"},(function(){return r.format("load-more-activity")}))}},"./app/scripts/views/templates/board_menu_commenting.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_menu_commenting");e.exports=function(){return r.li((function(){return r.a(".js-select",{href:"#",name:"disabled"},(function(){return r.check(r.mustacheVar("comments_disabled"),"disabled"),r.span(".sub-name",(function(){return r.format("no-one-is-allowed-to-comment")}))}))})),r.li((function(){return r.a(".js-select",{href:"#",name:"members"},(function(){return r.check(r.mustacheVar("comments_members"),"members"),r.span(".sub-name",(function(){return r.format("allow-admins-and-normal-members-to-comment")}))}))})),r.li((function(){return r.a({href:"#",class:"js-select".concat(r.mustacheBlockInverted("comments_showObservers",(function(){return" disabled"}))),name:"observers"},(function(){return r.check(r.mustacheVar("comments_observers"),"members-and-observers"),r.span(".sub-name",(function(){return r.format("allow-admins-normal-members-and-observers-to-comment")}))}))})),r.li((function(){return r.a({href:"#",class:"js-select".concat(r.mustacheBlockInverted("orgCanSee",(function(){return" disabled"}))),name:"org"},(function(){return r.check(r.mustacheVar("comments_org"),"organization-members"),r.span(".sub-name",(function(){return r.format("allow-admins-normal-members-observers-and-organization-members-to-comment")}))}))})),r.li((function(){return r.a({href:"#",class:"js-select".concat(r.mustacheBlockInverted("permissionLevel_public",(function(){return" disabled"}))),name:"public"},(function(){return r.check(r.mustacheVar("comments_public"),"any-trello-user"),r.span(".sub-name",(function(){return r.format("allow-any-trello-member-to-comment")}))}))}))}},"./app/scripts/views/templates/board_menu_default.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_menu_default"),i=r.renderable((function(e){var t=e.hasBCPowerUps,n=e.hasGoldPowerUps;return r.li(".board-menu-navigation-item",(function(){return r.a(".board-menu-navigation-item-link.js-open-power-ups",{href:"#"},(function(){return r.icon("power-up","power-ups",{class:"board-menu-navigation-item-link-icon"}),r.raw("&nbsp;"),t?r.icon("business-class",{class:"mod-quiet"}):n&&r.icon("trello-gold",{class:"icon-trello-gold-color"}),r.span(".board-menu-navigation-item-link-count.js-enabled-power-up-count"),r.span(".board-menu-navigation-item-new.js-power-up-new",(function(){return r.format("new")})),r.span(".board-menu-navigation-item-link-warning.js-power-up-disable-timer"),r.div(".board-menu-navigation-item-link-summary",(function(){return r.raw("&nbsp;"),r.format("power-ups-explanation")}))}))}))}));e.exports=r.renderable((function(e){var t=e.hasBCPowerUps,n=e.hasGoldPowerUps,o=e.editable,s=e.showEnterpriseUpsell,a=e.isTemplate;if(r.p(".error.js-file-too-large",{style:"margin: 12px 0 6px; display:none;"},(function(){return r.format("file-too-large-10mb-limit")})),r.ul(".board-menu-navigation",(function(){if(r.li(".board-menu-navigation-item",(function(){return r.a(".board-menu-navigation-item-link.js-about-this-board",{href:"#"},(function(){return r.span(".board-menu-navigation-item-link-icon.icon-lg.icon-board"),r.raw("&nbsp;"),a?r.format("about-this-template"):r.format("about-this-board"),r.div(".board-menu-navigation-item-link-summary.board-menu-about-this-board-summary",(function(){return r.raw("&nbsp;"),a?r.format("add-a-description-to-your-template"):r.format("add-a-description-to-your-board")}))}))})),o&&r.li(".board-menu-navigation-item.mod-background",(function(){return r.a(".board-menu-navigation-item-link.js-change-background",{href:"#"},(function(){return r.span(".board-menu-navigation-item-link-icon.js-fill-background-preview"),r.raw("&nbsp;"),r.format("change-background")}))})),r.li(".board-menu-navigation-item",(function(){return r.a(".board-menu-navigation-item-link.js-open-card-filter",{href:"#"},(function(){return r.icon("search","search-cards",{class:"board-menu-navigation-item-link-icon"})}))})),o&&r.li(".board-menu-navigation-item",(function(){return r.a(".board-menu-navigation-item-link.js-open-stickers",{href:"#"},(function(){return r.icon("sticker","stickers",{class:"board-menu-navigation-item-link-icon"})}))})),r.li(".board-menu-navigation-item",(function(){return r.a(".board-menu-navigation-item-link.js-open-more",{href:"#"},(function(){return r.icon("overflow-menu-horizontal","more",{class:"board-menu-navigation-item-link-icon"})}))})),o)return r.div(".js-butler-button.hide",(function(){return r.hr(),r.li(".board-menu-navigation-item",(function(){return r.a(".board-menu-navigation-item-link.js-open-butler",{href:"#"},(function(){return r.icon("butler-bot","butler",{class:"board-menu-navigation-item-link-icon"}),r.div(".board-menu-navigation-item-link-summary",(function(){return r.raw("&nbsp;"),r.format("butler-description")}))}))}))}))})),o&&(r.hr(),s&&r.div(".enterprise-up-sell.on-board",(function(){return r.div(".enterprise-up-sell-body",(function(){return r.div(".enterprise-up-sell-copy",(function(){return r.h2(".enterprise-up-sell-header",(function(){return r.span(".icon-lg.icon-power-up"),r.format("ads-ent-title")})),r.div(".enterprise-up-sell-description",(function(){return r.format("ads-ent-description")}))}))})),r.div(".enterprise-up-sell-footer",(function(){return r.div(".enterprise-up-sell-actions",(function(){return r.button(".js-enterprise-upsell-dismiss",(function(){return r.format("ads-ent-dismiss")})),r.button(".js-enterprise-upsell-learn-more.button.primary",(function(){return r.format("ads-ent-learn-more")}))}))}))})),r.ul(".board-menu-navigation",(function(){return i({hasBCPowerUps:t,hasGoldPowerUps:n})})),r.div(".js-power-up-slots-container")),!a)return r.hr(),r.a(".board-menu-section-header.js-open-activity",{href:"#"},(function(){return r.span(".board-menu-section-header-icon.icon-lg.icon-activity"),r.span(".board-menu-section-header-title",(function(){return r.format("activity")})),r.span(".board-menu-section-header-count.js-unread-activity-count")})),r.div(".js-menu-action-list"),r.a(".show-more.js-fill-activity-button.js-open-activity",{href:"#"})}))},"./app/scripts/views/templates/board_menu_email.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_menu_email");e.exports=r.renderable((function(e){var t=e.commentsEnabled,n=e.email,i=e.listName,o=e.lists,s=e.position,a=e.positionName;return t?(r.label({for:"boardEmail"},(function(){return r.format("your-email-address-for-this-board")})),r.input(".non-empty.js-autofocus",{id:"boardEmail",type:"text",name:"boardEmail",readonly:"readonly",placeholder:r.l("loading-ellipsis"),value:n,style:"margin: 4px 0 8px;"}),r.a(".quiet-button.js-generate-address",{href:"#"},(function(){return r.format("generate-a-new-email-address")})),r.a(".quiet-button.js-send-address",{href:"#"},(function(){return r.format("email-me-this-address")})),r.hr(),r.label((function(){return r.format("your-emailed-cards-appear-in-ellipsis")})),r.div(".form-grid",(function(){return r.div(".button-link.setting.form-grid-child.form-grid-child-twothirds",(function(){return r.span(".label",(function(){return r.format("list")})),r.span(".value.js-list-value",(function(){return r.text(i)})),r.label((function(){return r.format("list")})),r.select(".js-select-list",(function(){return function(){for(var e=[],t=0,n=Array.from(o);t<n.length;t++){var i=n[t],s=i.id,a=i.name,c=i.selected;e.push(r.optionSelected(c,{value:s},(function(){return r.text(a)})))}return e}()}))})),r.div(".button-link.setting.form-grid-child",(function(){return r.span(".label",(function(){return r.format("position")})),r.span(".value.js-pos-value",(function(){return r.text(a)})),r.label((function(){return r.format("position")})),r.select(".js-select-position",(function(){return r.optionSelected("top"===s,{value:"top"},(function(){return r.format("top")})),r.optionSelected("bottom"===s,{value:"bottom"},(function(){return r.format("bottom")}))}))}))})),r.hr(),r.p(".u-bottom.quiet",(function(){return r.format("tip-dont-share-this-email-address-anyone-who-has-it-can-add-cards-as-you-when-composing-emails-the-card-title-goes-in-the-subject-and-the-card-description-in-the-body-more-email-formatting-tips")}))):(r.p((function(){return r.format("requires-comments-enabled")})),void r.p((function(){return r.format("enabled-by-enabling-comments")})))}))},"./app/scripts/views/templates/board_menu_invitations.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_menu_invitations");e.exports=function(){return r.li((function(){return r.a(".js-select",{href:"#",name:"admins"},(function(){return r.check(r.mustacheVar("invitations_admins"),"admins"),r.span(".sub-name",(function(){return r.format("allow-only-admins-to-add-and-remove-others")}))}))})),r.li((function(){return r.a(".js-select",{href:"#",name:"members"},(function(){return r.check(r.mustacheVar("invitations_members"),"all-members"),r.span(".sub-name",(function(){return r.format("allow-members-and-admins-to-add-and-remove-others")}))}))}))}},"./app/scripts/views/templates/board_menu_more.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_menu_more");e.exports=r.renderable((function(e){var t=e.shortUrl,n=e.editableByMember,i=e.isAdmin,o=e.isLoggedIn,s=e.canCloseOrLeave,a=e.canCloseBoard,c=e.canCopyBoard,l=e.canLeaveBoard,u=e.pLevelAltText,d=e.pLevelClass,p=e.helperText,f=e.showCollections,m=e.isTemplate,h=e.canBeTemplate,g=e.isOrgBcOrEnt,v=e.showTemplateUpgrade;return r.ul(".board-menu-navigation",(function(){return r.li(".board-menu-navigation-item",(function(){return r.a(".board-menu-navigation-item-link.js-open-settings",{href:"#"},(function(){return r.icon("gear","settings",{class:"board-menu-navigation-item-link-icon"})}))})),r.li(".board-menu-navigation-item",(function(){return r.a(".board-menu-navigation-item-link.js-open-labels",{href:"#"},(function(){return r.icon("label","labels",{class:"board-menu-navigation-item-link-icon"})}))})),f&&(g?r.li(".board-menu-navigation-item",(function(){return r.a(".board-menu-navigation-item-link.js-open-collections",{href:"#"},(function(){return r.icon("collection","collections",{class:"board-menu-navigation-item-link-icon"})}))})):r.li(".board-menu-navigation-item.disabled",(function(){return r.span(".board-menu-navigation-item-link.",(function(){return r.icon("collection","collections",{class:"board-menu-navigation-item-link-icon"}),r.div(".board-menu-pill-upgrade.js-board-menu-pill-collections-upgrade")})),r.div(".js-board-menu-prompt-collections")}))),r.li(".board-menu-navigation-item",(function(){return r.a(".board-menu-navigation-item-link.js-open-archive",{href:"#"},(function(){return r.icon("archive","archived-items",{class:"board-menu-navigation-item-link-icon"})}))}))})),r.hr(),r.ul(".board-menu-navigation",(function(){return n&&!m&&r.li(".board-menu-navigation-item",(function(){return r.a(".board-menu-navigation-item-link.js-email",{href:"#"},(function(){return r.icon("email","email-to-board-settings",{class:"board-menu-navigation-item-link-icon"})}))})),o&&!m&&r.li(".board-menu-navigation-item",(function(){return r.a(".board-menu-navigation-item-link.js-board-subscribe",{href:"#"},(function(){return r.icon("subscribe","watch",{class:"board-menu-navigation-item-link-icon"}),r.raw("&nbsp;"),r.span(".js-subscribed-state",(function(){return r.icon("check")}))}))})),h&&n&&i?r.li(".board-menu-navigation-item",(function(){return m?r.a(".board-menu-navigation-item-link.js-convert-to-board",{href:"#"},(function(){return r.icon("board",{class:"board-menu-navigation-item-link-icon"}),r.raw("&nbsp;"),r.format("convert-to-board")})):r.a(".board-menu-navigation-item-link.js-make-template",{href:"#"},(function(){return r.icon("template-board",{class:"board-menu-navigation-item-link-icon"}),r.raw("&nbsp;"),r.format("make-template")}))})):v&&r.li(".board-menu-navigation-item.disabled",(function(){return r.span(".board-menu-navigation-item-link",(function(){return r.icon("template-board",{class:"board-menu-navigation-item-link-icon"}),r.raw("&nbsp;"),r.format("make-template"),r.div(".board-menu-pill-upgrade.js-board-menu-pill-templates-upgrade")}))})),o&&!m&&c&&r.li(".board-menu-navigation-item",(function(){return r.a(".board-menu-navigation-item-link.js-copy-board",{href:"#"},(function(){return r.icon("copy","copy-board",{class:"board-menu-navigation-item-link-icon"})}))})),r.li(".board-menu-navigation-item",(function(){return r.a(".board-menu-navigation-item-link.js-share",{href:"#"},(function(){return r.icon("share","print-and-export",{class:"board-menu-navigation-item-link-icon"})}))}))})),s&&(r.hr(),r.ul(".board-menu-navigation",(function(){if(a&&r.li(".board-menu-navigation-item",(function(){return r.a(".board-menu-navigation-item-link.js-close-board",{href:"#"},(function(){return r.raw("&nbsp;"),m?r.format("close-template-ellipsis"):r.format("close-board-ellipsis")}))})),l)return r.li(".board-menu-navigation-item",(function(){return r.a(".board-menu-navigation-item-link.js-leave-board",{href:"#"},(function(){return r.raw("&nbsp;"),r.format("leave-board-ellipsis")}))}))}))),r.hr(),r.form(".u-gutter",(function(){return r.label({for:"id-short-url"},(function(){return m?r.format("link-to-this-template"):r.format("link-to-this-board")})),r.input(".js-short-url",{type:"text",readonly:"readonly",id:"id-short-url",value:t}),r.p(".quiet",(function(){return r.span({class:"icon-sm icon-".concat(d),title:u}),r.text(p)}))}))}))},"./app/scripts/views/templates/board_menu_more_activity_button.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_menu_more_activity_button");e.exports=function(){return r.mustacheBlockInverted("hasCount",(function(){return r.format("view-all-activity-ellipsis")})),r.mustacheBlock("hasCount",(function(){return r.format("view-all-unread-activity-count-ellipsis",{count:r.mustacheVar("count")})}))}},"./app/scripts/views/templates/board_menu_settings.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_menu_settings");e.exports=function(){return r.mustacheVar("isLoggedIn")||(r.ul(".board-menu-navigation",(function(){return r.li(".board-menu-navigation-item",(function(){return r.a(".js-change-cookie-settings.board-menu-navigation-item-link",{href:"#"},(function(){return r.icon("gear","cookie-settings",{class:"board-menu-navigation-item-link-icon"})}))}))})),r.hr()),r.div((function(){return r.ul(".pop-over-list.inset",(function(){if(r.li((function(){return r.a({class:"js-change-org".concat(r.mustacheBlockInverted("canChangeOrg",(function(){return" disabled"}))),href:"#"},(function(){return r.mustacheBlock("setOrgNull",(function(){return r.format("remove-from-organization")})),r.mustacheBlockInverted("setOrgNull",(function(){return r.format("change-organization-ellipsis")})),r.mustacheBlock("orgDisplayName",(function(){return r.span(".sub-name",(function(){return r.text(r.mustacheVar("orgDisplayName"))}))}))}))})),r.hr(),r.li((function(){return r.a({class:r.mustacheBlock("__own",(function(){return"js-toggle-covers"}))+r.mustacheBlockInverted("__own",(function(){return" disabled"})),href:"#"},(function(){return r.mustacheBlockInverted("cardCovers",(function(){return r.format("enable-card-covers")})),r.mustacheBlock("cardCovers",(function(){return r.format("card-covers-enabled"),r.icon("check")})),r.span(".sub-name",(function(){return r.format("show-image-attachments-and-colors-on-the-front-of-cards")}))}))})),r.hr(),r.mustacheVar("isTemplate")||r.li((function(){return r.a({class:r.mustacheBlock("__own",(function(){return"js-change-comments"}))+r.mustacheBlockInverted("__own",(function(){return" disabled"})),href:"#"},(function(){return r.format("commenting-permissions-ellipsis-commentsdisplay",{commentsDisplay:r.mustacheVar("commentsDisplay")})}))})),r.mustacheVar("votingEnabled")&&r.li((function(){return r.a({class:r.mustacheBlock("__own",(function(){return"js-change-voting"}))+r.mustacheBlockInverted("__own",(function(){return" disabled"})),href:"#"},(function(){return r.format("voting-permissions-ellipsis-votingdisplay",{votingDisplay:r.mustacheVar("votingDisplay")})}))})),!r.mustacheVar("isTemplate"))return r.li((function(){return r.a({class:r.mustacheBlock("__own",(function(){return"js-change-add-members"}))+r.mustacheBlockInverted("__own",(function(){return" disabled"})),href:"#"},(function(){return r.format("invitations-permissions-ellipsis-invitationsdisplay",{invitationsDisplay:r.mustacheVar("invitationsDisplay")})}))})),r.hr(),r.li((function(){return r.a({class:" ".concat(r.mustacheBlock("__own",(function(){return" js-toggle-org-mem-join "}))," ").concat(r.mustacheBlockInverted("__own",(function(){return" disabled "}))," ").concat(r.mustacheBlockInverted("hasOrg",(function(){return" disabled "}))," ").concat(r.mustacheBlock("permissionLevel_private",(function(){return" disabled "}))," "),href:"#"},(function(){return r.check(r.mustacheVar("selfJoin_true"),"allow-team-members-to-edit-and-join"),r.span(".sub-name",(function(){return r.mustacheBlock("hasOrg",(function(){return r.mustacheBlock("permissionLevel_private",(function(){return r.format("any-team-member-can-edit-and-join-this-board-to-enable-this-the-board-cant-be-private")}))})),r.mustacheBlock("hasOrg",(function(){return r.mustacheBlockInverted("permissionLevel_private",(function(){return r.format("any-team-member-can-edit-and-join-this-board")}))})),r.mustacheBlockInverted("hasOrg",(function(){return r.mustacheBlock("permissionLevel_private",(function(){return r.format("any-team-member-can-edit-and-join-this-board-to-enable-this-the-board-has-to-be-a-part-of-a-team-and-the-board-cant-be-private")}))})),r.mustacheBlockInverted("hasOrg",(function(){return r.mustacheBlockInverted("permissionLevel_private",(function(){return r.format("any-team-member-can-edit-and-join-this-board-to-enable-this-the-board-has-to-be-a-part-of-a-team")}))}))}))}))}))}))}))}},"./app/scripts/views/templates/board_sidebar.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_sidebar");e.exports=r.renderable((function(){return r.div(".board-menu-tab-content",(function(){return r.div(".board-menu-header.js-board-menu-title",(function(){return r.div(".board-menu-header-content",(function(){return r.a(".board-menu-header-back-button.icon-lg.icon-back.js-pop-widget-view",{href:"#",title:r.l("go-back")}),r.h3(".board-menu-header-title.js-board-menu-title-text"),r.a(".board-menu-header-close-button.icon-lg.icon-close.js-hide-sidebar",{href:"#",title:r.l("close-the-board-menu")})})),r.hr(".board-menu-header-divider")})),r.div(".board-menu-content.u-fancy-scrollbar.js-board-menu-content-wrapper")}))}))},"./app/scripts/views/templates/board_sidebar_search_input.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("board_menu_default");e.exports.renderInputRow=r.renderable((function(e){var t=e.title,n=e.showFilterButton;return r.div(".board-menu-navigation-row",(function(){if(r.div(".input-container",(function(){return r.input(".js-input.js-autofocus",{type:"search",attr:"title",placeholder:r.l("search-cards-placeholder"),"aria-label":r.l("search-cards-placeholder"),value:t}),r.div(".js-input-search-icon")})),n)return r.button(".button.js-search-open-card-filter",(function(){return r.icon("filter")}))}))})),e.exports.renderInputIcon=r.renderable((function(e){return e.title?r.a(".input-icon.js-search-clear-title",{href:"#"},(function(){return r.icon("close")})):r.a(".input-icon.js-search-open-card-filter",{href:"#"},(function(){return r.icon("search")}))}))},"./app/scripts/views/templates/description.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("description");e.exports=r.renderable((function(e){var t=e.editable,n=e.isCardDesc,i=e.placeholderKey,o=e.isAdmin,s=e.isTemplate;return r.div(".window-module",(function(){return r.div(".window-module-title.window-module-title-no-divider.description-title",(function(){if(r.span(".icon-description.icon-lg.window-module-title-icon"),r.h3(".u-inline-block",(function(){return r.format("description")})),t)return r.div({class:r.classify({editable:t}),attr:"desc"},(function(){return r.a(".button.subtle.hide-on-edit.js-show-with-desc.js-edit-desc.js-edit-desc-button",{href:"#"},(function(){return r.format("edit")})),r.span(".editing-members-description.js-editing-members-description.hide")}))})),r.div(".u-gutter",(function(){return r.div({class:r.classify({editable:t}),attr:"desc"},(function(){return r.div(".description-content.js-desc-content",(function(){if(r.div(".description-content-fade-button",(function(){return r.span(".description-content-fade-button-text",(function(){return r.format("show-full-description")}))})),r.div(".current.markeddown.hide-on-edit.js-desc.js-show-with-desc.hide",{dir:"auto"}),t||!s||n||o||r.div(".description-content-no-edit.js-hide-with-desc",(function(){return r.format(i)})),t)return r.p(".u-bottom.js-hide-with-desc",(function(){return r.a({class:r.classify({"description-fake-text-area hide-on-edit js-edit-desc  js-hide-with-draft":!0,large:!n}),href:"#"},(function(){return r.format(i)}))})),r.div(".description-edit.edit",(function(){return r.a(".helper.button.subtle.js-format-help",{href:"#"},(function(){return r.format("formatting-help")})),r.textarea(".field.field-autosave.js-description-draft.description",{placeholder:r.l(i)})})),r.p(".edits-warning.quiet",(function(){return r.format("you-have-unsaved-edits-on-this-field"),r.text(" "),r.a(".js-view-edits",{href:"#"},(function(){return r.format("view-edits")})),r.text(" - "),r.a(".js-discard-edits",{href:"#"},(function(){return r.format("discard")}))})),r.p(".edits-error.error",(function(){return r.format("edit-not-saved")}))}))}))}))}))}))},"./app/scripts/views/templates/edit_controls.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("edit_controls");e.exports=r.renderable((function(){return r.div(".edit-controls.u-clearfix",(function(){return r.input(".primary.confirm.mod-submit-edit.js-save-edit",{type:"submit",value:r.l("save")}),r.a(".icon-lg.icon-close.dark-hover.cancel.js-cancel-edit",{href:"#"})}))}))},"./app/scripts/views/templates/filter_cards.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("filter_cards");e.exports=function(){return r.input(".js-input.js-autofocus",{type:"text",attr:"title",value:r.mustacheVar("title"),style:"margin-bottom: 0;"}),r.div(".js-filter-search-results")}},"./app/scripts/views/templates/filter_cards_search_results.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("filter_cards_search_results");e.exports=function(){return r.mustacheBlock("showHelper",(function(){return r.p(".quiet",{style:"padding: 10px 8px 2px; margin-bottom: 0;"},(function(){return r.format("type-to-search-by-term-label-member-or-due-time")}))})),r.mustacheBlock("showLabels",(function(){return r.hr(),r.ul({class:"label-list".concat(r.mustacheBlock("limitLabels",(function(){return" limited"})))},(function(){return r.mustacheBlock("labels",(function(){return r.li({class:"label-list-item".concat(r.mustacheBlock("isActive",(function(){return" is-active"})))},(function(){return r.a(".label-list-item-link.js-toggle-label-filter",{href:"#","data-name":r.mustacheVar("color"),"data-idlabel":r.mustacheVar("id")},(function(){return r.div(".label-list-item-link-label",(function(){return r.span({class:"card-label mod-square card-label-".concat(r.mustacheVar("color"))})})),r.mustacheBlock("name",(function(){return r.span(".label-list-item-link-name",(function(){return r.text(r.mustacheVar("name"))}))})),r.mustacheBlockInverted("name",(function(){return r.span(".label-list-item-link-name.mod-quiet",(function(){return r.format("color-label-default",{color:r.mustacheVar("defaultColorName")})}))})),r.icon("check",{class:"label-list-item-link-icon"})}))}))})),r.mustacheBlock("limitLabels",(function(){return r.li(".label-list-item.js-show-all-labels-elem",(function(){return r.a(".label-list-item-link.js-show-all-labels",{href:"#"},(function(){return r.span(".label-list-item-link-name.mod-quiet",(function(){return r.format("show-all-labels-remaininglabels-hidden",{remainingLabels:r.mustacheVar("remainingLabels")})}))}))}))}))}))})),r.mustacheBlock("showMembers",(function(){return r.hr(),r.ul({class:"pop-over-member-list checkable js-mem-list".concat(r.mustacheBlock("limitMembers",(function(){return" limited"})))},(function(){return r.mustacheBlock("members",(function(){return r.mustachePartial(n("./app/scripts/views/templates/select_member.js"))}))})),r.mustacheBlock("limitMembers",(function(){return r.ul(".pop-over-member-list",(function(){return r.li(".item",(function(){return r.a(".name.quiet.js-show-all-members",{href:"#",style:"padding-left: 42px; font-weight: normal; margin-top: 4px;"},(function(){return r.format("show-all-members-remainingmembers-hidden",{remainingMembers:r.mustacheVar("remainingMembers")})}))}))}))}))})),r.mustacheBlock("showDueTimes",(function(){return r.hr(),r.ul(".pop-over-list.checkable.navigable.inset.normal-weight",(function(){return r.mustacheBlock("dueOptions",(function(){return r.li({class:"item ".concat(r.mustacheBlock("isActive",(function(){return" active"})))},(function(){return r.a(".js-due-filter",{href:"#",time:r.mustacheVar("time"),style:"padding-left: 40px;"},(function(){return r.text(r.mustacheVar("desc")),r.icon("check")}))}))}))}))})),r.mustacheBlock("showMatchMode",(function(){return r.hr(),r.ul(".pop-over-list.checkable.navigable.inset.normal-weight",(function(){return r.mustacheBlock("modes",(function(){return r.li({class:"item ".concat(r.mustacheBlock("isActive",(function(){return" active"})))},(function(){return r.a(".js-mode-filter",{href:"#",mode:r.mustacheVar("mode"),style:"padding-left: 40px;"},(function(){return r.text(r.mustacheVar("desc")),r.icon("check")}))}))}))}))})),r.hr(),r.ul(".pop-over-list.inset.normal-weight",(function(){return r.li((function(){return r.a({href:"#",class:"js-clear-all".concat(r.mustacheBlockInverted("isFiltering",(function(){return" disabled"}))),style:"padding-left: 40px;"},(function(){return r.format("clear-search")}))}))}))}},"./app/scripts/views/templates/formatting_help.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("formatting_help");e.exports=function(){return r.p((function(){return r.format("trello-uses-markdown-for-formatting-here-are-the-basics-see-the-complete-syntax")})),r.hr(),r.p(".quiet",(function(){return r.format("first-level-header")})),r.code((function(){return r.format("making-scrambled-eggs-a-primer"),r.br(),r.text("\n    ===============================\n  ")})),r.hr(),r.p(".quiet",(function(){return r.format("second-level-header")})),r.code((function(){return r.format("1-1-preparation"),r.br(),r.text("\n    ----------------\n  ")})),r.hr(),r.p(".quiet",(function(){return r.format("paragraphs")})),r.code((function(){return r.format("add-two-new-lines-to-start-a-new-paragraph-crack-two-eggs-into-the-bowl-and-whisk")})),r.hr(),r.p(".quiet",(function(){return r.format("bold")})),r.code((function(){return r.format("carefully-crack-the-eggs")})),r.hr(),r.p(".quiet",(function(){return r.format("emphasis")})),r.code((function(){return r.format("whisk-the-eggs-vigorously")})),r.hr(),r.p(".quiet",(function(){return r.format("lists")})),r.code((function(){return r.format("ingredients"),r.br(),r.br(),r.format("eggs"),r.br(),r.format("oil"),r.br(),r.format("optional-milk")})),r.hr(),r.p(".quiet",(function(){return r.format("links")})),r.code((function(){return r.format("to-download-a-pdf-version-of-the-recipe-click-here-https-example-com-scrambled-eggs-pdf")})),r.hr(),r.p(".quiet",(function(){return r.format("images")})),r.code((function(){return r.format("the-finished-dish-https-example-com-eggs-png")}))}},"./app/scripts/views/templates/popover_about_this_board_admin_list.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_about_this_board_admin_list");e.exports=function(){return r.div(".about-this-board-admin-list-popover",(function(){return r.ul(".js-admin-list",(function(){return r.li(".pop-over-member-list",(function(){return r.span(".name.js-show-all-admins")}))}))}))}},"./app/scripts/views/templates/popover_share.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("popover_share");e.exports=r.renderable((function(e){var t=e.hasCsvExport,n=e.csvURL,i=e.jsonURL,o=(e.needsUpgradeForCsv,e.upgradeUrl,e.hasOrganization,e.upsellEnabled),s=(e.isAdDismissed,e.featureFlag);return r.ul(".pop-over-list",(function(){if(r.li((function(){return r.a(".js-print",{href:"#",title:r.l("print-using-the-browser-s-print-function-you-can-use-file")},(function(){return r.format("print-ellipsis")}))})),s?r.li((function(){return t?r.a(".js-export",{href:"#"},(function(){return r.format("export-board")})):r.a(".js-export-json",{href:i,title:r.l("export-the-board-data-in-json-format")},(function(){return r.format("export-json")}))})):(r.li((function(){return t?r.a(".js-export-csv",{href:n,title:r.l("export-the-board-data-in-csv-format")},(function(){return r.format("export-csv")})):r.a(".disabled",{href:"#",title:r.l("export-the-board-data-in-csv-format")},(function(){return r.format("export-csv"),r.div({class:"export-csv-update-pill",id:"js-export-csv-pill-update-prompt"})}))})),r.li((function(){return r.a(".js-export-json",{href:i,title:r.l("export-the-board-data-in-json-format")},(function(){return r.format("export-json")}))}))),!t&&o)return r.div(".popover-share-ads-container",(function(){return r.div(".print-and-export-upgrade-prompt-wrapper")}))}))}))},"./app/scripts/views/templates/product_promo_disable_overlay.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")();e.exports=r.renderable((function(){return r.div(".product-promo-disable-overlay")}))},"./app/scripts/views/templates/search_help_popover.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("search_help_popover");e.exports=r.renderable((function(){var e=function(e){return r.format(e,{archived:"archived",attachments:"attachments",board:"board",checklist:"checklist",comment:"comment",cover:"cover",created:"created",day:"day",description:"description",due:"due",edited:"edited",has:"has",id:"id",is:"is",label:"label",list:"list",member:"member",members:"members",month:"month",name:"name",open:"open",overdue:"overdue",sort:"sort",starred:"starred",stickers:"stickers",week:"week"})};return r.div(".search-tips.js-no-input",(function(){return r.div(".search-tips-list.js-search-tips-list",(function(){return r.p(".quiet",(function(){return e("intro-text")})),r.dl((function(){return r.dt((function(){return r.format("at-name")})),r.dd((function(){return e("returns-cards-assigned-to-a-member-member-also-works-me-will-include-only-your-cards")})),r.dt((function(){return r.format("label")})),r.dd((function(){return e("returns-labeled-cards-trello-will-suggest-labels-for-you-if-you-start-typing-and-the-label-you-are-looking-for-label-also-works")})),r.dt((function(){return e("list-name")})),r.dd((function(){return e("returns-cards-within-the-list-named-name-or-whatever-you-type-besides-name")})),r.dt((function(){return e("has-attachments")})),r.dd((function(){return e("returns-cards-with-attachments-has-description-has-cover-has-members-and-has-stickers-also-work-as-you-would-expect")})),r.dt((function(){return e("due-day")})),r.dd((function(){return e("returns-cards-due-within-24-hours-due-week-due-month-and-due-overdue-also-work-as-expected-you-can-search-for-a-specific-day-range-for-example-adding-due-14-to-search-will-include-cards-due-in-the-next-14-days")})),r.dt((function(){return e("created-day")})),r.dd((function(){return e("returns-cards-created-in-the-last-24-hours-created-week-and-created-month-also-work-as-expected-you-can-search-for-a-specific-day-range-for-example-adding-created-14-to-the-search-will-include-cards-created-in-the-last-14-days")})),r.dt((function(){return e("edited-day")})),r.dd((function(){return e("returns-cards-edited-in-the-last-24-hours-edited-week-and-edited-month-also-work-as-expected-you-can-search-for-a-specific-day-range-for-example-adding-edited-21-to-the-search-will-include-cards-edited-in-the-last-21-days")})),r.dt((function(){return e("description-checklist-comment-and-name")})),r.dd((function(){return e("returns-cards-matching-the-text-of-card-descriptions-checklists-comments-or-names-for-example-comment-fix-it-will-return-cards-with-fix-it-in-a-comment")})),r.dt((function(){return e("sort-created")})),r.dd((function(){return e("sorts-cards-by-date-created-sort-edited-and-sort-due-also-work-as-expected")}))}))}))}))}))},"./app/scripts/views/templates/sticker_pack_selection_list.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("sticker_pack_selection_list");e.exports=function(){return r.h2((function(){return r.text(r.mustacheVar("displayName"))})),r.div(".sticker-list.u-clearfix.js-sticker-list.u-relative")}},"./app/scripts/views/templates/sticker_select.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("sticker_select");e.exports=r.renderable((function(e){var t=e.additionalStickersEnabled,n=e.upsellEnabled,i=e.useAnimatedStickers;return r.div(".search-stickers",(function(){return r.input(".js-search-stickers",{type:"text",placeholder:r.l("search-giphy")}),r.span(".icon-sm.icon-search")})),r.div(".spinner.loading.js-search-spinner.hide"),r.div(".giphy-stickers.js-giphy-stickers.hide",(function(){return r.div(".stickers-footer",(function(){return r.div(".check-div.mod-animated-check-div",(function(){return r.input(".animated-checkbox.js-use-animated-stickers",{type:"checkbox",checked:i,id:"usedAnimated"}),r.label({for:"usedAnimated"},(function(){return r.format("use-animated-stickers")}))})),r.span(".giphy-attribution")})),r.div(".js-giphy-stickers-no-results",(function(){return r.span(".no-results",(function(){return r.format("no-results")}))})),r.div(".sticker-list.u-clearfix.js-search-sticker-list")})),r.div(".js-static-stickers",(function(){if(r.div(".sticker-list.u-clearfix.js-standard-sticker-list"),t||n)return r.div(".js-premium-stickers"),r.h2((function(){return r.format("custom-stickers")})),r.div(".sticker-list.u-clearfix.js-custom-sticker-list")}))}))},"./app/scripts/views/templates/sticker_select_item.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("sticker_select_item");e.exports=function(){return r.mustacheBlock("pending",(function(){return r.img(".sticker-select-image.sticker-select-pending",{src:r.mustacheVar("url")})})),r.mustacheBlockInverted("pending",(function(){return r.img(".sticker-select-image.sticker-select-shadow",{src:r.mustacheVar("url")}),r.img(".sticker-select-image.sticker-select-fixed",{src:r.mustacheVar("url")}),r.img(".sticker-select-image.sticker-select-peel",{src:r.mustacheVar("url")})})),r.mustacheBlock("id",(function(){return r.span(".sticker-select-option.sticker-select-option-delete-button.js-delete-sticker",(function(){return r.icon("close",{class:"sticker-select-option-icon"}),r.span(".sticker-select-option-text.u-text-underline",(function(){return r.format("delete")}))}))})),r.mustacheBlock("error",(function(){return r.span(".sticker-select-option",(function(){return r.span(".sticker-select-option-text",(function(){return r.text(r.mustacheVar("error"))}))}))})),r.mustacheBlock("pending",(function(){return r.span(".sticker-select-option",(function(){return r.span(".spinner.small.u-float-left",{style:"margin-right: 4px;"}),r.span(".sticker-select-option-text",(function(){return r.format("uploading-ellipsis")}))}))}))}},"./app/scripts/views/templates/sticker_select_item_upload.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.coffee")("sticker_select_item_upload");e.exports=function(){return r.form({action:"/1/member/".concat(r.mustacheVar("id"),"/customStickers"),method:"post",enctype:"multipart/form-data"},(function(){return r.input({type:"hidden",name:"token",value:""}),r.input({type:"hidden",name:"format",value:"http"}),r.div(".sticker-select.sticker-select-upload",(function(){return r.span(".sticker-select-upload-icon.icon-lg.icon-add"),r.input({type:"file",name:"file",class:"sticker-select-upload-input js-upload-image ".concat(r.mustacheBlockInverted("enabled_customStickers",(function(){return" disabled"}))),multiple:"multiple",accept:"image/*"})}))}))}},"./app/src/components/BoardMenuViewsAndCopies/BoardMenuViewsAndCopies.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardMenuViewsAndCopies/BoardMenuViewsAndCopies.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./app/src/components/BoardMenuViewsAndCopies/BoardMenuViewsAndCopies.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"ViewsAndCopies",(function(){return m})),n.d(t,"BoardMenuViewsAndCopies",(function(){return h}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/icons/copy.tsx"),s=n("./packages/nachos/icons/subscribe.tsx"),a=n("./app/common/lib/util/i18n/index.ts"),c=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardStats"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"stats"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"copyCount"},arguments:[],directives:[]}]}}]}}]}}]};var u=n("./app/common/lib/util/i18n/formatters.ts"),d=n("./app/src/components/BoardMenuViewsAndCopies/BoardMenuViewsAndCopies.less"),p=n.n(d),f=Object(a.forTemplate)("board_menu_about_this_board"),m=function(e){var t=e.isTemplate,n=e.showLabels,r=e.useSmallTextStyle,a=e.copyCount,c=e.viewCount,l=t&&a>=0&&c>0,d=f(1===a?"copy":"copies"),m=f(1===c?"view":"views"),h=r?p.a.viewCopyTextSmall:p.a.viewCopyText;return i.a.createElement("div",null,l&&i.a.createElement("div",null,i.a.createElement("span",{className:h,title:"".concat(Object(u.asNumber)(a)," ").concat(d)},i.a.createElement(o.a,{size:"small",color:"quiet",dangerous_className:p.a.iconViewCopy}),a&&Object(u.asCompactNumber)(a)," ",n&&d)," ",i.a.createElement("span",{className:h,title:"".concat(Object(u.asNumber)(c)," ").concat(m)},i.a.createElement(s.a,{size:"small",color:"quiet",dangerous_className:p.a.iconViewCopy}),c&&Object(u.asCompactNumber)(c)," ",n&&m)))},h=function(e){var t,n,r,o,s,a,u,d=e.idBoard,f=e.isTemplate,h=e.showLabels,g=(u={variables:{boardId:d}},c.c(l,u)),v=g.data,b=g.error,y=g.loading,w=null!==(t=null==v||null===(n=v.board)||void 0===n||null===(r=n.stats)||void 0===r?void 0:r.copyCount)&&void 0!==t?t:0,k=null!==(o=null==v||null===(s=v.board)||void 0===s||null===(a=s.stats)||void 0===a?void 0:a.viewCount)&&void 0!==o?o:0,j=f&&w>=0&&k>0;return b||y?null:i.a.createElement("div",null,j&&i.a.createElement("div",{className:p.a.viewCopyComponent},i.a.createElement("hr",null),i.a.createElement(m,{isTemplate:f,showLabels:h,useSmallTextStyle:!1,copyCount:w,viewCount:k}),i.a.createElement("hr",null)))}},"./app/src/components/TemplateTips/LazyTemplateTipsPopover.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"LazyTemplateTipsPopover",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/use-lazy-component/index.ts"),s=function(e){var t=e.boardId,s=e.isInGallery,a=e.name,c=e.username,l=e.toggleAboutThisTemplate,u=e.toggleBackgroundSelector,d=Object(o.useLazyComponent)((function(){return n.e(126).then(n.bind(null,"./app/src/components/TemplateTips/TemplateTipsPopover.tsx"))}));return i.a.createElement(r.Suspense,{fallback:null},i.a.createElement(d,{boardId:t,isInGallery:s,name:a,username:c,toggleAboutThisTemplate:l,toggleBackgroundSelector:u}))}},"./app/src/components/UpgradePrompts/renderUpgradePrompt.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"renderUpgradePrompt",(function(){return c}));var r=n("./app/scripts/db/auth.coffee"),i=n.n(r),o=n("./app/src/components/ComponentWrapper/index.ts"),s=n("./packages/react-dom-wrapper/index.ts"),a=n("./packages/config/index.ts"),c=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3?arguments[3]:void 0,c=n.boardModel,l=n.extraCondition,u=void 0===l?function(){return!0}:l,d=n.orgModel,p=n.promptID,f=n.allowUpsell,m=i.a.me(),h=!!p&&m.isDismissed(p),g=d||c&&c.getOrganization(),v=!!g&&(!g.isPremium()&&!g.isEnterprise()),b=m.hasBCPowerUps(),y=(!a.dontUpsell||f)&&!h&&v&&!b&&u(),w=function(){return!!t&&s.default.unmountComponentAtNode(t)},k=function(){p&&m.dismiss(p),w()},j="function"==typeof e?e({dismiss:k}):e;return t&&(y||r)?Object(o.renderComponent)(j,t):w(),w}},"./node_modules/@atlaskit/textfield/dist/esm/version.json":function(e,t){e.exports={name:"@atlaskit/textfield",version:"4.0.0",sideEffects:!1}},"./node_modules/@giphy/js-fetch-api/dist/api.js":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GiphyFetch=void 0;var o=i(n("./node_modules/qs/lib/index.js")),s=i(n("./node_modules/cookie/index.js")),a=n("./node_modules/@giphy/js-fetch-api/dist/normalize/gif.js"),c=i(n("./node_modules/@giphy/js-fetch-api/dist/request.js")),l=function(e){return e&&e.type?e.type:"gifs"},u=function(){function e(e){var t=this;this.getQS=function(e){void 0===e&&(e={});var n=("undefined"!=typeof document?s.default.parse(document.cookie):{}).giphy_pbid;return o.default.stringify(r(r({},e),{api_key:t.apiKey,pingback_id:n}))},this.apiKey=e}return e.prototype.categories=function(e){return c.default("gifs/categories?"+this.getQS(e))},e.prototype.gif=function(e){return c.default("gifs/"+e+"?"+this.getQS(),a.normalizeGif)},e.prototype.gifs=function(e,t){return Array.isArray(e)?c.default("gifs?"+this.getQS({ids:e.join(",")}),a.normalizeGifs):c.default("gifs/categories/"+e+"/"+t+"?"+this.getQS(),a.normalizeGifs)},e.prototype.emoji=function(e){return c.default("emoji?"+this.getQS(e),a.normalizeGifs,"EMOJI")},e.prototype.search=function(e,t){void 0===t&&(t={});var n=t.channel?"@"+t.channel+" "+e:e,i=this.getQS(r(r({},t),{q:n})),o="text"===t.type?"TEXT_SEARCH":t.explore?"GIF_EXPLORE":"GIF_SEARCH";return c.default(l(t)+"/search?"+i,a.normalizeGifs,o)},e.prototype.subcategories=function(e,t){return c.default("gifs/categories/"+e+"?"+this.getQS(t))},e.prototype.trending=function(e){void 0===e&&(e={});var t="text"===e.type?"TEXT_TRENDING":"GIF_TRENDING";return c.default(l(e)+"/trending?"+this.getQS(e),a.normalizeGifs,t)},e.prototype.random=function(e){return c.default(l(e)+"/random?"+this.getQS(e),a.normalizeGif)},e.prototype.related=function(e,t){return c.default("gifs/related?"+this.getQS(r({gif_id:e},t)),a.normalizeGifs,"GIF_RELATED")},e}();t.GiphyFetch=u,t.default=u},"./node_modules/@giphy/js-fetch-api/dist/fetch-error.js":function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=function(e){function t(t,n,r){void 0===n&&(n=0),void 0===r&&(r="");var i=e.call(this,t)||this;return i.status=n,i.statusText=r,i}return i(t,e),t}(Error);t.default=o},"./node_modules/@giphy/js-fetch-api/dist/index.js":function(e,t,n){"use strict";var r,i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||i(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0});var s=n("./node_modules/@giphy/js-util/dist/index.js"),a=n("./node_modules/@giphy/js-fetch-api/dist/api.js");Object.defineProperty(t,"GiphyFetch",{enumerable:!0,get:function(){return a.default}}),o(n("./node_modules/@giphy/js-fetch-api/dist/option-types.js"),t),o(n("./node_modules/@giphy/js-fetch-api/dist/result-types.js"),t);var c=n("./node_modules/@giphy/js-fetch-api/dist/paginator.js");Object.defineProperty(t,"gifPaginator",{enumerable:!0,get:function(){return c.gifPaginator}});var l=n("./node_modules/@giphy/js-fetch-api/package.json").version;(null===(r=s.getGiphySDKRequestHeaders())||void 0===r?void 0:r.get("X-GIPHY-SDK-NAME"))||(s.appendGiphySDKRequestHeader("X-GIPHY-SDK-NAME","FetchAPI"),s.appendGiphySDKRequestHeader("X-GIPHY-SDK-VERSION",l))},"./node_modules/@giphy/js-fetch-api/dist/normalize/gif.js":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.normalizeGifs=t.normalizeGif=t.USER_BOOL_PROPS=t.BOOL_PROPS=void 0,t.BOOL_PROPS=["is_anonymous","is_community","is_featured","is_hidden","is_indexable","is_preserve_size","is_realtime","is_removed","is_sticker"],t.USER_BOOL_PROPS=["suppress_chrome","is_public","is_verified"];var i=function(e){return function(t){return e[t]=!!e[t]}},o=function(e){return"string"==typeof e?e:e.text},s=function(e,n,s){void 0===n&&(n=""),void 0===s&&(s="");var a=r({},e);a.id=String(a.id),a.tags=(a.tags||[]).map(o),a.bottle_data||(a.bottle_data={}),a.response_id=n,a.pingback_event_type=s,t.BOOL_PROPS.forEach(i(a));var c=a.user;if(c){var l=r({},c);t.USER_BOOL_PROPS.forEach(i(l)),a.user=l}return a};t.normalizeGif=function(e,t){var n=e.meta.response_id;return e.data=s(e.data,n,t),e},t.normalizeGifs=function(e,t){var n=e.meta.response_id;return e.data=e.data.map((function(e){return s(e,n,t)})),e}},"./node_modules/@giphy/js-fetch-api/dist/option-types.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/@giphy/js-fetch-api/dist/paginator.js":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(t,"__esModule",{value:!0}),t.gifPaginator=void 0,t.gifPaginator=function(e,t){void 0===t&&(t=[]);var n=o(t),s=t.map((function(e){return e.id})),a=t.length,c=!1;return function(){return r(void 0,void 0,void 0,(function(){var t,r,l;return i(this,(function(i){switch(i.label){case 0:return c?[2,n]:[4,e(a)];case 1:return t=i.sent(),r=t.pagination,l=t.data,a=r.count+r.offset,c=a===r.total_count,l.forEach((function(e){var t=e.id;s.includes(t)||(n.push(e),s.push(t))})),[2,o(n)]}}))}))}}},"./node_modules/@giphy/js-fetch-api/dist/request.js":function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function s(e){try{c(r.next(e))}catch(e){o(e)}}function a(e){try{c(r.throw(e))}catch(e){o(e)}}function c(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},i=this&&this.__generator||function(e,t){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_ERROR=t.ERROR_PREFIX=void 0;var s=o(n("./node_modules/@giphy/js-fetch-api/dist/fetch-error.js"));t.ERROR_PREFIX="@giphy/js-fetch-api: ",t.DEFAULT_ERROR="Error fetching";var a=function(e){return e},c={};t.default=function(e,n,o){var l=this;if(void 0===n&&(n=a),!c[e]){c[e]=r(l,void 0,void 0,(function(){var r,a,l,u,d;return i(this,(function(i){switch(i.label){case 0:return i.trys.push([0,9,,10]),[4,fetch("https://api.giphy.com/v1/"+e,{method:"get"})];case 1:return(a=i.sent()).ok?[4,a.json()]:[3,3];case 2:return u=i.sent(),[2,n(u,o)];case 3:l=t.DEFAULT_ERROR,i.label=4;case 4:return i.trys.push([4,6,,7]),[4,a.json()];case 5:return(u=i.sent()).message&&(l=u.message),[3,7];case 6:return i.sent(),[3,7];case 7:r=new s.default(""+t.ERROR_PREFIX+l,a.status,a.statusText),i.label=8;case 8:return[3,10];case 9:return d=i.sent(),r=new s.default(d.message),delete c[e],[3,10];case 10:throw r}}))}))}return c[e]}},"./node_modules/@giphy/js-fetch-api/dist/result-types.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},"./node_modules/@giphy/js-fetch-api/package.json":function(e,t){e.exports={scripts:{clean:"rm -rf ./dist",dev:"parcel public/test.html",docs:"typedoc",prepublish:"npm run clean && tsc",build:"tsc",test:"jest --config ./jestconfig.js","test:watch":"jest --config ./jestconfig.js --watchAll"},name:"@giphy/js-fetch-api",version:"1.6.0",main:"dist/index.js",description:"Javascript API to fetch gifs and stickers from the GIPHY API.",types:"dist/index.d.ts",files:["dist/**/*","src/**/*"],license:"MIT",publishConfig:{access:"public"},dependencies:{"@giphy/js-types":"^2.0.2","@giphy/js-util":"^1.9.1",cookie:"0.4.0",qs:"^6.7.0"},devDependencies:{"@types/cookie":"^0.3.3","@types/qs":"^6.5.3","jest-fetch-mock":"^2.1.2","parcel-bundler":"^1.12.3",typedoc:"^0.14.2","typedoc-thunder-theme":"^0.0.2",typescript:"^3.8.2"},gitHead:"8d57ae7cdd775900da581fb511b92f23cd0d8dd8"}},"./node_modules/@giphy/js-util/dist/bestfit.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/@giphy/js-util/dist/log.js"),i=50;t.setRenditionScaleUpMaxPixels=function(e){r.Logger.debug("@giphy/js-util set rendition selection scale up max pixels to "+e),i=e},t.default=function(e,t,n,r){void 0===r&&(r=i);var o=e[0],s=e.filter((function(e){return e.width*e.height>o.width*o.height&&(o=e),t-e.width<=r&&n-e.height<=r}));return 0===s.length?o:function(e,t,n){var r,i=1/0;return n.forEach((function(n){var o=n.width/e*(n.height/t),s=Math.abs(1-o);s<i&&(i=s,r=n)})),r}(t,n,s)}},"./node_modules/@giphy/js-util/dist/collections.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mapValues=function(e,t){if(Array.isArray(e))throw"This map is just for objects, just use array.map for arrays";return Object.keys(e).reduce((function(n,r){return n[r]=t(e[r],r),n}),{})},t.forEach=function(e,t){if(Array.isArray(e))throw"This map is just for objects, just use array.forEach for arrays";return Object.keys(e).forEach((function(n){t(e[n],n)}))},t.take=function(e,t){return void 0===t&&(t=0),e.slice(0,t)},t.without=function(e,t){return e.filter((function(e){return-1===t.indexOf(e)}))},t.pick=function(e,t){var n={};return t.forEach((function(t){void 0!==e[t]&&(n[t]=e[t])})),n}},"./node_modules/@giphy/js-util/dist/construct-moat-data.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.constructMoatData=function(e){var t,n=e.tdata,r=((null===(t=null==n?void 0:n.web)||void 0===t?void 0:t.filter((function(e){return"Moat"===e.vendor})))||[])[0];if(null==r?void 0:r.verificationParameters){var i=r.verificationParameters,o=i.moatClientLevel1,s=void 0===o?"_ADVERTISER_":o,a=i.moatClientLevel2,c=void 0===a?"_CAMPAIGN_":a,l=i.moatClientLevel3,u=void 0===l?"_LINE_ITEM_":l,d=i.moatClientLevel4,p=void 0===d?"_CREATIVE_":d,f=i.moatClientSlicer1,m=void 0===f?"_SITE_":f,h=i.moatClientSlicer2,g=void 0===h?"_PLACEMENT_":h,v=i.zMoatPosition;return{moatClientLevel1:s,moatClientLevel2:c,moatClientLevel3:u,moatClientLevel4:p,moatClientSlicer1:m,moatClientSlicer2:g,zMoatPosition:void 0===v?"_POSITION_":v}}}},"./node_modules/@giphy/js-util/dist/get-client-rect-from-el.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e){var t=0,n=0,r=e.offsetWidth,i=e.offsetHeight;do{t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent}while(e);return{left:t,top:n,width:r,height:i,right:t+r,bottom:n+i}}},"./node_modules/@giphy/js-util/dist/gif-utils.js":function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=n("./node_modules/@giphy/js-util/dist/collections.js"),s=i(n("./node_modules/@giphy/js-util/dist/bestfit.js")),a=n("./node_modules/@giphy/js-util/dist/webp-check.js");t.getSpecificRendition=function(e,t,n,r){var i=e.images,o=e.is_sticker;if(void 0===n&&(n=!1),void 0===r&&(r=!1),!i||!t)return"";var s=i[t+((n=n&&!r)?"_still":"")];if(s){if(o||n)return s.url;var c=a.SUPPORTS_WEBP&&s.webp;return r?s.mp4:c||s.url}return""};t.getBestRendition=function(e,t,n,i){var a=o.pick(e,["original","fixed_width","fixed_height","fixed_width_small","fixed_height_small"]),c=Object.entries(a).map((function(e){var t=e[0],n=e[1];return r({renditionName:t},n)}));return s.default(c,t,n,i)},t.getBestRenditionUrl=function(e,n,r,i){var o=e.images,s=e.video,c=e.type;if(void 0===i&&(i={isStill:!1,useVideo:!1}),!n||!r||!o)return"";var l=i.useVideo,u=i.isStill,d=i.scaleUpMaxPixels,p=function(e,t,n){return"video"===e&&n&&n.previews&&!Object.keys(t).length?n.previews:t}(c,o,s),f=p[t.getBestRendition(p,n,r,d).renditionName+(u&&!l?"_still":"")];return(l?f.mp4:a.SUPPORTS_WEBP&&f.webp?f.webp:f.url)||""},t.getGifHeight=function(e,t){var n=e.images.fixed_width;if(n){var r=n.width/n.height;return Math.round(t/r)}return 0},t.getGifWidth=function(e,t){var n=e.images.fixed_width;if(n){var r=n.width/n.height;return Math.round(t*r)}return 0},t.getAltText=function(e){var t=e.user,n=e.tags,r=void 0===n?[]:n,i=e.is_sticker,s=void 0!==i&&i,a=e.title,c=void 0===a?"":a;if(c)return c;var l=t&&t.username||"";return(l?l+" ":"")+o.take(o.without(r,["transparent"]),l?4:5).join(" ")+" "+(s?"Sticker":"GIF")}},"./node_modules/@giphy/js-util/dist/index.js":function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0});var i=n("./node_modules/@giphy/js-util/dist/bestfit.js");t.bestfit=i.default,t.setRenditionScaleUpMaxPixels=i.setRenditionScaleUpMaxPixels,r(n("./node_modules/@giphy/js-util/dist/collections.js")),r(n("./node_modules/@giphy/js-util/dist/construct-moat-data.js"));var o=n("./node_modules/@giphy/js-util/dist/get-client-rect-from-el.js");t.getClientRect=o.default;var s=n("./node_modules/@giphy/js-util/dist/gif-utils.js");t.getAltText=s.getAltText,t.getBestRendition=s.getBestRendition,t.getBestRenditionUrl=s.getBestRenditionUrl,t.getGifHeight=s.getGifHeight,t.getGifWidth=s.getGifWidth,t.getSpecificRendition=s.getSpecificRendition,r(n("./node_modules/@giphy/js-util/dist/log.js")),r(n("./node_modules/@giphy/js-util/dist/sdk-headers.js"));var a=n("./node_modules/@giphy/js-util/dist/tracking-pixel.js");t.injectTrackingPixel=a.default;var c=n("./node_modules/@giphy/js-util/dist/webp-check.js");t.checkIfWebP=c.checkIfWebP},"./node_modules/@giphy/js-util/dist/log.js":function(e,t,n){"use strict";var r,i=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.DEBUG=0]="DEBUG",e[e.INFO=1]="INFO",e[e.WARN=2]="WARN",e[e.ERROR=3]="ERROR"}(r=t.LogLevel||(t.LogLevel={})),t.Logger={ENABLED:"undefined"!=typeof window&&location&&-1!==location.search.indexOf("giphy-debug"),LEVEL:0,PREFIX:"GiphyJS",debug:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.Logger.ENABLED&&t.Logger.LEVEL<=r.DEBUG&&console.debug.apply(console,i([t.Logger.PREFIX],e))},info:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.Logger.ENABLED&&t.Logger.LEVEL<=r.INFO&&console.info.apply(console,i([t.Logger.PREFIX],e))},warn:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.Logger.ENABLED&&t.Logger.LEVEL<=r.WARN&&console.warn.apply(console,i([t.Logger.PREFIX],e))},error:function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.Logger.ENABLED&&t.Logger.LEVEL<=r.ERROR&&console.error.apply(console,i([t.Logger.PREFIX],e))}}},"./node_modules/@giphy/js-util/dist/sdk-headers.js":function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var n=("undefined"!=typeof window?window:e)||{};n._GIPHY_SDK_HEADERS_=n._GIPHY_SDK_HEADERS_||(n.Headers?new n.Headers({"X-GIPHY-SDK-PLATFORM":"web"}):void 0),t.getGiphySDKRequestHeaders=function(){return n._GIPHY_SDK_HEADERS_},t.appendGiphySDKRequestHeader=function(e,n){var r;return null===(r=t.getGiphySDKRequestHeaders())||void 0===r?void 0:r.set(e,n)},t.appendGiphySDKRequestParam=function(e,n){var r;return null===(r=t.getGiphySDKRequestHeaders())||void 0===r?void 0:r.set(e,n)}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/@giphy/js-util/dist/tracking-pixel.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/dompurify/dist/purify.js");t.default=function(e){void 0===e&&(e=[]),e.forEach((function(e){var t,n=document.createElement("html");e=e.replace("%%CACHEBUSTER%%",Date.now().toString()),n.innerHTML=r.sanitize(e);var i=n.querySelector("img");i&&(null===(t=null===document||void 0===document?void 0:document.querySelector("head"))||void 0===t||t.appendChild(i))}))}},"./node_modules/@giphy/js-util/dist/webp-check.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SUPPORTS_WEBP=null,t.checkIfWebP=new Promise((function(e){"undefined"==typeof Image&&e(!1);var n=new Image;n.onload=function(){t.SUPPORTS_WEBP=!0,e(t.SUPPORTS_WEBP)},n.onerror=function(){t.SUPPORTS_WEBP=!1,e(t.SUPPORTS_WEBP)},n.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}))},"./node_modules/cookie/index.js":function(e,t,n){"use strict";
/*!
 * cookie
 * Copyright(c) 2012-2014 Roman Shtylman
 * Copyright(c) 2015 Douglas Christopher Wilson
 * MIT Licensed
 */t.parse=function(e,t){if("string"!=typeof e)throw new TypeError("argument str must be a string");for(var n={},i=t||{},s=e.split(o),c=i.decode||r,l=0;l<s.length;l++){var u=s[l],d=u.indexOf("=");if(!(d<0)){var p=u.substr(0,d).trim(),f=u.substr(++d,u.length).trim();'"'==f[0]&&(f=f.slice(1,-1)),null==n[p]&&(n[p]=a(f,c))}}return n},t.serialize=function(e,t,n){var r=n||{},o=r.encode||i;if("function"!=typeof o)throw new TypeError("option encode is invalid");if(!s.test(e))throw new TypeError("argument name is invalid");var a=o(t);if(a&&!s.test(a))throw new TypeError("argument val is invalid");var c=e+"="+a;if(null!=r.maxAge){var l=r.maxAge-0;if(isNaN(l))throw new Error("maxAge should be a Number");c+="; Max-Age="+Math.floor(l)}if(r.domain){if(!s.test(r.domain))throw new TypeError("option domain is invalid");c+="; Domain="+r.domain}if(r.path){if(!s.test(r.path))throw new TypeError("option path is invalid");c+="; Path="+r.path}if(r.expires){if("function"!=typeof r.expires.toUTCString)throw new TypeError("option expires is invalid");c+="; Expires="+r.expires.toUTCString()}r.httpOnly&&(c+="; HttpOnly");r.secure&&(c+="; Secure");if(r.sameSite){switch("string"==typeof r.sameSite?r.sameSite.toLowerCase():r.sameSite){case!0:c+="; SameSite=Strict";break;case"lax":c+="; SameSite=Lax";break;case"strict":c+="; SameSite=Strict";break;case"none":c+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return c};var r=decodeURIComponent,i=encodeURIComponent,o=/; */,s=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/;function a(e,t){try{return t(e)}catch(t){return e}}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/common/components/ExportPopoverContent/ExportPopoverContent.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2QhXDzQc92AAJ8{color:#8993a4;padding:0 4px}._2QhXDzQc92AAJ8:hover{color:#091e42}._2_JqGosBLzpgCG{margin:0}._2nlsR5BDZms-lO{display:flex;justify-content:space-between;align-items:center;margin-top:12px}.QUcutfN8RVSQzJ{display:block}",""]),t.locals={downloadLink:"_2QhXDzQc92AAJ8",exportButton:"_2_JqGosBLzpgCG",buttons:"_2nlsR5BDZms-lO",exportHistoryText:"QUcutfN8RVSQzJ"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardMenuViewsAndCopies/BoardMenuViewsAndCopies.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._27Uw8fo9rGrvnr{margin-left:8px}.vE8uKcBl9PMnJD{font-weight:600}.ABJoLPE63QtUOR,.vE8uKcBl9PMnJD{display:inline-flex;color:#5e6c84}.ABJoLPE63QtUOR{font-size:12px}.M7H7bE4oMCKmIy{display:inline-flex;height:20px;width:20px;justify-content:center;align-items:center}",""]),t.locals={viewCopyComponent:"_27Uw8fo9rGrvnr",viewCopyText:"vE8uKcBl9PMnJD",viewCopyTextSmall:"ABJoLPE63QtUOR",iconViewCopy:"M7H7bE4oMCKmIy"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/Textfield/Textfield.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1AFcUxaSWSFBOY{color:#172b4d;outline:none;border:none}._1AFcUxaSWSFBOY,.G4mdwv6cKv8_kH{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400}.G4mdwv6cKv8_kH{color:#172b4d;color:#5e6c84;font-size:12px;line-height:16px;font-weight:700;margin-bottom:2px;display:block}._3fDBpZMtl1RlpT{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400;outline:none;border:none;border-radius:3px;box-shadow:inset 0 0 0 2px #dfe1e6;padding:8px 12px;transition:background-color .2s ease-in-out,box-shadow .2s ease-in-out}._3fDBpZMtl1RlpT:hover{background-color:#ebecf0;box-shadow:inset 0 0 0 2px #dfe1e6}._3fDBpZMtl1RlpT:focus{background-color:#fff;box-shadow:inset 0 0 0 2px #0079bf}",""]),t.locals={"nch-textfield":"_1AFcUxaSWSFBOY","nch-textfield__label":"G4mdwv6cKv8_kH","nch-textfield--static":"_3fDBpZMtl1RlpT"}},"./node_modules/dompurify/dist/purify.js":function(e,t,n){
/*! @license DOMPurify | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/2.0.8/LICENSE */
e.exports=function(){"use strict";var e=Object.hasOwnProperty,t=Object.setPrototypeOf,n=Object.isFrozen,r=Object.keys,i=Object.freeze,o=Object.seal,s="undefined"!=typeof Reflect&&Reflect,a=s.apply,c=s.construct;a||(a=function(e,t,n){return e.apply(t,n)}),i||(i=function(e){return e}),o||(o=function(e){return e}),c||(c=function(e,t){return new(Function.prototype.bind.apply(e,[null].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t))))});var l=x(Array.prototype.forEach),u=x(Array.prototype.indexOf),d=x(Array.prototype.join),p=x(Array.prototype.pop),f=x(Array.prototype.push),m=x(Array.prototype.slice),h=x(String.prototype.toLowerCase),g=x(String.prototype.match),v=x(String.prototype.replace),b=x(String.prototype.indexOf),y=x(String.prototype.trim),w=x(RegExp.prototype.test),k=_(RegExp),j=_(TypeError);function x(e){return function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return a(e,t,r)}}function _(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return c(e,n)}}function O(e,r){t&&t(e,null);for(var i=r.length;i--;){var o=r[i];if("string"==typeof o){var s=h(o);s!==o&&(n(r)||(r[i]=s),o=s)}e[o]=!0}return e}function C(t){var n={},r=void 0;for(r in t)a(e,t,[r])&&(n[r]=t[r]);return n}var S=i(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),E=i(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","audio","canvas","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","video","view","vkern"]),P=i(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),T=i(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),D=i(["#text"]),A=i(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns"]),B=i(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","tabindex","targetx","targety","transform","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),R=i(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),L=i(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),M=o(/\{\{[\s\S]*|[\s\S]*\}\}/gm),N=o(/<%[\s\S]*|[\s\S]*%>/gm),I=o(/^data-[\-\w.\u00B7-\uFFFF]/),U=o(/^aria-[\-\w]+$/),F=o(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),V=o(/^(?:\w+script|data):/i),z=o(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g),$="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function H(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var G=function(){return"undefined"==typeof window?null:window},q=function(e,t){if("object"!==(void 0===e?"undefined":$(e))||"function"!=typeof e.createPolicy)return null;var n=null;t.currentScript&&t.currentScript.hasAttribute("data-tt-policy-suffix")&&(n=t.currentScript.getAttribute("data-tt-policy-suffix"));var r="dompurify"+(n?"#"+n:"");try{return e.createPolicy(r,{createHTML:function(e){return e}})}catch(e){return console.warn("TrustedTypes policy "+r+" could not be created."),null}};return function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G(),n=function(t){return e(t)};if(n.version="2.0.12",n.removed=[],!t||!t.document||9!==t.document.nodeType)return n.isSupported=!1,n;var o=t.document,s=!1,a=t.document,c=t.DocumentFragment,x=t.HTMLTemplateElement,_=t.Node,K=t.NodeFilter,W=t.NamedNodeMap,J=void 0===W?t.NamedNodeMap||t.MozNamedAttrMap:W,Q=t.Text,X=t.Comment,Y=t.DOMParser,Z=t.trustedTypes;if("function"==typeof x){var ee=a.createElement("template");ee.content&&ee.content.ownerDocument&&(a=ee.content.ownerDocument)}var te=q(Z,o),ne=te&&Re?te.createHTML(""):"",re=a,ie=re.implementation,oe=re.createNodeIterator,se=re.getElementsByTagName,ae=re.createDocumentFragment,ce=o.importNode,le={};n.isSupported=ie&&void 0!==ie.createHTMLDocument&&9!==a.documentMode;var ue=M,de=N,pe=I,fe=U,me=V,he=z,ge=F,ve=null,be=O({},[].concat(H(S),H(E),H(P),H(T),H(D))),ye=null,we=O({},[].concat(H(A),H(B),H(R),H(L))),ke=null,je=null,xe=!0,_e=!0,Oe=!1,Ce=!1,Se=!1,Ee=!1,Pe=!1,Te=!1,De=!1,Ae=!1,Be=!1,Re=!1,Le=!0,Me=!0,Ne=!1,Ie={},Ue=O({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","plaintext","script","style","svg","template","thead","title","video","xmp"]),Fe=null,Ve=O({},["audio","video","img","source","image","track"]),ze=null,$e=O({},["alt","class","for","id","label","name","pattern","placeholder","summary","title","value","style","xmlns"]),He=null,Ge=a.createElement("form"),qe=function(e){He&&He===e||(e&&"object"===(void 0===e?"undefined":$(e))||(e={}),ve="ALLOWED_TAGS"in e?O({},e.ALLOWED_TAGS):be,ye="ALLOWED_ATTR"in e?O({},e.ALLOWED_ATTR):we,ze="ADD_URI_SAFE_ATTR"in e?O(C($e),e.ADD_URI_SAFE_ATTR):$e,Fe="ADD_DATA_URI_TAGS"in e?O(C(Ve),e.ADD_DATA_URI_TAGS):Ve,ke="FORBID_TAGS"in e?O({},e.FORBID_TAGS):{},je="FORBID_ATTR"in e?O({},e.FORBID_ATTR):{},Ie="USE_PROFILES"in e&&e.USE_PROFILES,xe=!1!==e.ALLOW_ARIA_ATTR,_e=!1!==e.ALLOW_DATA_ATTR,Oe=e.ALLOW_UNKNOWN_PROTOCOLS||!1,Ce=e.SAFE_FOR_JQUERY||!1,Se=e.SAFE_FOR_TEMPLATES||!1,Ee=e.WHOLE_DOCUMENT||!1,De=e.RETURN_DOM||!1,Ae=e.RETURN_DOM_FRAGMENT||!1,Be=e.RETURN_DOM_IMPORT||!1,Re=e.RETURN_TRUSTED_TYPE||!1,Te=e.FORCE_BODY||!1,Le=!1!==e.SANITIZE_DOM,Me=!1!==e.KEEP_CONTENT,Ne=e.IN_PLACE||!1,ge=e.ALLOWED_URI_REGEXP||ge,Se&&(_e=!1),Ae&&(De=!0),Ie&&(ve=O({},[].concat(H(D))),ye=[],!0===Ie.html&&(O(ve,S),O(ye,A)),!0===Ie.svg&&(O(ve,E),O(ye,B),O(ye,L)),!0===Ie.svgFilters&&(O(ve,P),O(ye,B),O(ye,L)),!0===Ie.mathMl&&(O(ve,T),O(ye,R),O(ye,L))),e.ADD_TAGS&&(ve===be&&(ve=C(ve)),O(ve,e.ADD_TAGS)),e.ADD_ATTR&&(ye===we&&(ye=C(ye)),O(ye,e.ADD_ATTR)),e.ADD_URI_SAFE_ATTR&&O(ze,e.ADD_URI_SAFE_ATTR),Me&&(ve["#text"]=!0),Ee&&O(ve,["html","head","body"]),ve.table&&(O(ve,["tbody"]),delete ke.tbody),i&&i(e),He=e)},Ke=function(e){f(n.removed,{element:e});try{e.parentNode.removeChild(e)}catch(t){e.outerHTML=ne}},We=function(e,t){try{f(n.removed,{attribute:t.getAttributeNode(e),from:t})}catch(e){f(n.removed,{attribute:null,from:t})}t.removeAttribute(e)},Je=function(e){var t=void 0,n=void 0;if(Te)e="<remove></remove>"+e;else{var r=g(e,/^[\r\n\t ]+/);n=r&&r[0]}var i=te?te.createHTML(e):e;try{t=(new Y).parseFromString(i,"text/html")}catch(e){}if(s&&O(ke,["title"]),!t||!t.documentElement){var o=(t=ie.createHTMLDocument("")).body;o.parentNode.removeChild(o.parentNode.firstElementChild),o.outerHTML=i}return e&&n&&t.body.insertBefore(a.createTextNode(n),t.body.childNodes[0]||null),se.call(t,Ee?"html":"body")[0]};n.isSupported&&function(){try{var e=Je("<x/><title>&lt;/title&gt;&lt;img&gt;");w(/<\/title/,e.querySelector("title").innerHTML)&&(s=!0)}catch(e){}}();var Qe=function(e){return oe.call(e.ownerDocument||e,e,K.SHOW_ELEMENT|K.SHOW_COMMENT|K.SHOW_TEXT,(function(){return K.FILTER_ACCEPT}),!1)},Xe=function(e){return!(e instanceof Q||e instanceof X||"string"==typeof e.nodeName&&"string"==typeof e.textContent&&"function"==typeof e.removeChild&&e.attributes instanceof J&&"function"==typeof e.removeAttribute&&"function"==typeof e.setAttribute&&"string"==typeof e.namespaceURI)},Ye=function(e){return"object"===(void 0===_?"undefined":$(_))?e instanceof _:e&&"object"===(void 0===e?"undefined":$(e))&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName},Ze=function(e,t,r){le[e]&&l(le[e],(function(e){e.call(n,t,r,He)}))},et=function(e){var t=void 0;if(Ze("beforeSanitizeElements",e,null),Xe(e))return Ke(e),!0;var r=h(e.nodeName);if(Ze("uponSanitizeElement",e,{tagName:r,allowedTags:ve}),("svg"===r||"math"===r)&&0!==e.querySelectorAll("p, br").length)return Ke(e),!0;if(!ve[r]||ke[r]){if(Me&&!Ue[r]&&"function"==typeof e.insertAdjacentHTML)try{var i=e.innerHTML;e.insertAdjacentHTML("AfterEnd",te?te.createHTML(i):i)}catch(e){}return Ke(e),!0}return"noscript"===r&&w(/<\/noscript/i,e.innerHTML)||"noembed"===r&&w(/<\/noembed/i,e.innerHTML)?(Ke(e),!0):(!Ce||e.firstElementChild||e.content&&e.content.firstElementChild||!w(/</g,e.textContent)||(f(n.removed,{element:e.cloneNode()}),e.innerHTML?e.innerHTML=v(e.innerHTML,/</g,"&lt;"):e.innerHTML=v(e.textContent,/</g,"&lt;")),Se&&3===e.nodeType&&(t=e.textContent,t=v(t,ue," "),t=v(t,de," "),e.textContent!==t&&(f(n.removed,{element:e.cloneNode()}),e.textContent=t)),Ze("afterSanitizeElements",e,null),!1)},tt=function(e,t,n){if(Le&&("id"===t||"name"===t)&&(n in a||n in Ge))return!1;if(_e&&w(pe,t));else if(xe&&w(fe,t));else{if(!ye[t]||je[t])return!1;if(ze[t]);else if(w(ge,v(n,he,"")));else if("src"!==t&&"xlink:href"!==t&&"href"!==t||"script"===e||0!==b(n,"data:")||!Fe[e])if(Oe&&!w(me,v(n,he,"")));else if(n)return!1}return!0},nt=function(e){var t=void 0,i=void 0,o=void 0,s=void 0,a=void 0;Ze("beforeSanitizeAttributes",e,null);var c=e.attributes;if(c){var l={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:ye};for(a=c.length;a--;){var f=t=c[a],g=f.name,b=f.namespaceURI;if(i=y(t.value),o=h(g),l.attrName=o,l.attrValue=i,l.keepAttr=!0,l.forceKeepAttr=void 0,Ze("uponSanitizeAttribute",e,l),i=l.attrValue,!l.forceKeepAttr){if("name"===o&&"IMG"===e.nodeName&&c.id)s=c.id,c=m(c,[]),We("id",e),We(g,e),u(c,s)>a&&e.setAttribute("id",s.value);else{if("INPUT"===e.nodeName&&"type"===o&&"file"===i&&l.keepAttr&&(ye[o]||!je[o]))continue;"id"===g&&e.setAttribute(g,""),We(g,e)}if(l.keepAttr)if(Ce&&w(/\/>/i,i))We(g,e);else if(w(/svg|math/i,e.namespaceURI)&&w(k("</("+d(r(Ue),"|")+")","i"),i))We(g,e);else{Se&&(i=v(i,ue," "),i=v(i,de," "));var j=e.nodeName.toLowerCase();if(tt(j,o,i))try{b?e.setAttributeNS(b,g,i):e.setAttribute(g,i),p(n.removed)}catch(e){}}}}Ze("afterSanitizeAttributes",e,null)}},rt=function e(t){var n=void 0,r=Qe(t);for(Ze("beforeSanitizeShadowDOM",t,null);n=r.nextNode();)Ze("uponSanitizeShadowNode",n,null),et(n)||(n.content instanceof c&&e(n.content),nt(n));Ze("afterSanitizeShadowDOM",t,null)};return n.sanitize=function(e,r){var i=void 0,s=void 0,a=void 0,l=void 0,u=void 0;if(e||(e="\x3c!--\x3e"),"string"!=typeof e&&!Ye(e)){if("function"!=typeof e.toString)throw j("toString is not a function");if("string"!=typeof(e=e.toString()))throw j("dirty is not a string, aborting")}if(!n.isSupported){if("object"===$(t.toStaticHTML)||"function"==typeof t.toStaticHTML){if("string"==typeof e)return t.toStaticHTML(e);if(Ye(e))return t.toStaticHTML(e.outerHTML)}return e}if(Pe||qe(r),n.removed=[],"string"==typeof e&&(Ne=!1),Ne);else if(e instanceof _)1===(s=(i=Je("\x3c!--\x3e")).ownerDocument.importNode(e,!0)).nodeType&&"BODY"===s.nodeName||"HTML"===s.nodeName?i=s:i.appendChild(s);else{if(!De&&!Se&&!Ee&&-1===e.indexOf("<"))return te&&Re?te.createHTML(e):e;if(!(i=Je(e)))return De?null:ne}i&&Te&&Ke(i.firstChild);for(var d=Qe(Ne?e:i);a=d.nextNode();)3===a.nodeType&&a===l||et(a)||(a.content instanceof c&&rt(a.content),nt(a),l=a);if(l=null,Ne)return e;if(De){if(Ae)for(u=ae.call(i.ownerDocument);i.firstChild;)u.appendChild(i.firstChild);else u=i;return Be&&(u=ce.call(o,u,!0)),u}var p=Ee?i.outerHTML:i.innerHTML;return Se&&(p=v(p,ue," "),p=v(p,de," ")),te&&Re?te.createHTML(p):p},n.setConfig=function(e){qe(e),Pe=!0},n.clearConfig=function(){He=null,Pe=!1},n.isValidAttribute=function(e,t,n){He||qe({});var r=h(e),i=h(t);return tt(r,i,n)},n.addHook=function(e,t){"function"==typeof t&&(le[e]=le[e]||[],f(le[e],t))},n.removeHook=function(e){le[e]&&p(le[e])},n.removeHooks=function(e){le[e]&&(le[e]=[])},n.removeAllHooks=function(){le={}},n}()}()},"./node_modules/qs/lib/formats.js":function(e,t,n){"use strict";var r=String.prototype.replace,i=/%20/g,o=n("./node_modules/qs/lib/utils.js"),s={RFC1738:"RFC1738",RFC3986:"RFC3986"};e.exports=o.assign({default:s.RFC3986,formatters:{RFC1738:function(e){return r.call(e,i,"+")},RFC3986:function(e){return String(e)}}},s)},"./node_modules/qs/lib/index.js":function(e,t,n){"use strict";var r=n("./node_modules/qs/lib/stringify.js"),i=n("./node_modules/qs/lib/parse.js"),o=n("./node_modules/qs/lib/formats.js");e.exports={formats:o,parse:i,stringify:r}},"./node_modules/qs/lib/parse.js":function(e,t,n){"use strict";var r=n("./node_modules/qs/lib/utils.js"),i=Object.prototype.hasOwnProperty,o={allowDots:!1,allowPrototypes:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:r.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},s=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},a=function(e,t,n){if(e){var r=n.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,o=/(\[[^[\]]*])/g,s=n.depth>0&&/(\[[^[\]]*])/.exec(r),a=s?r.slice(0,s.index):r,c=[];if(a){if(!n.plainObjects&&i.call(Object.prototype,a)&&!n.allowPrototypes)return;c.push(a)}for(var l=0;n.depth>0&&null!==(s=o.exec(r))&&l<n.depth;){if(l+=1,!n.plainObjects&&i.call(Object.prototype,s[1].slice(1,-1))&&!n.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+r.slice(s.index)+"]"),function(e,t,n){for(var r=t,i=e.length-1;i>=0;--i){var o,s=e[i];if("[]"===s&&n.parseArrays)o=[].concat(r);else{o=n.plainObjects?Object.create(null):{};var a="["===s.charAt(0)&&"]"===s.charAt(s.length-1)?s.slice(1,-1):s,c=parseInt(a,10);n.parseArrays||""!==a?!isNaN(c)&&s!==a&&String(c)===a&&c>=0&&n.parseArrays&&c<=n.arrayLimit?(o=[])[c]=r:o[a]=r:o={0:r}}r=o}return r}(c,t,n)}};e.exports=function(e,t){var n=function(e){if(!e)return o;if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new Error("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?o.charset:e.charset;return{allowDots:void 0===e.allowDots?o.allowDots:!!e.allowDots,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:o.allowPrototypes,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:o.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:o.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:o.comma,decoder:"function"==typeof e.decoder?e.decoder:o.decoder,delimiter:"string"==typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:o.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:o.depth,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:o.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:o.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:o.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:o.strictNullHandling}}(t);if(""===e||null==e)return n.plainObjects?Object.create(null):{};for(var c="string"==typeof e?function(e,t){var n,a={},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,l=t.parameterLimit===1/0?void 0:t.parameterLimit,u=c.split(t.delimiter,l),d=-1,p=t.charset;if(t.charsetSentinel)for(n=0;n<u.length;++n)0===u[n].indexOf("utf8=")&&("utf8=%E2%9C%93"===u[n]?p="utf-8":"utf8=%26%2310003%3B"===u[n]&&(p="iso-8859-1"),d=n,n=u.length);for(n=0;n<u.length;++n)if(n!==d){var f,m,h=u[n],g=h.indexOf("]="),v=-1===g?h.indexOf("="):g+1;-1===v?(f=t.decoder(h,o.decoder,p,"key"),m=t.strictNullHandling?null:""):(f=t.decoder(h.slice(0,v),o.decoder,p,"key"),m=t.decoder(h.slice(v+1),o.decoder,p,"value")),m&&t.interpretNumericEntities&&"iso-8859-1"===p&&(m=s(m)),m&&t.comma&&m.indexOf(",")>-1&&(m=m.split(",")),i.call(a,f)?a[f]=r.combine(a[f],m):a[f]=m}return a}(e,n):e,l=n.plainObjects?Object.create(null):{},u=Object.keys(c),d=0;d<u.length;++d){var p=u[d],f=a(p,c[p],n);l=r.merge(l,f,n)}return r.compact(l)}},"./node_modules/qs/lib/stringify.js":function(e,t,n){"use strict";var r=n("./node_modules/qs/lib/utils.js"),i=n("./node_modules/qs/lib/formats.js"),o=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},a=Array.isArray,c=Array.prototype.push,l=function(e,t){c.apply(e,a(t)?t:[t])},u=Date.prototype.toISOString,d=i.default,p={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:r.encode,encodeValuesOnly:!1,format:d,formatter:i.formatters[d],indices:!1,serializeDate:function(e){return u.call(e)},skipNulls:!1,strictNullHandling:!1},f=function e(t,n,i,o,s,c,u,d,f,m,h,g,v){var b,y=t;if("function"==typeof u?y=u(n,y):y instanceof Date?y=m(y):"comma"===i&&a(y)&&(y=y.join(",")),null===y){if(o)return c&&!g?c(n,p.encoder,v,"key"):n;y=""}if("string"==typeof(b=y)||"number"==typeof b||"boolean"==typeof b||"symbol"==typeof b||"bigint"==typeof b||r.isBuffer(y))return c?[h(g?n:c(n,p.encoder,v,"key"))+"="+h(c(y,p.encoder,v,"value"))]:[h(n)+"="+h(String(y))];var w,k=[];if(void 0===y)return k;if(a(u))w=u;else{var j=Object.keys(y);w=d?j.sort(d):j}for(var x=0;x<w.length;++x){var _=w[x];s&&null===y[_]||(a(y)?l(k,e(y[_],"function"==typeof i?i(n,_):n,i,o,s,c,u,d,f,m,h,g,v)):l(k,e(y[_],n+(f?"."+_:"["+_+"]"),i,o,s,c,u,d,f,m,h,g,v)))}return k};e.exports=function(e,t){var n,r=e,c=function(e){if(!e)return p;if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=i.default;if(void 0!==e.format){if(!o.call(i.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r=i.formatters[n],s=p.filter;return("function"==typeof e.filter||a(e.filter))&&(s=e.filter),{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:void 0===e.allowDots?p.allowDots:!!e.allowDots,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,delimiter:void 0===e.delimiter?p.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:p.encode,encoder:"function"==typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:s,formatter:r,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"==typeof c.filter?r=(0,c.filter)("",r):a(c.filter)&&(n=c.filter);var u,d=[];if("object"!=typeof r||null===r)return"";u=t&&t.arrayFormat in s?t.arrayFormat:t&&"indices"in t?t.indices?"indices":"repeat":"indices";var m=s[u];n||(n=Object.keys(r)),c.sort&&n.sort(c.sort);for(var h=0;h<n.length;++h){var g=n[h];c.skipNulls&&null===r[g]||l(d,f(r[g],g,m,c.strictNullHandling,c.skipNulls,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.formatter,c.encodeValuesOnly,c.charset))}var v=d.join(c.delimiter),b=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),v.length>0?b+v:""}},"./node_modules/qs/lib/utils.js":function(e,t,n){"use strict";var r=Object.prototype.hasOwnProperty,i=Array.isArray,o=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),s=function(e,t){for(var n=t&&t.plainObjects?Object.create(null):{},r=0;r<e.length;++r)void 0!==e[r]&&(n[r]=e[r]);return n};e.exports={arrayToObject:s,assign:function(e,t){return Object.keys(t).reduce((function(e,n){return e[n]=t[n],e}),e)},combine:function(e,t){return[].concat(e,t)},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var o=t[r],s=o.obj[o.prop],a=Object.keys(s),c=0;c<a.length;++c){var l=a[c],u=s[l];"object"==typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:s,prop:l}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(i(n)){for(var r=[],o=0;o<n.length;++o)void 0!==n[o]&&r.push(n[o]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(e){return r}},encode:function(e,t,n){if(0===e.length)return e;var r=e;if("symbol"==typeof e?r=Symbol.prototype.toString.call(e):"string"!=typeof e&&(r=String(e)),"iso-8859-1"===n)return escape(r).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var i="",s=0;s<r.length;++s){var a=r.charCodeAt(s);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?i+=r.charAt(s):a<128?i+=o[a]:a<2048?i+=o[192|a>>6]+o[128|63&a]:a<55296||a>=57344?i+=o[224|a>>12]+o[128|a>>6&63]+o[128|63&a]:(s+=1,a=65536+((1023&a)<<10|1023&r.charCodeAt(s)),i+=o[240|a>>18]+o[128|a>>12&63]+o[128|a>>6&63]+o[128|63&a])}return i},isBuffer:function(e){return!(!e||"object"!=typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},merge:function e(t,n,o){if(!n)return t;if("object"!=typeof n){if(i(t))t.push(n);else{if(!t||"object"!=typeof t)return[t,n];(o&&(o.plainObjects||o.allowPrototypes)||!r.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(n);var a=t;return i(t)&&!i(n)&&(a=s(t,o)),i(t)&&i(n)?(n.forEach((function(n,i){if(r.call(t,i)){var s=t[i];s&&"object"==typeof s&&n&&"object"==typeof n?t[i]=e(s,n,o):t.push(n)}else t[i]=n})),t):Object.keys(n).reduce((function(t,i){var s=n[i];return r.call(t,i)?t[i]=e(t[i],s,o):t[i]=s,t}),a)}}},"./packages/giphy/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"getGiphyApi",(function(){return o})),n.d(t,"giphyStickersToTrelloStickers",(function(){return s})),n.d(t,"mapTrelloLocaleToGiphyLocale",(function(){return c}));var r=n("./node_modules/@giphy/js-fetch-api/dist/index.js"),i=n("./node_modules/memoize-one/dist/memoize-one.esm.js"),o=Object(i.default)((function(){return new r.GiphyFetch("DOl4PIGDk4srrYJzMgI0KiTrL2qM2IG4")})),s=function(e,t){return e.map((function(e){var n=e.images.fixed_width_small,r=n.url;t&&e.images.preview.webp&&(r=e.images.preview.webp);var i=e.images.fixed_width_small_still,o=parseInt(n.width),s=parseInt(n.height);if(o>s){if(s/o<.75)return null}else if(o/s<.75)return null;return{url:n.url,scaled:[{url:r,width:o,height:s}],stillUrl:i.url,stillScaled:[{url:i.url,width:o,height:s}]}})).filter((function(e){return!!e}))},a={"en-AU":"en","en-GB":"en","en-US":"en","pt-BR":"pt","zh-Hans":"zh-CN","zh-Hant":"zh-TW"},c=function(e){return a[e]?a[e]:e}},"./packages/nachos/icons/collection.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"CollectionIcon",(function(){return a}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),s=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5a2 2 0 012-2h6a2 2 0 012 2H7zm0 1a2 2 0 00-2 2h14a2 2 0 00-2-2H7zm-2 5h14v8H5v-8zm-2 0a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8zm12 4H9v-1a1 1 0 10-2 0v2a1 1 0 001 1h8a1 1 0 001-1v-2a1 1 0 10-2 0v1z",fill:"currentColor"}))},a=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,a=e.color,c=e.label;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:a,label:c||"CollectionIcon",glyph:s})}},"./packages/nachos/icons/copy.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),s=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5 16V4.992C5 3.892 5.902 3 7.009 3H15v2H7v11H5zm3 3a2 2 0 002 2h8a2 2 0 002-2V8a2 2 0 00-2-2h-8a2 2 0 00-2 2v11zm2-11v11h8V8h-8z",fill:"currentColor"}))},a=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,a=e.color,c=e.label;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:a,label:c||"CopyIcon",glyph:s})}},"./packages/nachos/icons/download.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"DownloadIcon",(function(){return a}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),s=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{d:"M16.062 5.48c.256-.04.516-.062.777-.062C19.644 5.419 22 7.62 22 10.498 22 13.409 19.615 16 16.9 16h-2.881v-1.993H16.9c1.657 0 3.115-1.663 3.115-3.508 0-1.779-1.469-3.087-3.104-3.087h-.012c-.389 0-.686.051-.97.15l-.17.063c-.605.248-.875-.246-.875-.246l-.15-.267c-.73-1.347-2.201-2.096-3.716-2.119a4.139 4.139 0 00-4.069 3.644l-.046.34s-.071.525-.665.525a.022.022 0 00-.013.003.019.019 0 01-.01.003h-.254c-1.136 0-1.976.958-1.976 2.158 0 1.205.987 2.341 2.07 2.341h3.964V16H6.055C3.895 16 2 13.955 2 11.665c0-2 1.312-3.663 3.138-4.074.707-2.707 3.053-4.552 5.886-4.59 1.975.02 3.901.9 5.038 2.48z",fill:"currentColor"}),i.a.createElement("path",{d:"M9.29 17.291a.983.983 0 011.397 0l.314.317v-7.601C11 9.45 11.447 9 12 9s1 .45 1 1.006v7.647l.313-.315a.983.983 0 011.398 0 1 1 0 010 1.408l-1.92 1.933a1.08 1.08 0 01-.78.32l-.01.001a.99.99 0 01-.475-.12 1.084 1.084 0 01-.272-.2L9.289 18.7a1 1 0 010-1.409z",fill:"currentColor"}))},a=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,a=e.color,c=e.label;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:a,label:c||"DownloadIcon",glyph:s})}},"./packages/nachos/src/components/Textfield/Textfield.less":function(e,t,n){var r=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/Textfield/Textfield.less");"string"==typeof r&&(r=[[e.i,r,""]]);var i={hmr:!0,transform:void 0,insertInto:void 0};n("./node_modules/style-loader/lib/addStyles.js")(r,i);r.locals&&(e.exports=r.locals)},"./packages/nachos/textfield.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"Textfield",(function(){return ie})),n.d(t,"TextfieldClasses",(function(){return Z}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),s=n.n(o),a=n("./node_modules/tslib/tslib.es6.js"),c=n("./node_modules/@atlaskit/analytics-next/dist/esm/createAndFireEvent.js"),l=n("./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsContext.js"),u=n("./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),d=n("./node_modules/@atlaskit/theme/dist/esm/components/Theme.js"),p=n("./node_modules/@atlaskit/theme/dist/esm/utils/createTheme.js"),f=n("./node_modules/@atlaskit/theme/dist/esm/constants.js"),m=n("./node_modules/@atlaskit/theme/dist/esm/colors.js"),h={light:m.N20,dark:m.DN20},g={light:m.R400,dark:m.R400},v={light:m.N10,dark:m.DN10},b={light:m.N0,dark:m.DN10},y={light:m.N30,dark:m.DN30},w={light:m.N40,dark:m.DN40},k={light:m.B100,dark:m.B75},j={light:"transparent",dark:"transparent"},x={light:m.N900,dark:m.DN600},_={light:m.N70,dark:m.DN90},O={light:m.N100,dark:m.DN90},C={light:{backgroundColor:v.light,backgroundColorFocus:h.light,backgroundColorHover:h.light,borderColor:v.light,borderColorFocus:k.light,textColor:_.light},dark:{backgroundColor:v.dark,backgroundColorFocus:h.dark,backgroundColorHover:h.dark,borderColor:v.dark,borderColorFocus:k.dark,textColor:_.dark}},S={light:{backgroundColor:v.light,backgroundColorFocus:b.light,backgroundColorHover:y.light,borderColor:g.light,borderColorFocus:k.light},dark:{backgroundColor:v.dark,backgroundColorFocus:b.dark,backgroundColorHover:y.dark,borderColor:g.dark,borderColorFocus:k.dark}},E={standard:v,subtle:j,none:j},P={standard:b,subtle:b,none:j},T={standard:y,subtle:y,none:j},D={standard:w,subtle:j,none:j},A={standard:k,subtle:k,none:j},B=function(e){var t=e.appearance,n=e.isFocused,r=e.isDisabled,i=e.isInvalid,o=e.mode;return r?n?{borderColor:C[o].borderColorFocus}:{borderColor:C[o].borderColor}:i?n?{borderColor:S[o].borderColorFocus}:{borderColor:S[o].borderColor}:n?{borderColor:A[t][o]}:{borderColor:D[t][o]}},R=function(e){var t=e.isDisabled,n=e.mode;return t?C[n].textColor:O[n]},L=function(e){return{"&::-webkit-input-placeholder":{color:R(e)},"&::-moz-placeholder":{color:R(e),opacity:1},"&::-ms-input-placeholder":{color:R(e)},"&:-ms-input-placeholder":{color:R(e)}}},M=function(e){var t=e.width;if(!t)return"100%";switch(t){case"xsmall":return"80px";case"small":return"160px";case"medium":return"240px";case"large":return"320px";case"xlarge":return"480px";default:return t+"px"}},N=Object(p.a)((function(e){return{container:Object(a.__assign)(Object(a.__assign)(Object(a.__assign)({alignItems:"center"},(t=e,n=t.appearance,r=t.isFocused,i=t.isHovered,o=t.isDisabled,s=t.isInvalid,c=t.mode,o?r?{backgroundColor:C[c].backgroundColorFocus}:i?{backgroundColor:C[c].backgroundColorHover}:{backgroundColor:C[c].backgroundColor}:s?r?{backgroundColor:S[c].backgroundColorFocus}:i?{backgroundColor:S[c].backgroundColorHover}:{backgroundColor:S[c].backgroundColor}:r?{backgroundColor:P[n][c]}:i?{backgroundColor:T[n][c]}:{backgroundColor:E[n][c]})),B(e)),{borderRadius:"3px",borderWidth:"2px",borderStyle:"none"===e.appearance?"none":"solid",boxSizing:"border-box",color:e.isDisabled?C[e.mode].textColor:x[e.mode],cursor:e.isDisabled?"not-allowed":"text",display:"flex",flex:"1 1 100%",fontSize:Object(f.e)()+"px",justifyContent:"space-between",maxWidth:M(e),overflow:"hidden",transition:"background-color 0.2s ease-in-out, border-color 0.2s ease-in-out",wordWrap:"break-word",verticalAlign:"top",pointerEvents:"auto"}),input:Object(a.__assign)({backgroundColor:"transparent",border:0,boxSizing:"border-box",color:"inherit",cursor:"inherit",fontFamily:e.isMonospaced?Object(f.d)():"inherit",fontSize:Object(f.e)()+"px",minWidth:"0",outline:"none",padding:(e.isCompact?Object(f.g)()/2:Object(f.g)())+"px "+(Object(f.g)()-2)+"px",width:"100%",height:(e.isCompact?3.5*Object(f.g)():4.5*Object(f.g)())/Object(f.e)()+"em",lineHeight:2.5*Object(f.g)()/Object(f.e)(),"&[disabled]":{WebkitTextFillColor:"unset",WebkitOpacity:1},"&::-ms-clear":{display:"none"},"&:invalid":{boxShadow:"none"}},L(e))};var t,n,r,i,o,s,c})),I=n("./node_modules/@atlaskit/textfield/dist/esm/version.json"),U=n("./node_modules/@emotion/core/dist/core.browser.esm.js");function F(e){var t=e.elemAfterInput,n=e.elemBeforeInput,r=e.isDisabled,i=e.isReadOnly,o=e.isRequired,s=e.onMouseDown,c=e.onMouseEnter,l=e.onMouseLeave,u=e.onBlur,d=e.onFocus,p=e.theme,f=e.innerRef,m=e.testId,h=Object(a.__rest)(e,["elemAfterInput","elemBeforeInput","isDisabled","isReadOnly","isRequired","onMouseDown","onMouseEnter","onMouseLeave","onBlur","onFocus","theme","innerRef","testId"]),g={onFocus:d,onBlur:u,disabled:r,readOnly:i,required:o};var v=Object(a.__assign)(Object(a.__assign)({},h),g),b={onMouseDown:s,onMouseEnter:c,onMouseLeave:l};return Object(U.b)("div",Object(a.__assign)({},b,{css:p.container}),n,Object(U.b)("input",Object(a.__assign)({},v,{css:p.input,ref:f,"data-testid":m})),t)}var V=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isFocused:!1,isHovered:!1},t.input=null,t.handleOnFocus=function(e){t.setState({isFocused:!0}),t.props.onFocus&&t.props.onFocus(e)},t.handleOnBlur=function(e){t.setState({isFocused:!1}),t.props.onBlur&&t.props.onBlur(e)},t.handleOnMouseDown=function(e){"INPUT"!==e.target.tagName&&e.preventDefault(),t.input&&!t.props.isDisabled&&document.activeElement!==t.input&&t.input.focus(),t.props.onMouseDown&&t.props.onMouseDown(e)},t.onMouseEnter=function(){t.props.isDisabled||t.setState({isHovered:!0})},t.onMouseLeave=function(){t.props.isDisabled||t.setState({isHovered:!1})},t.setInputRef=function(e){t.input=e;var n=t.props.forwardedRef;n&&("object"==typeof n&&(n.current=e),"function"==typeof n&&n(e))},t}return Object(a.__extends)(t,e),t.prototype.render=function(){var e=this,t=this.state,n=t.isFocused,r=t.isHovered,o=this.props,s=(o.createAnalyticsEvent,o.forwardedRef,o.appearance),c=o.isCompact,l=o.isDisabled,u=o.isInvalid,p=o.isRequired,f=o.isReadOnly,m=o.isMonospaced,h=o.theme,g=o.width,v=o.elemAfterInput,b=o.elemBeforeInput,y=o.testId,w=Object(a.__rest)(o,["createAnalyticsEvent","forwardedRef","appearance","isCompact","isDisabled","isInvalid","isRequired","isReadOnly","isMonospaced","theme","width","elemAfterInput","elemBeforeInput","testId"]);return i.a.createElement(N.Provider,{value:h},i.a.createElement(d.a.Consumer,null,(function(t){var o=t.mode;return i.a.createElement(N.Consumer,{appearance:s,mode:o,width:g,isDisabled:l,isCompact:c,isMonospaced:m,isFocused:n,isHovered:r,isInvalid:u},(function(t){return i.a.createElement(F,Object(a.__assign)({},w,{isDisabled:l,isReadOnly:f,isRequired:p,theme:t,onBlur:e.handleOnBlur,onFocus:e.handleOnFocus,onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onMouseDown:e.handleOnMouseDown,elemAfterInput:v,elemBeforeInput:b,innerRef:e.setInputRef,testId:y}))}))})))},t.defaultProps={appearance:"standard",isCompact:!1,isMonospaced:!1,isInvalid:!1,isRequired:!1,isReadOnly:!1,isDisabled:!1},t}(i.a.Component),z=i.a.forwardRef((function(e,t){return i.a.createElement(V,Object(a.__assign)({},e,{forwardedRef:t}))})),$=Object(c.a)("atlaskit"),H=Object(l.a)({componentName:"textField",packageName:I.name,packageVersion:I.version})(Object(u.a)({onBlur:$({action:"blurred",actionSubject:"textField",attributes:{componentName:"textField",packageName:I.name,packageVersion:I.version}}),onFocus:$({action:"focused",actionSubject:"textField",attributes:{componentName:"textField",packageName:I.name,packageVersion:I.version}})})(z)),G=n("./packages/nachos/tokens.ts"),q=n("./packages/nachos/src/components/Textfield/Textfield.less"),K=n.n(q);function W(){return(W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){X(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function X(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Z={BASE:"".concat(G.GLOBAL_NAMESPACE_PREFIX).concat(G.TextfieldClassnameBase),LABEL:"".concat(G.GLOBAL_NAMESPACE_PREFIX).concat(G.TextfieldClassnameBase,"__").concat(G.ComponentClassnameLabel),STATIC:"".concat(G.GLOBAL_NAMESPACE_PREFIX).concat(G.TextfieldClassnameBase,"--").concat(G.ComponentClassnameStatic)},ee={[G.ComponentAppearanceDefault]:{[G.ComponentAppearanceDefault]:{backgroundColor:G.TextfieldDefaultBackgroundColor,boxShadow:"inset 0 0 0 ".concat(G.TextfieldDefaultBoxShadowWidth," ").concat(G.TextfieldDefaultBoxShadowColor),color:G.TextfieldDefaultColor,fontSize:G.TextfieldDefaultFontSize,padding:"".concat(G.TextfieldDefaultPaddingY," ").concat(G.TextfieldDefaultPaddingX),lineHeight:G.TextfieldDefaultLineHeight,transition:G.TextfieldDefaultTransition},[G.ComponentStateHover]:{backgroundColor:G.TextfieldDefaultHoverBackgroundColor,boxShadow:"inset 0 0 0 ".concat(G.TextfieldDefaultBoxShadowWidth," ").concat(G.TextfieldDefaultHoverBoxShadowColor)},[G.ComponentStateFocus]:{backgroundColor:G.TextfieldDefaultFocusBackgroundColor,boxShadow:"inset 0 0 0 ".concat(G.TextfieldDefaultBoxShadowWidth," ").concat(G.TextfieldDefaultFocusBoxShadowColor)},[G.ComponentStateInvalid]:{boxShadow:"inset 0 0 0 ".concat(G.TextfieldDefaultBoxShadowWidth," ").concat(G.TextfieldDefaultInvalidBoxShadowColor)},[G.ComponentStateDisabled]:{backgroundColor:G.TextfieldDefaultDisabledBackgroundColor,boxShadow:"inset 0 0 0 ".concat(G.TextfieldDefaultBoxShadowWidth," ").concat(G.TextfieldDefaultDisabledBoxShadowColor)}},[G.ComponentAppearanceSubtle]:{[G.ComponentAppearanceDefault]:{backgroundColor:G.TextfieldSubtleBackgroundColor,boxShadow:G.TextfieldSubtleBoxShadowColor,color:G.TextfieldSubtleColor},[G.ComponentStateHover]:{backgroundColor:G.TextfieldSubtleHoverBackgroundColor},[G.ComponentStateFocus]:{backgroundColor:G.TextfieldSubtleFocusBackgroundColor}},[G.ComponentAppearanceNone]:{[G.ComponentAppearanceDefault]:{backgroundColor:G.TextfieldNoneBackgroundColor,boxShadow:G.TextfieldNoneBoxShadowColor},[G.ComponentStateHover]:{backgroundColor:G.TextfieldNoneHoverBackgroundColor,boxShadow:G.TextfieldNoneBoxShadowColor},[G.ComponentStateFocus]:{backgroundColor:G.TextfieldNoneFocusBackgroundColor,boxShadow:G.TextfieldNoneBoxShadowColor}}},te={[G.ComponentAppearanceDefault]:{[G.ComponentAppearanceDefault]:{color:G.TextfieldPlaceholderDefaultColor}},[G.ComponentAppearanceSubtle]:{[G.ComponentAppearanceDefault]:{color:G.TextfieldPlaceholderSubtleColor}},[G.ComponentAppearanceNone]:{[G.ComponentAppearanceDefault]:{},[G.ComponentStateHover]:{}}},ne=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ee,i=r[G.ComponentAppearanceDefault],o=r[G.ComponentAppearanceDefault][G.ComponentAppearanceDefault],s=r[e]||i,a=s[t]||i[t];return a[n]?a[n]:s[G.ComponentAppearanceDefault][n]?s[G.ComponentAppearanceDefault][n]:i[t][n]?i[t][n]:o[n]},re=function(e,t){var n=e(t),r=n.container,i=n.input,o=t.appearance,s=t.isDisabled,a=t.isInvalid,c=t.isFocused,l=t.isHovered,u=G.ComponentAppearanceDefault;l&&(u=G.ComponentStateHover),c&&(u=G.ComponentStateFocus),a&&(u=G.ComponentStateInvalid),s&&(u=G.ComponentStateDisabled);var d=o;"standard"===o&&(d=G.ComponentAppearanceDefault);r.borderColor,r.borderWidth,r.borderStyle;var p=Y(r,["borderColor","borderWidth","borderStyle"]),f=(i.fontFamily,Y(i,["fontFamily"]));return{container:Q({},p,{backgroundColor:ne(d,u,"backgroundColor"),border:"none",boxShadow:ne(d,u,"boxShadow"),color:ne(d,u,"color"),cursor:ne(d,u,"cursor"),lineHeight:ne(d,u,"lineHeight"),transition:ne(d,u,"transition"),maxHeight:G.TextfieldDefaultMaxHeight,padding:"0"}),input:Q({},f,{padding:ne(d,u,"padding"),"&::placeholder":{color:ne(d,G.ComponentAppearanceDefault,"color",te)}})}},ie=function(e){var t=e.appearance,n=e.children,r=e.className,o=e.label,a=Y(e,["appearance","children","className","label"]),c=s()({[Z.BASE]:!0,[K.a[Z.BASE]]:!0},r),l=e.name;l||(l=K.a[Z.BASE]);var u=o;"string"==typeof o&&(u=i.a.createElement("label",{htmlFor:l,className:K.a[Z.LABEL]},o));var d=t;return t===G.ComponentAppearanceDefault&&(d="standard"),i.a.createElement(i.a.Fragment,null,u,i.a.createElement(H,W({appearance:d,theme:re,className:c,name:l},a),n))}},"./resources/images/cc.png":function(e,t,n){e.exports=n.p+"images/cc.d906fe5c1274c56c5571.png"},"./resources/images/collections/business-class-feature-roadmap.png":function(e,t,n){e.exports=n.p+"images/collections/business-class-feature-roadmap.04c368f4479f478b6705.png"},"./resources/images/stickers/check.png":function(e,t,n){e.exports=n.p+"images/stickers/check.90e26477b42f93cf816e.png"},"./resources/images/stickers/check@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/check@2x.5168d92437a5fc166632.png"},"./resources/images/stickers/clock.png":function(e,t,n){e.exports=n.p+"images/stickers/clock.5bd7338f370c3fd7238d.png"},"./resources/images/stickers/clock@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/clock@2x.b678287abafc2d8c99f3.png"},"./resources/images/stickers/frown.png":function(e,t,n){e.exports=n.p+"images/stickers/frown.49afc75f79a5719a3871.png"},"./resources/images/stickers/frown@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/frown@2x.c414ef32894f9c987314.png"},"./resources/images/stickers/heart.png":function(e,t,n){e.exports=n.p+"images/stickers/heart.cc9d955a9ae38ff99b64.png"},"./resources/images/stickers/heart@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/heart@2x.51a19b35bc5092e9e276.png"},"./resources/images/stickers/huh.png":function(e,t,n){e.exports=n.p+"images/stickers/huh.405fd9e6997ac365e4da.png"},"./resources/images/stickers/huh@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/huh@2x.4a513d5705f0f89b365f.png"},"./resources/images/stickers/laugh.png":function(e,t,n){e.exports=n.p+"images/stickers/laugh.31ce444242a6f930b521.png"},"./resources/images/stickers/laugh@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/laugh@2x.6a4570e57d1e3df87014.png"},"./resources/images/stickers/pete-alert.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-alert.90e3c39fb39d5d79e8e2.png"},"./resources/images/stickers/pete-alert@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-alert@2x.3453c1a26ddd1187e564.png"},"./resources/images/stickers/pete-award.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-award.eb0782174fdd08d4c76a.png"},"./resources/images/stickers/pete-award@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-award@2x.43dd35d5e48a876a50fc.png"},"./resources/images/stickers/pete-broken.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-broken.e0c1fadd8cdf3173a4cf.png"},"./resources/images/stickers/pete-broken@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-broken@2x.6d84909328bf960bdfca.png"},"./resources/images/stickers/pete-busy.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-busy.ef0eb59b05378f25bb0c.png"},"./resources/images/stickers/pete-busy@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-busy@2x.35503951628d67da2c8a.png"},"./resources/images/stickers/pete-completed.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-completed.213df9ec14509a7f0628.png"},"./resources/images/stickers/pete-completed@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-completed@2x.3197b9305f52b722df47.png"},"./resources/images/stickers/pete-confused.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-confused.0d52a88328d4c0196564.png"},"./resources/images/stickers/pete-confused@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-confused@2x.7ff61659ad2cd4837aac.png"},"./resources/images/stickers/pete-ghost.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-ghost.fcb349d429bbaaf873ee.png"},"./resources/images/stickers/pete-ghost@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-ghost@2x.4a28ad313694864c5a66.png"},"./resources/images/stickers/pete-happy.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-happy.ad61d60483a6bdbea532.png"},"./resources/images/stickers/pete-happy@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-happy@2x.0663bc183a0cf0d03949.png"},"./resources/images/stickers/pete-love.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-love.e226d3edc2bc1c9439bc.png"},"./resources/images/stickers/pete-love@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-love@2x.6e461f2c1917d10063fb.png"},"./resources/images/stickers/pete-music.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-music.49ddddf5af19ae49ccc9.png"},"./resources/images/stickers/pete-music@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-music@2x.df6a7a7b952e8826916f.png"},"./resources/images/stickers/pete-shipped.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-shipped.13b817ebec2282c5a7ab.png"},"./resources/images/stickers/pete-shipped@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-shipped@2x.0d9ff936d513aae5a67c.png"},"./resources/images/stickers/pete-sketch.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-sketch.6e17baf06870f4bd1c30.png"},"./resources/images/stickers/pete-sketch@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-sketch@2x.3808b148cca5b1ed3da0.png"},"./resources/images/stickers/pete-space.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-space.ee70c40e8a7906f3adf2.png"},"./resources/images/stickers/pete-space@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-space@2x.aa9cb8354739fb355a4a.png"},"./resources/images/stickers/pete-talk.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-talk.ca098514ef3b83d1e5a7.png"},"./resources/images/stickers/pete-talk@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-talk@2x.217a5d2b04a6dea23726.png"},"./resources/images/stickers/pete-vacation.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-vacation.c50c5371bb78862a587a.png"},"./resources/images/stickers/pete-vacation@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/pete-vacation@2x.060295310e437200bf33.png"},"./resources/images/stickers/rocketship.png":function(e,t,n){e.exports=n.p+"images/stickers/rocketship.484099c2f7dfcfe5fef9.png"},"./resources/images/stickers/rocketship@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/rocketship@2x.5bd888e40e6e27bd733d.png"},"./resources/images/stickers/smile.png":function(e,t,n){e.exports=n.p+"images/stickers/smile.90a8856b7465d57b1ac3.png"},"./resources/images/stickers/smile@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/smile@2x.fa6754c4dd9625bdce76.png"},"./resources/images/stickers/star.png":function(e,t,n){e.exports=n.p+"images/stickers/star.4c68ea50e4ffeeb97df5.png"},"./resources/images/stickers/star@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/star@2x.27460fa90f9753396db3.png"},"./resources/images/stickers/taco-active.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-active.e027fa08f49b43a503a1.png"},"./resources/images/stickers/taco-active@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-active@2x.afe6f31288619ede4f82.png"},"./resources/images/stickers/taco-alert.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-alert.ccbcd6ce73f50359e71a.png"},"./resources/images/stickers/taco-alert@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-alert@2x.60cf2c2b89c387f8c1ed.png"},"./resources/images/stickers/taco-angry.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-angry.0787bf33623b40f2263d.png"},"./resources/images/stickers/taco-angry@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-angry@2x.88141aecd4c8fbdc3ff1.png"},"./resources/images/stickers/taco-celebrate.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-celebrate.20b0c2f6c78ca34d7c3d.png"},"./resources/images/stickers/taco-celebrate@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-celebrate@2x.905a89b9fb1f86774713.png"},"./resources/images/stickers/taco-clean.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-clean.e6462e51e766dbf494e3.png"},"./resources/images/stickers/taco-clean@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-clean@2x.7c593a77fe481b61a2ca.png"},"./resources/images/stickers/taco-confused.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-confused.511723ee0c932684ca39.png"},"./resources/images/stickers/taco-confused@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-confused@2x.06668f130b632bf4ba0d.png"},"./resources/images/stickers/taco-cool.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-cool.f41573409925dd066cb5.png"},"./resources/images/stickers/taco-cool@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-cool@2x.8f4ac7820629d5aac2e2.png"},"./resources/images/stickers/taco-embarrassed.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-embarrassed.b84cc7c1ff4c870a78af.png"},"./resources/images/stickers/taco-embarrassed@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-embarrassed@2x.02663f87e33a2c798280.png"},"./resources/images/stickers/taco-love.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-love.c17c5bf93797d71527ee.png"},"./resources/images/stickers/taco-love@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-love@2x.06ddf78e10598774b89e.png"},"./resources/images/stickers/taco-money.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-money.60cee75a249b57889293.png"},"./resources/images/stickers/taco-money@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-money@2x.f0130dd81ed48f6e4626.png"},"./resources/images/stickers/taco-pixel.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-pixel.9044b8e8153407d9c351.png"},"./resources/images/stickers/taco-pixel@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-pixel@2x.3751a48869a42911093b.png"},"./resources/images/stickers/taco-proto.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-proto.2e050937d34005636192.png"},"./resources/images/stickers/taco-proto@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-proto@2x.51def85cdcf3c1a58cb1.png"},"./resources/images/stickers/taco-reading.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-reading.d38e25e615cbc0d15bea.png"},"./resources/images/stickers/taco-reading@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-reading@2x.0c3110a4622a680fd4a9.png"},"./resources/images/stickers/taco-robot.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-robot.c695266748c83f796b9a.png"},"./resources/images/stickers/taco-robot@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-robot@2x.e1ac5a98088053a8b1ae.png"},"./resources/images/stickers/taco-sleeping.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-sleeping.42698e61c8b85ce46dd0.png"},"./resources/images/stickers/taco-sleeping@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-sleeping@2x.9a51d634e8521dc0e19c.png"},"./resources/images/stickers/taco-trophy.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-trophy.77785938bb3566b20d1e.png"},"./resources/images/stickers/taco-trophy@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/taco-trophy@2x.9143546ce5c8a3e43736.png"},"./resources/images/stickers/thumbsdown.png":function(e,t,n){e.exports=n.p+"images/stickers/thumbsdown.8accff79fb0229cb8940.png"},"./resources/images/stickers/thumbsdown@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/thumbsdown@2x.79d155c5163ee1a67509.png"},"./resources/images/stickers/thumbsup.png":function(e,t,n){e.exports=n.p+"images/stickers/thumbsup.ebab8d33a9e50bfb9272.png"},"./resources/images/stickers/thumbsup@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/thumbsup@2x.6f6cea3566b6fbbc0067.png"},"./resources/images/stickers/warning.png":function(e,t,n){e.exports=n.p+"images/stickers/warning.f8832dabce0aabd9a3b5.png"},"./resources/images/stickers/warning@2x.png":function(e,t,n){e.exports=n.p+"images/stickers/warning@2x.e0197b2fb0cbd4a389d4.png"},"./resources/images/template-create-popover-icon.svg":function(e,t,n){e.exports=n.p+"images/template-create-popover-icon.345574dca58c7c6ceda0.svg"}}]);
//# sourceMappingURL=board-sidebar-view.2db50fb95a2fa6318100.js.map